/*! For license information please see main.1204dc97.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),a=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),k=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var I=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function z(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case I:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case k:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return z(e(t))}catch(dl){}}return null}var P=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},L=[],M=-1;function F(e){return{current:e}}function U(e){0>M||(e.current=L[M],L[M]=null,M--)}function V(e,t){M++,L[M]=e.current,e.current=t}var $=F(null),B=F(null),q=F(null),H=F(null);function W(e,t){switch(V(q,t),V(B,e),V($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sd(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U($),V($,e)}function K(){U($),U(B),U(q)}function G(e){null!==e.memoizedState&&V(H,e);var t=$.current,n=sd(t,e.type);t!==n&&(V(B,e),V($,n))}function Q(e){B.current===e&&(U($),U(B)),H.current===e&&(U(H),Qd._currentValue=R)}var Y=Object.prototype.hasOwnProperty,Z=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,X=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=ve(r):0!==(s&=o)?i=ve(s):n||0!==(n=o&~e)&&(i=ve(n)):0!==(o=r&~a)?i=ve(o):0!==s?i=ve(s):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xe(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ie(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ce(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function je(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:uh(e.type)}var Ae=Math.random().toString(36).slice(2),ze="__reactFiber$"+Ae,Pe="__reactProps$"+Ae,Oe="__reactContainer$"+Ae,De="__reactEvents$"+Ae,Re="__reactListeners$"+Ae,Le="__reactHandles$"+Ae,Me="__reactResources$"+Ae,Fe="__reactMarker$"+Ae;function Ue(e){delete e[ze],delete e[Pe],delete e[De],delete e[Re],delete e[Le]}function Ve(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[ze])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[ze]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Be(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function qe(e){var t=e[Me];return t||(t=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Fe]=!0}var We=new Set,Ke={};function Ge(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Ye,Ze,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xe={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Xe,i)&&(Je.test(i)?et[i]=!0:(Xe[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(dl){var t=dl.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Ze=-1<dl.stack.indexOf("\n    at")?" (<anonymous>)":-1<dl.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Ze}var at=!1;function st(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(dl){var r=dl}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(dl){return"\nError generating stack: "+dl.message+"\n"+dl.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=n?vt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(P(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Et(e,a,t[a])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var zt=null,Pt=null;function Ot(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Pe]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Rt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==zt||null!==Pt)&&($c(),zt&&(t=zt,e=Pt,Pt=zt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Pe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Mt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Mt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Oh){Ft=!1}var Vt=null,$t=null,Bt=null;function qt(){if(Bt)return Bt;var e,t,n=$t,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Bt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Kt(){return!1}function Gt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Qt,Yt,Zt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Gt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Qt=e.screenX-Zt.screenX,Yt=e.screenY-Zt.screenY):Yt=Qt=0,Zt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Gt(nn),an=Gt(h({},nn,{dataTransfer:0})),sn=Gt(h({},en,{relatedTarget:0})),on=Gt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Gt(h({},Jt,{newState:0,oldState:0})),kn=[9,13,27,32],xn=Mt&&"CompositionEvent"in window,Sn=null;Mt&&"documentMode"in document&&(Sn=document.documentMode);var En=Mt&&"TextEvent"in window&&!Sn,_n=Mt&&(!xn||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),In=!1;function Nn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Pn(e,t,n,r){zt?Pt?Pt.push(r):Pt=[r]:zt=r,0<(t=Hu(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Dn=null;function Rn(e){Lu(e,0)}function Ln(e){if(ht(Be(e)))return e}function Mn(e,t){if("change"===e)return t}var Fn=!1;if(Mt){var Un;if(Mt){var Vn="oninput"in document;if(!Vn){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),Vn="function"===typeof $n.oninput}Un=Vn}else Un=!1;Fn=Un&&(!document.documentMode||9<document.documentMode)}function Bn(){On&&(On.detachEvent("onpropertychange",qn),Dn=On=null)}function qn(e){if("value"===e.propertyName&&Ln(Dn)){var t=[];Pn(t,Dn,e,At(e)),Rt(Rn,t)}}function Hn(e,t,n){"focusin"===e?(Bn(),Dn=n,(On=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Bn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Dn)}function Kn(e,t){if("click"===e)return Ln(t)}function Gn(e,t){if("input"===e||"change"===e)return Ln(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Mt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Yn(ar,r)||(ar=r,0<(r=Hu(ir,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Mt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),wr=hr("transitionend"),br=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){br.set(e,t),Ge(t,[e])}kr.push("scrollEnd");var Sr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var _r=[],Tr=0,Ir=0;function Nr(){for(var e=Tr,t=Ir=Tr=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var i=_r[t];_r[t++]=null;var a=_r[t];if(_r[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&zr(n,i,a)}}function Cr(e,t,n,r){_r[Tr++]=e,_r[Tr++]=t,_r[Tr++]=n,_r[Tr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function jr(e,t,n,r){return Cr(e,t,n,r),Pr(e)}function Ar(e,t){return Cr(e,null,null,t),Pr(e)}function zr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Pr(e){if(50<Pc)throw Pc=0,Oc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(e,t,n,r){return new Dr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mr(e,t){var n=e.alternate;return null===n?((n=Rr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,i,a){var o=0;if(r=e,"function"===typeof e)Lr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case I:return(e=Rr(31,n,t,i)).elementType=I,e.lanes=a,e;case g:return Vr(n.children,i,a,t);case y:o=8,i|=24;break;case v:return(e=Rr(12,n,t,2|i)).elementType=v,e.lanes=a,e;case S:return(e=Rr(13,n,t,i)).elementType=S,e.lanes=a,e;case E:return(e=Rr(19,n,t,i)).elementType=E,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:case k:o=10;break e;case b:o=9;break e;case x:o=11;break e;case _:o=14;break e;case T:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Rr(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Vr(e,t,n,r){return(e=Rr(7,e,r,t)).lanes=n,e}function $r(e,t,n){return(e=Rr(6,e,null,t)).lanes=n,e}function Br(e,t,n){return(t=Rr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Hr=0,Wr=null,Kr=0,Gr=[],Qr=0,Yr=null,Zr=1,Jr="";function Xr(e,t){qr[Hr++]=Kr,qr[Hr++]=Wr,Wr=e,Kr=t}function ei(e,t,n){Gr[Qr++]=Zr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Yr=e;var r=Zr;e=Jr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var a=32-fe(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Zr=1<<32-fe(t)+i|n<<i|r,Jr=a+e}else Zr=1<<a|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Xr(e,1),ei(e,1,0))}function ni(e){for(;e===Wr;)Wr=qr[--Hr],qr[Hr]=null,Kr=qr[--Hr],qr[Hr]=null;for(;e===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null,Zr=Gr[--Qr],Gr[Qr]=null}var ri=null,ii=null,ai=!1,si=null,oi=!1,li=Error(s(519));function ci(e){throw mi(Er(Error(s(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[Pe]=r,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Mu(Du[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),kt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Zu(t.textContent,n)?(null!=r.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=r.onScroll&&Mu("scroll",t),null!=r.onScrollEnd&&Mu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!ai)return di(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,pd(e.type)?(e=wd,wd=null,ii=e):ii=n):ii=ri?vd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,ai=!1}function pi(){var e=si;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),si=null),e}function mi(e){null===si?si=[e]:si.push(e)}var gi=F(null),yi=null,vi=null;function wi(e,t,n){V(gi,t._currentValue),t._currentValue=n}function bi(e){e._currentValue=gi.current,U(gi)}function ki(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xi(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ki(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),ki(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Si(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}i=i.return}null!==e&&xi(t,e,n,r),t.flags|=262144}function Ei(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ni(yi,e)}function Ii(e,t){return null===yi&&_i(e),Ni(e,t)}function Ni(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(s(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ci="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},ji=r.unstable_scheduleCallback,Ai=r.unstable_NormalPriority,zi={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pi(){return{controller:new Ci,data:new Map,refCount:0}}function Oi(e){e.refCount--,0===e.refCount&&ji(Ai,(function(){e.controller.abort()}))}var Di=null,Ri=0,Li=0,Mi=null;function Fi(){if(0===--Ri&&null!==Di){null!==Mi&&(Mi.status="fulfilled");var e=Di;Di=null,Li=0,Mi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ui=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Di){var n=Di=[];Ri=0,Li=ju(),Mi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ri++,t.then(Fi,Fi)}(0,t),null!==Ui&&Ui(e,t)};var Vi=F(null);function $i(){var e=Vi.current;return null!==e?e:ic.pooledCache}function Bi(e,t){V(Vi,null===t?Vi.current:t.pool)}function qi(){var e=$i();return null===e?null:{parent:zi._currentValue,pool:e}}var Hi=Error(s(460)),Wi=Error(s(474)),Ki=Error(s(542)),Gi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Zi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Ji=t,Hi}}var Ji=null;function Xi(){if(null===Ji)throw Error(s(459));var e=Ji;return Ji=null,e}function ea(e){if(e===Hi||e===Ki)throw Error(s(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&rc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Pr(e),zr(e,null,n),t}return Cr(e,r,t,n),Pr(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ca(){if(la){if(null!==Mi)throw Mi}}function ua(e,t,n,r){la=!1;var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(sc&f)===f:(r&f)===f){0!==f&&f===Li&&(la=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ta=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),pc|=s,e.lanes=s,e.memoizedState=d}}function da(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var fa=F(null),pa=F(0);function ma(e,t){V(pa,e=hc),V(fa,t),hc=e|t.baseLanes}function ga(){V(pa,hc),V(fa,fa.current)}function ya(){hc=pa.current,U(fa),U(pa)}var va=0,wa=null,ba=null,ka=null,xa=!1,Sa=!1,Ea=!1,_a=0,Ta=0,Ia=null,Na=0;function Ca(){throw Error(s(321))}function ja(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Aa(e,t,n,r,i,a){return va=a,wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Hs:Ws,Ea=!1,a=n(r,i),Ea=!1,Sa&&(a=Pa(t,n,r,i)),za(e),a}function za(e){O.H=qs;var t=null!==ba&&null!==ba.next;if(va=0,ka=ba=wa=null,xa=!1,Ta=0,Ia=null,t)throw Error(s(300));null===e||Io||null!==(e=e.dependencies)&&Ei(e)&&(Io=!0)}function Pa(e,t,n,r){wa=e;var i=0;do{if(Sa&&(Ia=null),Ta=0,Sa=!1,25<=i)throw Error(s(301));if(i+=1,ka=ba=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}O.H=Ks,a=t(n,r)}while(Sa);return a}function Oa(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Ua(t):t,e=e.useState()[0],(null!==ba?ba.memoizedState:null)!==e&&(wa.flags|=1024),t}function Da(){var e=0!==_a;return _a=0,e}function Ra(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function La(e){if(xa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xa=!1}va=0,ka=ba=wa=null,Sa=!1,Ta=_a=0,Ia=null}function Ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ka?wa.memoizedState=ka=e:ka=ka.next=e,ka}function Fa(){if(null===ba){var e=wa.alternate;e=null!==e?e.memoizedState:null}else e=ba.next;var t=null===ka?wa.memoizedState:ka.next;if(null!==t)ka=t,ba=e;else{if(null===e){if(null===wa.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(ba=e).memoizedState,baseState:ba.baseState,baseQueue:ba.baseQueue,queue:ba.queue,next:null},null===ka?wa.memoizedState=ka=e:ka=ka.next=e}return ka}function Ua(e){var t=Ta;return Ta+=1,null===Ia&&(Ia=[]),e=Zi(Ia,e,t),t=wa,null===(null===ka?t.memoizedState:ka.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Hs:Ws),e}function Va(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ua(e);if(e.$$typeof===k)return Ti(e)}throw Error(s(438,String(e)))}function $a(e){var t=null,n=wa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function Ba(e,t){return"function"===typeof t?t(e):t}function qa(e){return Ha(Fa(),ba,e)}function Ha(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(sc&h)===h:(va&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Li&&(d=!0);else{if((va&f)===f){u=u.next,f===Li&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,wa.lanes|=f,pc|=f}h=u.action,Ea&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,wa.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Qn(a,e.memoizedState)&&(Io=!0,d&&null!==(n=Mi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Wa(e){var t=Fa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Qn(a,t.memoizedState)||(Io=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ka(e,t,n){var r=wa,i=Fa(),a=ai;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Qn((ba||i).memoizedState,n);if(o&&(i.memoizedState=n,Io=!0),i=i.queue,gs(2048,8,Ya.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==ka&&1&ka.memoizedState.tag){if(r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Qa.bind(null,r,i,n,t),null),null===ic)throw Error(s(349));a||0!==(124&va)||Ga(r,t,n)}return n}function Ga(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qa(e,t,n,r){t.value=n,t.getSnapshot=r,Za(t)&&Ja(e)}function Ya(e,t,n){return n((function(){Za(t)&&Ja(e)}))}function Za(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Ja(e){var t=Ar(e,2);null!==t&&Lc(t,e,2)}function Xa(e){var t=Ma();if("function"===typeof e){var n=e;if(e=n(),Ea){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:e},t}function es(e,t,n,r){return e.baseState=n,Ha(e,ba,"function"===typeof r?r:Ba)}function ts(e,t,n,r,i){if(Vs(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==O.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ns(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ns(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=O.T,s={};O.T=s;try{var o=n(i,r),l=O.S;null!==l&&l(s,o),rs(e,t,o)}catch(c){as(e,t,c)}finally{O.T=a}}else try{rs(e,t,a=n(i,r))}catch(u){as(e,t,u)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){is(e,t,n)}),(function(n){return as(e,t,n)})):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function as(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ai){var n=ic.formState;if(null!==n){e:{var r=wa;if(ai){if(ii){t:{for(var i=ii,a=oi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=vd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Ma()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=Ms.bind(null,wa,r),r.dispatch=n,r=Xa(!1),a=Us.bind(null,wa,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Ma()).queue=i,n=ts.bind(null,wa,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return us(Fa(),ba,e)}function us(e,t,n){if(t=Ha(e,t,os)[0],e=qa(Ba)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Ua(t)}catch(dl){if(dl===Hi)throw Ki;throw dl}else r=t;var i=(t=Fa()).queue,a=i.dispatch;return n!==t.memoizedState&&(wa.flags|=2048,fs(9,{destroy:void 0,resource:void 0},ds.bind(null,i,n),null)),[r,a,e]}function ds(e,t){e.action=t}function hs(e){var t=Fa(),n=ba;if(null!==n)return us(t,n,e);Fa(),t=t.memoizedState;var r=(n=Fa()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ps(){return Fa().memoizedState}function ms(e,t,n,r){var i=Ma();r=void 0===r?null:r,wa.flags|=e,i.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var i=Fa();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==ba&&null!==r&&ja(r,ba.memoizedState.deps)?i.memoizedState=fs(t,a,n,r):(wa.flags|=e,i.memoizedState=fs(1|t,a,n,r))}function ys(e,t){ms(8390656,8,e,t)}function vs(e,t){gs(2048,8,e,t)}function ws(e,t){return gs(4,2,e,t)}function bs(e,t){return gs(4,4,e,t)}function ks(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function xs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,ks.bind(null,t,e),n)}function Ss(){}function Es(e,t){var n=Fa();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ja(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _s(e,t){var n=Fa();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ja(t,r[1]))return r[0];if(r=e(),Ea){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ts(e,t,n){return void 0===n||0!==(1073741824&va)?e.memoizedState=t:(e.memoizedState=n,e=Rc(),wa.lanes|=e,pc|=e,n)}function Is(e,t,n,r){return Qn(n,t)?n:null!==fa.current?(e=Ts(e,n,r),Qn(e,t)||(Io=!0),e):0===(42&va)?(Io=!0,e.memoizedState=n):(e=Rc(),wa.lanes|=e,pc|=e,t)}function Ns(e,t,n,r,i){var a=D.p;D.p=0!==a&&8>a?a:8;var s=O.T,o={};O.T=o,Us(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Fs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Dc());else Fs(e,t,r,Dc())}catch(u){Fs(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{D.p=a,O.T=s}}function Cs(){}function js(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=As(e).queue;Ns(e,i,t,R,null===n?Cs:function(){return zs(e),n(r)})}function As(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function zs(e){Fs(e,As(e).next.queue,{},Dc())}function Ps(){return Ti(Qd)}function Os(){return Fa().memoizedState}function Ds(){return Fa().memoizedState}function Rs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=aa(t,e=ia(n),n);return null!==r&&(Lc(r,t,n),sa(r,t,n)),t={cache:Pi()},void(e.payload=t)}t=t.return}}function Ls(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Vs(e)?$s(t,n):null!==(n=jr(e,t,n,r))&&(Lc(n,e,r),Bs(n,t,r))}function Ms(e,t,n){Fs(e,t,n,Dc())}function Fs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vs(e))$s(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Qn(o,s))return Cr(e,t,i,0),null===ic&&Nr(),!1}catch(l){}if(null!==(n=jr(e,t,i,r)))return Lc(n,e,r),Bs(n,t,r),!0}return!1}function Us(e,t,n,r){if(r={lane:2,revertLane:ju(),action:r,hasEagerState:!1,eagerState:null,next:null},Vs(e)){if(t)throw Error(s(479))}else null!==(t=jr(e,n,r,2))&&Lc(t,e,2)}function Vs(e){var t=e.alternate;return e===wa||null!==t&&t===wa}function $s(e,t){Sa=xa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}var qs={readContext:Ti,use:Va,useCallback:Ca,useContext:Ca,useEffect:Ca,useImperativeHandle:Ca,useLayoutEffect:Ca,useInsertionEffect:Ca,useMemo:Ca,useReducer:Ca,useRef:Ca,useState:Ca,useDebugValue:Ca,useDeferredValue:Ca,useTransition:Ca,useSyncExternalStore:Ca,useId:Ca,useHostTransitionStatus:Ca,useFormState:Ca,useActionState:Ca,useOptimistic:Ca,useMemoCache:Ca,useCacheRefresh:Ca},Hs={readContext:Ti,use:Va,useCallback:function(e,t){return Ma().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ms(4194308,4,ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var n=Ma();t=void 0===t?null:t;var r=e();if(Ea){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ma();if(void 0!==n){var i=n(t);if(Ea){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ls.bind(null,wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ma().memoizedState=e},useState:function(e){var t=(e=Xa(e)).queue,n=Ms.bind(null,wa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ss,useDeferredValue:function(e,t){return Ts(Ma(),e,t)},useTransition:function(){var e=Xa(!1);return e=Ns.bind(null,wa,e.queue,!0,!1),Ma().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wa,i=Ma();if(ai){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===ic)throw Error(s(349));0!==(124&sc)||Ga(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ys(Ya.bind(null,r,a,e),[e]),r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Qa.bind(null,r,a,n,t),null),n},useId:function(){var e=Ma(),t=ic.identifierPrefix;if(ai){var n=Jr;t="\xab"+t+"R"+(n=(Zr&~(1<<32-fe(Zr)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Na++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ps,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Ma();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Us.bind(null,wa,!0,n),n.dispatch=t,[e,t]},useMemoCache:$a,useCacheRefresh:function(){return Ma().memoizedState=Rs.bind(null,wa)}},Ws={readContext:Ti,use:Va,useCallback:Es,useContext:Ti,useEffect:vs,useImperativeHandle:xs,useInsertionEffect:ws,useLayoutEffect:bs,useMemo:_s,useReducer:qa,useRef:ps,useState:function(){return qa(Ba)},useDebugValue:Ss,useDeferredValue:function(e,t){return Is(Fa(),ba.memoizedState,e,t)},useTransition:function(){var e=qa(Ba)[0],t=Fa().memoizedState;return["boolean"===typeof e?e:Ua(e),t]},useSyncExternalStore:Ka,useId:Os,useHostTransitionStatus:Ps,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es(Fa(),0,e,t)},useMemoCache:$a,useCacheRefresh:Ds},Ks={readContext:Ti,use:Va,useCallback:Es,useContext:Ti,useEffect:vs,useImperativeHandle:xs,useInsertionEffect:ws,useLayoutEffect:bs,useMemo:_s,useReducer:Wa,useRef:ps,useState:function(){return Wa(Ba)},useDebugValue:Ss,useDeferredValue:function(e,t){var n=Fa();return null===ba?Ts(n,e,t):Is(n,ba.memoizedState,e,t)},useTransition:function(){var e=Wa(Ba)[0],t=Fa().memoizedState;return["boolean"===typeof e?e:Ua(e),t]},useSyncExternalStore:Ka,useId:Os,useHostTransitionStatus:Ps,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=Fa();return null!==ba?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$a,useCacheRefresh:Ds},Gs=null,Qs=0;function Ys(e){var t=Qs;return Qs+=1,null===Gs&&(Gs=[]),Zi(Gs,e,t)}function Zs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Js(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xs(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Mr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&Xs(a)===t.type)?(Zs(t=i(t,n.props),n),t.return=e,t):(Zs(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Br(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Zs(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Br(t,e.mode,n)).return=e,t;case T:return h(e,t=(0,t._init)(t._payload),n)}if(P(t)||j(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ys(t),n);if(t.$$typeof===k)return h(e,Ii(e,t),n);Js(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=(i=n._init)(n._payload),r)}if(P(n)||j(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Ys(n),r);if(n.$$typeof===k)return f(e,t,Ii(e,n),r);Js(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(P(r)||j(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Ys(r),i);if(r.$$typeof===k)return y(e,t,n,Ii(t,r),i);Js(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var w=u.key;null!==c;){if(c.key===w){if((w=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===T&&Xs(w)===c.type){n(l,c.sibling),Zs(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Vr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Zs(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(w=u.key;null!==c;){if(c.key===w){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Br(u,l.mode,d)).return=l,l=d}return o(l);case T:return v(l,c,u=(w=u._init)(u._payload),d)}if(P(u))return function(i,s,o,l){for(var c=null,u=null,d=s,p=s=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),s=a(g,s,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(i,d),ai&&Xr(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(s=a(d,s,p),null===u?c=d:u.sibling=d,u=d);return ai&&Xr(i,p),c}for(d=r(d);p<o.length;p++)null!==(m=y(d,i,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),s=a(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),ai&&Xr(i,p),c}(l,c,u,d);if(j(u)){if("function"!==typeof(w=j(u)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var w=f(i,p,v.value,c);if(null===w){null===p&&(p=g);break}e&&p&&null===w.alternate&&t(i,p),o=a(w,o,m),null===d?u=w:d.sibling=w,d=w,p=g}if(v.done)return n(i,p),ai&&Xr(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,m),null===d?u=v:d.sibling=v,d=v);return ai&&Xr(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=a(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach((function(e){return t(i,e)})),ai&&Xr(i,m),u}(l,c,u=w.call(u),d)}if("function"===typeof u.then)return v(l,c,Ys(u),d);if(u.$$typeof===k)return v(l,c,Ii(l,u),d);Js(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=$r(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Qs=0;var i=v(e,t,n,r);return Gs=null,i}catch(dl){if(dl===Hi||dl===Ki)throw dl;var a=Rr(29,dl,null,e.mode);return a.lanes=r,a.return=e,a}}}var to=eo(!0),no=eo(!1),ro=F(null),io=null;function ao(e){var t=e.alternate;V(co,1&co.current),V(ro,e),null===io&&(null===t||null!==fa.current||null!==t.memoizedState)&&(io=e)}function so(e){if(22===e.tag){if(V(co,co.current),V(ro,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){V(co,co.current),V(ro,ro.current)}function lo(e){U(ro),io===e&&(io=null),U(co)}var co=F(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=ia(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Lc(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=ia(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Lc(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=ia(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=aa(e,r,n))&&(Lc(t,e,n),sa(t,e,n))}};function po(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,a))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function wo(e){console.error(e)}function bo(e){yo(e)}function ko(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function xo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function So(e,t,n){return(n=ia(n)).tag=3,n.payload={element:null},n.callback=function(){ko(e,t)},n}function Eo(e){return(e=ia(e)).tag=3,e}function _o(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){xo(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){xo(t,n,r),"function"!==typeof i&&(null===_c?_c=new Set([this]):_c.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var To=Error(s(461)),Io=!1;function No(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Co(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return _i(t),r=Aa(e,t,n,s,a,i),o=Da(),null===e||Io?(ai&&o&&ti(t),t.flags|=1,No(e,t,r,i),t.child):(Ra(e,t,i),Qo(e,t,i))}function jo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Lr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ao(e,t,a,r,i))}if(a=e.child,!Yo(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Mr(a,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Yn(a,r)&&e.ref===t.ref){if(Io=!1,t.pendingProps=r=a,!Yo(e,i))return t.lanes=e.lanes,Qo(e,t,i);0!==(131072&e.flags)&&(Io=!0)}}return Do(e,t,n,r,i)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Po(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Po(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Bi(0,null!==a?a.cachePool:null),null!==a?ma(t,a):ga(),so(t)}else null!==a?(Bi(0,a.cachePool),ma(t,a),oo(),t.memoizedState=null):(null!==e&&Bi(0,null),ga(),oo());return No(e,t,i,n),t.child}function Po(e,t,n,r){var i=$i();return i=null===i?null:{parent:zi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Bi(0,null),ga(),so(t),null!==e&&Si(e,t,r,!0),null}function Oo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Do(e,t,n,r,i){return _i(t),n=Aa(e,t,n,r,void 0,i),r=Da(),null===e||Io?(ai&&r&&ti(t),t.flags|=1,No(e,t,n,i),t.child):(Ra(e,t,i),Qo(e,t,i))}function Ro(e,t,n,r,i,a){return _i(t),t.updateQueue=null,n=Pa(t,r,n,i),za(e),r=Da(),null===e||Io?(ai&&r&&ti(t),t.flags|=1,No(e,t,n,a),t.child):(Ra(e,t,a),Qo(e,t,a))}function Lo(e,t,n,r,i){if(_i(t),null===t.stateNode){var a=Or,s=n.contextType;"object"===typeof s&&null!==s&&(a=Ti(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=fo,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},na(t),s=n.contextType,a.context="object"===typeof s&&null!==s?Ti(s):Or,a.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ho(t,n,s,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&fo.enqueueReplaceState(a,a.state,null),ua(t,r,a,i),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=go(n,o);a.props=l;var c=a.context,u=n.contextType;s=Or,"object"===typeof u&&null!==u&&(s=Ti(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&mo(t,a,r,s),ta=!1;var h=t.memoizedState;a.state=h,ua(t,r,a,i),ca(),c=t.memoizedState,o||h!==c||ta?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ta||po(t,n,l,r,h,c,s))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ra(e,t),u=go(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&mo(t,a,r,l),ta=!1,h=t.memoizedState,a.state=h,ua(t,r,a,i),ca();var f=t.memoizedState;s!==d||h!==f||ta||null!==e&&null!==e.dependencies&&Ei(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ta||po(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ei(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Oo(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):No(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Qo(e,t,i),e}function Mo(e,t,n,r){return fi(),t.flags|=256,No(e,t,n,r),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uo(e){return{baseLanes:e,cachePool:qi()}}function Vo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function $o(e,t,n){var r,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?ao(t):oo(),ai){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Zr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Rr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=i.children,i=i.fallback,a?(oo(),c=qo({mode:"hidden",children:c},a=t.mode),i=Vr(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=Uo(n),a.childLanes=Vo(e,r,n),t.memoizedState=Fo,i):(ao(t),Bo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(ao(t),t.flags&=-257,t=Ho(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),a=i.fallback,c=t.mode,i=qo({mode:"visible",children:i.children},c),(a=Vr(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=Uo(n),i.childLanes=Vo(e,r,n),t.memoizedState=Fo,t=a);else if(ao(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ho(e,t,n)}else if(Io||Si(e,t,n,!1),r=0!==(n&e.childLanes),Io||r){if(null!==(r=ic)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ne(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Ar(e,i),Lc(r,e,i),To;"$?"===c.data||Gc(),t=Ho(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vd(c.nextSibling),ri=t,ai=!0,si=null,oi=!1,null!==e&&(Gr[Qr++]=Zr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Zr=e.id,Jr=e.overflow,Yr=t),(t=Bo(t,i.children)).flags|=4096);return t}return a?(oo(),a=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Mr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Mr(u,a):(a=Vr(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=Uo(n):(null!==(l=c.cachePool)?(u=zi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Vo(e,r,n),t.memoizedState=Fo,i):(ao(t),e=(n=e.child).sibling,(n=Mr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Bo(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Rr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ho(e,t,n){return to(t,e.child,null,n),(e=Bo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ki(e.return,t,n)}function Ko(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Go(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(No(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(co,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ko(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ko(t,!0,n,null,a);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ei(e))}function Zo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Io=!0;else{if(!Yo(e,n)&&0===(128&t.flags))return Io=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),wi(0,zi,e.memoizedState.cache),fi();break;case 27:case 5:G(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:wi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ao(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$o(e,t,n):(ao(t),null!==(e=Qo(e,t,n))?e.sibling:null);ao(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,zo(e,t,n);case 24:wi(0,zi,e.memoizedState.cache)}return Qo(e,t,n)}(e,t,n);Io=0!==(131072&e.flags)}else Io=!1,ai&&0!==(1048576&t.flags)&&ei(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===x){t.tag=11,t=Co(null,t,r,e,n);break e}if(i===_){t.tag=14,t=jo(null,t,r,e,n);break e}}throw t=z(r)||r,Error(s(306,t,""))}Lr(r)?(e=go(r,e),t.tag=1,t=Lo(null,t,r,e,n)):(t.tag=0,t=Do(null,t,r,e,n))}return t;case 0:return Do(e,t,t.type,t.pendingProps,n);case 1:return Lo(e,t,r=t.type,i=go(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ra(e,t),ua(t,r,null,n);var o=t.memoizedState;if(r=o.cache,wi(0,zi,r),r!==a.cache&&xi(t,[zi],n,!0),ca(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Mo(e,t,r,n);break e}if(r!==i){mi(i=Er(Error(s(424)),t)),t=Mo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vd(e.firstChild),ri=t,ai=!0,si=null,oi=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Qo(e,t,n);break e}No(e,t,r,n)}t=t.child}return t;case 26:return Oo(e,t),null===e?(n=Cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=id(q.current).createElement(n))[ze]=t,r[Pe]=e,td(r,n,e),He(r),t.stateNode=r):t.memoizedState=Cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ai&&(r=t.stateNode=kd(t.type,t.pendingProps,q.current),ri=t,oi=!0,i=ii,pd(t.type)?(wd=i,ii=vd(r.firstChild)):ii=i),No(e,t,t.pendingProps.children,n),Oo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=vd(r.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),G(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,od(i,a)?r=null:null!==o&&od(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Aa(e,t,Oa,null,null,n),Qd._currentValue=i),Oo(e,t),No(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return $o(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):No(e,t,r,n),t.child;case 11:return Co(e,t,t.type,t.pendingProps,n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wi(0,t.type,r.value),No(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,_i(t),r=r(i=Ti(i)),t.flags|=1,No(e,t,r,n),t.child;case 14:return jo(e,t,t.type,t.pendingProps,n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 19:return Go(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Mr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return zo(e,t,n);case 24:return _i(t),r=Ti(zi),null===e?(null===(i=$i())&&(i=ic,a=Pi(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},na(t),wi(0,zi,i)):(0!==(e.lanes&n)&&(ra(e,t),ua(t,null,null,n),ca()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),wi(0,zi,r)):(r=a.cache,wi(0,zi,r),r!==i.cache&&xi(t,[zi],n,!0))),No(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Jo(e){e.flags|=4}function Xo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!$d(t)){if(null!==(t=ro.current)&&((4194048&sc)===sc?null!==io:(62914560&sc)!==sc&&0===(536870912&sc)||t!==io))throw Ji=Gi,Wi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bi(zi),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Jo(t),null!==n?(nl(t),Xo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jo(t),nl(t),Xo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Jo(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=$.current,hi(t)?ui(t):(e=kd(i,r,n),t.stateNode=e,Jo(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=$.current,hi(t))ui(t);else{switch(i=id(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[ze]=t,e[Pe]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(td(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=q.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Zu(e.nodeValue,n)))||ci(t)}else(e=id(e).createTextNode(r))[ze]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ze]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&Vu(t.stateNode.containerInfo),nl(t),null;case 10:return bi(t.type),nl(t),null;case 19:if(U(co),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)tl(i,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=uo(e))){for(t.flags|=128,tl(i,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return V(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Sc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return nl(t),null}else 2*te()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,V(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),ya(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Vi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bi(zi),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bi(zi),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(co),null;case 4:return K(),null;case 10:return bi(t.type),null;case 22:case 23:return lo(t),ya(),null!==e&&U(Vi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bi(zi),null;default:return null}}function al(e,t){switch(ni(t),t.tag){case 3:bi(zi),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:lo(t);break;case 19:U(co);break;case 10:bi(t.type);break;case 22:case 23:lo(t),ya(),null!==e&&U(Vi);break;case 24:bi(zi)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){du(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){du(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){du(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(r){du(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){du(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){du(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){du(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){du(e,t,a)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){du(e,e.return,i)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Xu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Xu(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,a,i);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||Xu(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&Xu(e,t,i,a,r,c)}return t=l,n=o,r=p,void(null!=f?wt(e,!!n,f,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&Xu(e,t,o,i,r,a)}return void bt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Xu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Xu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&ed(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||ed(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Xu(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Xu(e,t,h,f,r,p)}(r,e.type,n,t),r[Pe]=t}catch(i){du(e,e.return,i)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function wl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);td(t,r,n),t[ze]=e,t[Pe]=n}catch(a){du(e,e.return,a)}}var bl=!1,kl=!1,xl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,El=null;function _l(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&r&&sl(5,n);break;case 1:if(Ml(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){du(n,n.return,s)}else{var i=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){du(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ml(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(s){du(n,n.return,s)}}break;case 27:null===t&&4&r&&wl(n);case 26:case 5:Ml(e,n),null===t&&4&r&&fl(n),512&r&&ul(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&r&&Al(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||kl,i=bl;var a=kl;bl=r,(kl=t)&&!a?Ul(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),bl=i,kl=a}break;case 30:break;default:Ml(e,n)}}function Tl(e){var t=e.alternate;null!==t&&(e.alternate=null,Tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Il=null,Nl=!1;function Cl(e,t,n){for(n=n.child;null!==n;)jl(e,t,n),n=n.sibling}function jl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:kl||hl(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:kl||hl(n,t);var r=Il,i=Nl;pd(n.type)&&(Il=n.stateNode,Nl=!1),Cl(e,t,n),xd(n.stateNode),Il=r,Nl=i;break;case 5:kl||hl(n,t);case 6:if(r=Il,i=Nl,Il=null,Cl(e,t,n),Nl=i,null!==(Il=r))if(Nl)try{(9===Il.nodeType?Il.body:"HTML"===Il.nodeName?Il.ownerDocument.body:Il).removeChild(n.stateNode)}catch(s){du(n,t,s)}else try{Il.removeChild(n.stateNode)}catch(s){du(n,t,s)}break;case 18:null!==Il&&(Nl?(md(9===(e=Il).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Nh(e)):md(Il,n.stateNode));break;case 4:r=Il,i=Nl,Il=n.stateNode.containerInfo,Nl=!0,Cl(e,t,n),Il=r,Nl=i;break;case 0:case 11:case 14:case 15:kl||ol(2,n,t),kl||ol(4,n,t),Cl(e,t,n);break;case 1:kl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:kl=(r=kl)||null!==n.memoizedState,Cl(e,t,n),kl=r;break;default:Cl(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Nh(e)}catch(n){du(t,t.return,n)}}function zl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Il=l.stateNode,Nl=!1;break e}break;case 5:Il=l.stateNode,Nl=!1;break e;case 3:case 4:Il=l.stateNode.containerInfo,Nl=!0;break e}l=l.return}if(null===Il)throw Error(s(160));jl(a,o,i),Il=null,Nl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Ol=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Rl(e),4&r&&(ol(3,e,e.return),sl(3,e),ol(5,e,e.return));break;case 1:Pl(t,e),Rl(e),512&r&&(kl||null===n||hl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ol;if(Pl(t,e),Rl(e),512&r&&(kl||null===n||hl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Fe]||a[ze]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),td(a,r,n),a[ze]=e,He(a),r=a;break e;case"link":var o=Ud("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}td(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=Ud("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}td(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[ze]=e,He(a),r=a}e.stateNode=r}else Vd(i,e.type,e.stateNode);else e.stateNode=Dd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Vd(i,e.type,e.stateNode):Dd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Rl(e),512&r&&(kl||null===n||hl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Rl(e),512&r&&(kl||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{xt(i,"")}catch(p){du(e,e.return,p)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(xl=!0);break;case 6:if(Pl(t,e),Rl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){du(e,e.return,p)}}break;case 3:if(Fd=null,i=Ol,Ol=_d(t.containerInfo),Pl(t,e),Ol=i,Rl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Nh(t.containerInfo)}catch(p){du(e,e.return,p)}xl&&(xl=!1,Ll(e));break;case 4:r=Ol,Ol=_d(e.stateNode.containerInfo),Pl(t,e),Rl(e),Ol=r;break;case 12:default:Pl(t,e),Rl(e);break;case 13:Pl(t,e),Rl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,zl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=kl;if(bl=u||i,kl=d||c,Pl(t,e),kl=d,bl=u,Rl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||kl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){du(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){du(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,zl(e,n))));break;case 19:Pl(t,e),Rl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,zl(e,r)));case 30:case 21:}}function Rl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,gl(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(xt(a,""),n.flags&=-33),vl(e,gl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;yl(e,gl(e),o);break;default:throw Error(s(161))}}catch(l){du(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:xd(t.stateNode);case 26:case 5:hl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Ul(i,a,n),sl(4,a);break;case 1:if(Ul(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){du(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)da(l[i],o)}catch(c){du(r,r.return,c)}}n&&64&s&&ll(a),ul(a,a.return);break;case 27:wl(a);case 26:case 5:Ul(i,a,n),n&&null===r&&4&s&&fl(a),ul(a,a.return);break;case 12:Ul(i,a,n);break;case 13:Ul(i,a,n),n&&4&s&&Al(i,a);break;case 22:null===a.memoizedState&&Ul(i,a,n),ul(a,a.return);break;case 30:break;default:Ul(i,a,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oi(n))}function $l(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e)));break;case 12:if(2048&i){Bl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){du(t,t.return,l)}}else Bl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?Bl(e,t,n,r):Wl(e,t):2&a._visibility?Bl(e,t,n,r):(a._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Vl(s,t);break;case 24:Bl(e,t,n,r),2048&i&&$l(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Hl(a,s,o,l,i),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Hl(a,s,o,l,i):Wl(a,s):(u._visibility|=2,Hl(a,s,o,l,i)),i&&2048&c&&Vl(s.alternate,s);break;case 24:Hl(a,s,o,l,i),i&&2048&c&&$l(s.alternate,s);break;default:Hl(a,s,o,l,i)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wl(n,r),2048&i&&Vl(r.alternate,r);break;case 24:Wl(n,r),2048&i&&$l(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(s(475));var r=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=jd(n.href),a=e.querySelector(Ad(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void He(a);a=e.ownerDocument||e,n=zd(n),(i=Sd.get(i))&&Ld(n,i),He(a=a.createElement("link"));var o=a;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),td(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Ol;Ol=_d(e.stateNode.containerInfo),Gl(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,ec(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Zl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Zl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Zl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,ec(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function ec(e,t){for(;null!==El;){var n=El;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,El=r;else e:for(n=e;null!==El;){var i=(r=El).sibling,a=r.return;if(Tl(r),r===n){El=null;break e}if(null!==i){i.return=a,El=i;break e}El=a}}}var tc={getCacheForType:function(e){var t=Ti(zi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,rc=0,ic=null,ac=null,sc=0,oc=0,lc=null,cc=!1,uc=!1,dc=!1,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=0,wc=null,bc=null,kc=!1,xc=0,Sc=1/0,Ec=null,_c=null,Tc=0,Ic=null,Nc=null,Cc=0,jc=0,Ac=null,zc=null,Pc=0,Oc=null;function Dc(){if(0!==(2&rc)&&0!==sc)return sc&-sc;if(null!==O.T){return 0!==Li?Li:ju()}return je()}function Rc(){0===yc&&(yc=0===(536870912&sc)||ai?xe():536870912);var e=ro.current;return null!==e&&(e.flags|=32),yc}function Lc(e,t,n){(e!==ic||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(qc(e,0),Vc(e,sc,yc,!1)),_e(e,n),0!==(2&rc)&&e===ic||(e===ic&&(0===(2&rc)&&(mc|=n),4===fc&&Vc(e,sc,yc,!1)),Su(e))}function Mc(e,t,n){if(0!==(6&rc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),i=r?function(e,t){var n=rc;rc|=2;var r=Wc(),i=Kc();ic!==e||sc!==t?(Ec=null,Sc=te()+500,qc(e,t)):uc=be(e,t);e:for(;;)try{if(0!==oc&&null!==ac){t=ac;var a=lc;t:switch(oc){case 1:oc=0,lc=null,eu(e,t,a,1);break;case 2:case 9:if(Qi(a)){oc=0,lc=null,Xc(t);break}t=function(){2!==oc&&9!==oc||ic!==e||(oc=7),Su(e)},a.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Qi(a)?(oc=0,lc=null,Xc(t)):(oc=0,lc=null,eu(e,t,a,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||$d(o)){oc=0,lc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,tu(u)):ac=null}break t}}oc=0,lc=null,eu(e,t,a,5);break;case 6:oc=0,lc=null,eu(e,t,a,6);break;case 8:Bc(),fc=6;break e;default:throw Error(s(462))}}Zc();break}catch(d){Hc(e,d)}return vi=yi=null,O.H=r,O.A=i,rc=n,null!==ac?0:(ic=null,sc=0,Nr(),fc)}(e,t):Qc(e,t,!0),a=r;;){if(0===i){uc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!a||Uc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=wc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=a,mc|=a,i=4;break e}a=bc,bc=i,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){qc(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,yc,!cc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=xc+300-te())){if(Vc(r,t,yc,!cc),0!==we(r,0,!0))break e;r.timeoutHandle=cd(Fc.bind(null,r,n,bc,Ec,kc,t,yc,mc,vc,cc,a,2,-0,0),i)}else Fc(r,n,bc,Ec,kc,t,yc,mc,vc,cc,a,0,-0,0)}break}i=Qc(e,t,!1),a=!1}Su(e)}function Fc(e,t,n,r,i,a,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Bd={stylesheets:null,count:0,unsuspend:qd},Ql(t),null!==(h=function(){if(null===Bd)throw Error(s(475));var e=Bd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,a,n,r,i,o,l,c,d,1,f,p)),void Vc(e,a,o,!u);ru(e,t,a,n,r,i,o,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Qn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~gc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-fe(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&Te(e,n,t)}function $c(){return 0!==(6&rc)||(Eu(0,!1),!1)}function Bc(){if(null!==ac){if(0===oc)var e=ac.return;else vi=yi=null,La(e=ac),Gs=null,Qs=0,e=ac;for(;null!==e;)al(e.alternate,e),e=e.return;ac=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),ic=e,ac=n=Mr(e.current,null),sc=t,oc=0,lc=null,cc=!1,uc=be(e,t),dc=!1,vc=yc=gc=mc=pc=fc=0,bc=wc=null,kc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),a=1<<i;t|=e[i],r&=~a}return hc=t,Nr(),n}function Hc(e,t){wa=null,O.H=qs,t===Hi||t===Ki?(t=Xi(),oc=3):t===Wi?(t=Xi(),oc=4):oc=t===To?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===ac&&(fc=1,ko(e,Er(t,e.current)))}function Wc(){var e=O.H;return O.H=qs,null===e?qs:e}function Kc(){var e=O.A;return O.A=tc,e}function Gc(){fc=4,cc||(4194048&sc)!==sc&&null!==ro.current||(uc=!0),0===(134217727&pc)&&0===(134217727&mc)||null===ic||Vc(ic,sc,yc,!1)}function Qc(e,t,n){var r=rc;rc|=2;var i=Wc(),a=Kc();ic===e&&sc===t||(Ec=null,qc(e,t)),t=!1;var s=fc;e:for(;;)try{if(0!==oc&&null!==ac){var o=ac,l=lc;switch(oc){case 8:Bc(),s=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=oc;if(oc=0,lc=null,eu(e,o,l,c),n&&uc){s=0;break e}break;default:c=oc,oc=0,lc=null,eu(e,o,l,c)}}Yc(),s=fc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,rc=r,O.H=i,O.A=a,null===ac&&(ic=null,sc=0,Nr()),s}function Yc(){for(;null!==ac;)Jc(ac)}function Zc(){for(;null!==ac&&!X();)Jc(ac)}function Jc(e){var t=Zo(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?tu(e):ac=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ro(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Ro(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:La(t);default:al(n,t),t=Zo(n,t=ac=Fr(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?tu(e):ac=t}function eu(e,t,n,r){vi=yi=null,La(t),Gs=null,Qs=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===io?Gc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(s(435,n.tag))}return hu(e,r,i),Gc(),!1}if(ai)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Er(e=Error(s(422),{cause:r}),n))):(r!==li&&mi(Er(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Er(r,n),oa(e,i=So(e.stateNode,r,i)),4!==fc&&(fc=2)),!1;var a=Error(s(520),{cause:r});if(a=Er(a,n),null===wc?wc=[a]:wc.push(a),4!==fc&&(fc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,oa(n,e=So(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===_c||!_c.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,_o(i=Eo(i),e,n,r),oa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,sc))return fc=1,ko(e,Er(n,e.current)),void(ac=null)}catch(a){if(null!==i)throw ac=i,a;return fc=1,ko(e,Er(n,e.current)),void(ac=null)}32768&t.flags?(ai||1===r?e=!0:uc||0!==(536870912&sc)?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,cc);e=t.return;var n=rl(t.alternate,t,hc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===fc&&(fc=5)}function nu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);fc=6,ac=null}function ru(e,t,n,r,i,a,o,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==Tc);if(0!==(6&rc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Te(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,a|=Ir,o,l,c),e===ic&&(ac=ic=null,sc=0),Nc=t,Ic=e,Cc=n,jc=a,Ac=i,zc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Z(ae,(function(){return cu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=D.p,D.p=2,o=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nd=rh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rh=!1,El=t;null!==El;)if(e=(t=El).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,El=e;else for(;null!==El;){switch(a=(t=El).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=go(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){du(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,El=e;break}El=t.return}}(e,t)}finally{rc=o,D.p=i,O.T=r}}Tc=1,iu(),au(),su()}}function iu(){if(1===Tc){Tc=0;var e=Ic,t=Nc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=rc;rc|=4;try{Dl(t,e);var a=rd,s=er(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&Xn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=Jn(o,m),v=Jn(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var w=d.createRange();w.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(w),f.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),f.addRange(w))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var b=d[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}rh=!!nd,rd=nd=null}finally{rc=i,D.p=r,O.T=n}}e.current=t,Tc=2}}function au(){if(2===Tc){Tc=0;var e=Ic,t=Nc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=rc;rc|=4;try{_l(e,t.alternate,t)}finally{rc=i,D.p=r,O.T=n}}Tc=3}}function su(){if(4===Tc||3===Tc){Tc=0,ee();var e=Ic,t=Nc,n=Cc,r=zc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Tc=5:(Tc=0,Nc=Ic=null,ou(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(_c=null),Ce(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=D.p,D.p=2,O.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{O.T=t,D.p=i}}0!==(3&Cc)&&lu(),Su(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Oc?Pc++:(Pc=0,Oc=e):Pc=0,Eu(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oi(t)))}function lu(e){return iu(),au(),su(),cu()}function cu(){if(5!==Tc)return!1;var e=Ic,t=jc;jc=0;var n=Ce(Cc),r=O.T,i=D.p;try{D.p=32>n?32:n,O.T=null,n=Ac,Ac=null;var a=Ic,o=Cc;if(Tc=0,Nc=Ic=null,Cc=0,0!==(6&rc))throw Error(s(331));var l=rc;if(rc|=4,Jl(a.current),ql(a,a.current,o,n),rc=l,Eu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(c){}return!0}finally{D.p=i,O.T=r,ou(e,t)}}function uu(e,t,n){t=Er(n,t),null!==(e=aa(e,t=So(e.stateNode,t,2),2))&&(_e(e,2),Su(e))}function du(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_c||!_c.has(r))){e=Er(n,e),null!==(r=aa(t,n=Eo(2),2))&&(_o(n,r,t,e),_e(r,2),Su(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(dc=!0,i.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(sc&n)===n&&(4===fc||3===fc&&(62914560&sc)===sc&&300>te()-xc?0===(2&rc)&&qc(e,0):gc|=n,vc===sc&&(vc=0)),Su(e)}function pu(e,t){0===t&&(t=Se()),null!==(e=Ar(e,t))&&(_e(e,t),Su(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),pu(e,n)}var yu=null,vu=null,wu=!1,bu=!1,ku=!1,xu=0;function Su(e){e!==vu&&null===e.next&&(null===vu?yu=vu=e:vu=vu.next=e),bu=!0,wu||(wu=!0,hd((function(){0!==(6&rc)?Z(re,_u):Tu()})))}function Eu(e,t){if(!ku&&bu){ku=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-fe(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Cu(r,a))}else a=sc,0===(3&(a=we(r,r===ic?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||be(r,a)||(n=!0,Cu(r,a));r=r.next}}while(n);ku=!1}}function _u(){Tu()}function Tu(){bu=wu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ld&&(ld=e,!0);return ld=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,r=yu;null!==r;){var i=r.next,a=Iu(r,t);0===a?(r.next=null,null===n?yu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&a))&&(bu=!0)),r=i}Eu(e,!1)}function Iu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-fe(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=ke(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=sc,n=we(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ce(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=oe}return r=Nu.bind(null,e),n=Z(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Nu(e,t){if(0!==Tc&&5!==Tc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=we(e,e===ic?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),Iu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Nu.bind(null,e):null)}function Cu(e,t){if(lu())return null;Mc(e,t,!0)}function ju(){return 0===xu&&(xu=xe()),xu}function Au(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ct(""+e)}function zu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<kr.length;Pu++){var Ou=kr[Pu];xr(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}xr(fr,"onAnimationEnd"),xr(pr,"onAnimationIteration"),xr(mr,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(gr,"onTransitionRun"),xr(yr,"onTransitionStart"),xr(vr,"onTransitionCancel"),xr(wr,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ru=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){yo(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){yo(u)}i.currentTarget=null,a=l}}}}function Mu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||($u(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),$u(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[Uu]){e[Uu]=!0,We.forEach((function(t){"selectionchange"!==t&&(Ru.has(t)||Fu(t,!1,e),Fu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,Fu("selectionchange",!1,t))}}function $u(e,t,n,r){switch(uh(t)){case 2:var i=ih;break;case 8:i=ah;break;default:i=sh}n=i.bind(null,t,n,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=Ve(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=a=s;continue e}o=o.parentNode}}r=r.return}Rt((function(){var r=a,i=At(n),s=[];e:{var o=br.get(e);if(void 0!==o){var c=Xt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=on;break;case wr:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=bn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Lt(m,f))&&d.push(qu(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===jt||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[Oe])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:Be(c),p=null==u?o:Be(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,Ve(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Wu(p))m++;for(p=0,g=f;g;g=Wu(g))p++;for(;0<m-p;)d=Wu(d),m--;for(;0<p-m;)f=Wu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&Ku(s,o,c,d,!1),null!==u&&null!==h&&Ku(s,h,u,d,!0)}if("select"===(c=(o=r?Be(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Mn;else if(zn(o))if(Fn)y=Gn;else{y=Wn;var v=Hn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(y=Mn):y=Kn;switch(y&&(y=y(e,r))?Pn(s,y,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?Be(r):window,e){case"focusin":(zn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,i)}var w;if(xn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Nn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(_n&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(w=qt()):($t="value"in(Vt=i)?Vt.value:Vt.textContent,jn=!0)),0<(v=Hu(r,b)).length&&(b=new cn(b,e,null,n,i),s.push({event:b,listeners:v}),w?b.data=w:null!==(w=Cn(n))&&(b.data=w))),(w=En?function(e,t){switch(e){case"compositionend":return Cn(t);case"keypress":return 32!==t.which?null:(In=!0,Tn);case"textInput":return(e=t.data)===Tn&&In?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!xn&&Nn(e,t)?(e=qt(),Bt=$t=Vt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Hu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:b}),v.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Au((i[Pe]||null).action),s=r.submitter;s&&null!==(t=(t=s[Pe]||null)?Au(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new Xt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==xu){var e=s?zu(i,s):new FormData(i);js(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?zu(i,s):new FormData(i),js(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}Lu(s,t)}))}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Lt(e,n))&&r.unshift(qu(e,i,a)),null!=(i=Lt(e,t))&&r.push(qu(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Lt(n,a))&&s.unshift(qu(n,c,l)):i||null!=(c=Lt(n,a))&&s.push(qu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Qu,"")}function Zu(e,t){return t=Yu(t),Yu(e)===t}function Ju(){}function Xu(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||xt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&xt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":_t(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Xu(e,t,"name",i.name,i,null),Xu(e,t,"formEncType",i.formEncType,i,null),Xu(e,t,"formMethod",i.formMethod,i,null),Xu(e,t,"formTarget",i.formTarget,i,null)):(Xu(e,t,"encType",i.encType,i,null),Xu(e,t,"method",i.method,i,null),Xu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Ct(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=It.get(n)||n,r)}}function ed(e,t,n,r,i,a){switch(n){case"style":_t(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?xt(e,r):("number"===typeof r||"bigint"===typeof r)&&xt(e,""+r);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Pe]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function td(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Xu(e,t,r,o,n,null)}}return a&&Xu(e,t,"srcSet",n.srcSet,n,null),void(i&&Xu(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var l=r=o=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Xu(e,t,i,d,n,null)}}return yt(e,r,l,c,u,o,a,!1),void dt(e);case"select":for(a in Mu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Xu(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(o in Mu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Xu(e,t,o,l,n,null)}return kt(e,i,a,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Xu(e,t,c,i,n,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(i=0;i<Du.length;i++)Mu(Du[i],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Xu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&ed(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Xu(e,t,l,i,n,null))}var nd=null,rd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ld=null;var cd="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,dd="function"===typeof Promise?Promise:void 0,hd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof dd?function(e){return dd.resolve(null).then(e).catch(fd)}:cd;function fd(e){setTimeout((function(){throw e}))}function pd(e){return"head"===e}function md(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&xd(s.documentElement),2&n&&xd(s.body),4&n)for(xd(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===i)return e.removeChild(a),void Nh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Nh(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var wd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function kd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function xd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var Sd=new Map,Ed=new Set;function _d(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Td=D.d;D.d={f:function(){var e=Td.f(),t=$c();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?zs(t):Td.r(e)},D:function(e){Td.D(e),Nd("dns-prefetch",e,null)},C:function(e,t){Td.C(e,t),Nd("preconnect",e,t)},L:function(e,t,n){Td.L(e,t,n);var r=Id;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=jd(e);break;case"script":a=Pd(e)}Sd.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ad(a))||"script"===t&&r.querySelector(Od(a))||(td(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Td.m(e,t);var n=Id;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Pd(e)}if(!Sd.has(a)&&(e=h({rel:"modulepreload",href:e},t),Sd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(a)))return}td(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Td.X(e,t);var n=Id;if(n&&e){var r=qe(n).hoistableScripts,i=Pd(e),a=r.get(i);a||((a=n.querySelector(Od(i)))||(e=h({src:e,async:!0},t),(t=Sd.get(i))&&Md(e,t),He(a=n.createElement("script")),td(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Td.S(e,t,n);var r=Id;if(r&&e){var i=qe(r).hoistableStyles,a=jd(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Ad(a)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(a))&&Ld(e,n);var l=s=r.createElement("link");He(l),td(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Rd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){Td.M(e,t);var n=Id;if(n&&e){var r=qe(n).hoistableScripts,i=Pd(e),a=r.get(i);a||((a=n.querySelector(Od(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=Sd.get(i))&&Md(e,t),He(a=n.createElement("script")),td(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Id="undefined"===typeof document?null:document;function Nd(e,t,n){var r=Id;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Ed.has(i)||(Ed.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(td(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Cd(e,t,n,r){var i,a,o,l,c=(c=q.current)?_d(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=jd(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=jd(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ad(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),u||(i=c,a=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),td(a,"link",o),He(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function jd(e){return'href="'+mt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function zd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+mt(e)+'"]'}function Od(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),td(r,"style",i),Rd(r,n.precedence,e),t.instance=r;case"stylesheet":i=jd(n.href);var a=e.querySelector(Ad(i));if(a)return t.state.loading|=4,t.instance=a,He(a),a;r=zd(n),(i=Sd.get(i))&&Ld(r,i),He(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),td(a,"link",r),t.state.loading|=4,Rd(a,n.precedence,e),t.instance=a;case"script":return a=Pd(n.src),(i=e.querySelector(Od(a)))?(t.instance=i,He(i),i):(r=n,(i=Sd.get(a))&&Md(r=h({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),td(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Rd(r,n.precedence,e));return t.instance}function Rd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Ud(e,t,n){if(null===Fd){var r=new Map,i=Fd=new Map;i.set(n,r)}else(r=(i=Fd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Fe]||a[ze]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function $d(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function qd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Gd,e),Wd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var r=n.get(null);else{n=new Map,Wd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:k,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Yd(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Zd(e,t,n,r,i,a,s,o,l,c,u,d){return e=new Yd(e,t,n,s,o,l,c,d),t=1,!0===a&&(t|=24),a=Rr(3,null,null,t),e.current=a,a.stateNode=e,(t=Pi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},na(a),e}function Jd(e){return e?e=Or:Or}function Xd(e,t,n,r,i,a){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=ia(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=aa(e,r,t))&&(Lc(n,0,t),sa(n,e,t))}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function nh(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Lc(t,0,67108864),th(e,67108864)}}var rh=!0;function ih(e,t,n,r){var i=O.T;O.T=null;var a=D.p;try{D.p=2,sh(e,t,n,r)}finally{D.p=a,O.T=i}}function ah(e,t,n,r){var i=O.T;O.T=null;var a=D.p;try{D.p=8,sh(e,t,n,r)}finally{D.p=a,O.T=i}}function sh(e,t,n,r){if(rh){var i=oh(r);if(null===i)Bu(e,t,r,lh,n),wh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hh=bh(hh,e,t,n,r,i),!0;case"dragenter":return fh=bh(fh,e,t,n,r,i),!0;case"mouseover":return ph=bh(ph,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return mh.set(a,bh(mh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,gh.set(a,bh(gh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(wh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var a=$e(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=ve(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-fe(s);o.entanglements[1]|=l,s&=~l}Su(a),0===(6&rc)&&(Sc=te()+500,Eu(0,!1))}}break;case 13:null!==(o=Ar(a,2))&&Lc(o,0,2),$c(),th(a,2)}if(null===(a=oh(r))&&Bu(e,t,r,lh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Bu(e,t,r,null,n)}}function oh(e){return ch(e=At(e))}var lh=null;function ch(e){if(lh=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lh=e,null}function uh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dh=!1,hh=null,fh=null,ph=null,mh=new Map,gh=new Map,yh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wh(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function bh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function kh(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,(function(){if(13===n.tag){var e=Dc();e=Ne(e);var t=Ar(n,e);null!==t&&Lc(t,0,e),th(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&nh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);jt=r,n.target.dispatchEvent(r),jt=null,t.shift()}return!0}function Sh(e,t,n){xh(e)&&n.delete(t)}function Eh(){dh=!1,null!==hh&&xh(hh)&&(hh=null),null!==fh&&xh(fh)&&(fh=null),null!==ph&&xh(ph)&&(ph=null),mh.forEach(Sh),gh.forEach(Sh)}function _h(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Eh)))}var Th=null;function Ih(e){Th!==e&&(Th=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Th===e&&(Th=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ch(r||n))continue;break}var a=$e(n);null!==a&&(e.splice(t,3),t-=3,js(a,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Nh(e){function t(t){return _h(t,e)}null!==hh&&_h(hh,e),null!==fh&&_h(fh,e),null!==ph&&_h(ph,e),mh.forEach(t),gh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)kh(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Pe]||null;if("function"===typeof a)s||Ih(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Pe]||null)o=s.formAction;else if(null!==ch(i))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Ih(n)}}}function Ch(e){this._internalRoot=e}function jh(e){this._internalRoot=e}jh.prototype.render=Ch.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Xd(t.current,Dc(),e,t,null,null)},jh.prototype.unmount=Ch.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),$c(),t[Oe]=null}},jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=je();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&kh(e)}};var Ah=i.version;if("19.1.0"!==Ah)throw Error(s(527,Ah,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u(i),e;if(a===r)return u(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var zh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(zh),de=Ph}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",i=vo,a=wo,l=bo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zd(e,1,!1,null,0,n,r,i,a,l,0,null),e[Oe]=t.current,Vu(e),new Ch(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,i="",a=vo,l=wo,c=bo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Zd(e,1,!0,t,0,r,i,a,l,c,0,u)).context=Jd(null),n=t.current,(i=ia(r=Ne(r=Dc()))).callback=null,aa(n,i,r),n=r,t.current.lanes=n,_e(t,n),Su(t),e[Oe]=t.current,Vu(e),new jh(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var k=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function E(e,t,r,i,a,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(){}function C(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return C((u=e._init)(e._payload),t,i,a,s)}}if(u)return s=s(e),u=""===a?"."+I(e,0):a,k(s)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),C(s,t,i,"",(function(e){return e}))):null!=s&&(_(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+u,s=E(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===a?".":a+":";if(k(e))for(var m=0;m<e.length;m++)u+=C(a=e[m],t,i,o=p+I(a,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=C(a=a.value,t,i,o=p+I(a,m++),s);else if("object"===o){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function j(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var z="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return E(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return E(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.T,n={};x.T=n;try{var r=e(),i=x.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(P,z)}catch(a){z(a)}finally{x.T=t}},t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},t.use=function(e){return x.H.use(e)},t.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},t.useCallback=function(e,t){return x.H.useCallback(e,t)},t.useContext=function(e){return x.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=x.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return x.H.useId()},t.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.H.useMemo(e,t)},t.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},t.useRef=function(e){return x.H.useRef(e)},t.useState=function(e){return x.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,k(e),!m)if(null!==r(c))m=!0,E||(E=!0,S());else{var t=r(u);null!==t&&z(x,t.startTime-e)}}var S,E=!1,_=-1,T=5,I=-1;function N(){return!!y||!(t.unstable_now()-I<T)}function C(){if(y=!1,E){var e=t.unstable_now();I=e;var n=!0;try{e:{m=!1,g&&(g=!1,w(_),_=-1),p=!0;var a=f;try{t:{for(k(e),h=r(c);null!==h&&!(h.expirationTime>e&&N());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,k(e),n=!0;break t}h===r(c)&&i(c),k(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&z(x,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof b)S=function(){b(C)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,A=j.port2;j.port1.onmessage=C,S=function(){A.postMessage(null)}}else S=function(){v(C,0)};function z(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(w(_),_=-1):g=!0,z(x,a-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,E||(E=!0,S()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".e8ec925d.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="strona3:";n.l=(r,i,a,s)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,a,s=r[0],o=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkstrona3=self.webpackChunkstrona3||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r,i=n(43),a=n.t(i,2),s=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:s=!1}=i,u=a.history,p=r.Pop,m=null,g=y();function y(){return(u.state||{idx:null}).idx}function v(){p=r.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:p,location:b.location,delta:t})}function w(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let b={get action(){return p},get location(){return e(a,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(l,v),m=e,()=>{a.removeEventListener(l,v),m=null}},createHref:e=>t(a,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=h(b.location,e,t);n&&n(i,e),g=y()+1;let o=d(i,g),l=b.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(l)}s&&m&&m({action:p,location:b.location,delta:1})},replace:function(e,t){p=r.Replace;let i=h(b.location,e,t);n&&n(i,e),g=y();let a=d(i,g),o=b.createHref(i);u.replaceState(a,"",o),s&&m&&m({action:p,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let i=z(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let a=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=A(i);s=C(a[o],e,r)}return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let o=L([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=b(r.join("/")),o=[];return o.push(...s.map((e=>""===e?a:[a,e].join("/")))),i&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const k=/^:[\w-]+$/,x=3,S=2,E=1,_=10,T=-2,I=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=T),t&&(r+=S),n.filter((e=>!I(e))).reduce(((e,t)=>e+(k.test(t)?x:""===t?E:_)),r)}function C(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:L([a,u.pathname]),pathnameBase:M(L([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=L([a,u.pathnameBase]))}return s}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:s,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function D(e,t){let n=O(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function R(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let a,s=""===e||""===i.pathname,l=s?"/":i.pathname;if(null==l)a=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:F(r),hash:U(i)}}(i,a),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const $=["post","put","patch","delete"],B=(new Set($),["get",...$]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const H=i.createContext(null);const W=i.createContext(null);const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=i.createContext(null);function Z(){return null!=i.useContext(G)}function J(){return Z()||c(!1),i.useContext(G).location}function X(e){i.useContext(K).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(Q);return e?function(){let{router:e}=ue(le.UseNavigateStable),t=he(ce.UseNavigateStable),n=i.useRef(!1);return X((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t])}():function(){Z()||c(!1);let e=i.useContext(H),{basename:t,future:n,navigator:r}=i.useContext(K),{matches:a}=i.useContext(Q),{pathname:s}=J(),o=JSON.stringify(D(a,n.v7_relativeSplatPath)),l=i.useRef(!1);return X((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=R(n,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:L([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[t,r,o,s,e])}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(K),{matches:a}=i.useContext(Q),{pathname:s}=J(),o=JSON.stringify(D(a,r.v7_relativeSplatPath));return i.useMemo((()=>R(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function ne(e,t,n,a){Z()||c(!1);let{navigator:s,static:o}=i.useContext(K),{matches:l}=i.useContext(Q),u=l[l.length-1],d=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let f,m=J();if(t){var g;let e="string"===typeof t?p(t):t;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||c(!1),f=e}else f=m;let v=f.pathname||"/",w=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!o&&n&&n.matches&&n.matches.length>0?n.matches:y(e,{pathname:w});let k=oe(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:L([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:L([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,a);return t&&k?i.createElement(G.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},k):k}function re(){let e=function(){var e;let t=i.useContext(Y),n=de(ce.UseRouteError),r=he(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const ie=i.createElement(re,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Q.Provider,{value:this.props.routeContext},i.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext(H);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Q.Provider,{value:t},r)}function oe(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,r,a)=>{let s,c=!1,h=null,f=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ie,u&&(d<0&&0===a?(p="route-fallback",!1||fe[p]||(fe[p]=!0),c=!0,f=null):d===a&&(c=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,a+1)),g=()=>{let t;return t=s?h:c?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(se,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=i.useContext(H);return t||c(!1),t}function de(e){let t=i.useContext(W);return t||c(!1),t}function he(e){let t=function(){let e=i.useContext(Q);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const fe={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function me(e){let{to:t,replace:n,state:r,relative:a}=e;Z()||c(!1);let{future:s,static:o}=i.useContext(K),{matches:l}=i.useContext(Q),{pathname:u}=J(),d=ee(),h=R(t,D(l,s.v7_relativeSplatPath),u,"path"===a),f=JSON.stringify(h);return i.useEffect((()=>d(JSON.parse(f),{replace:n,state:r,relative:a})),[d,f,a,n,r]),null}function ge(e){c(!1)}function ye(e){let{basename:t="/",children:n=null,location:a,navigationType:s=r.Pop,navigator:o,static:l=!1,future:u}=e;Z()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:d,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},u)})),[d,u,o,l]);"string"===typeof a&&(a=p(a));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:v="default"}=a,w=i.useMemo((()=>{let e=z(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:s}}),[d,f,m,g,y,v,s]);return null==w?null:i.createElement(K.Provider,{value:h},i.createElement(G.Provider,{children:n,value:w}))}function ve(e){let{children:t,location:n}=e;return ne(we(t),n)}new Promise((()=>{}));i.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,we(e.props.children,a));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=we(e.props.children,a)),n.push(s)})),n}var be=n(950),ke=n.t(be,2);function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Ee(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(ew){}new Map;const Te=a.startTransition;ke.flushSync,a.useId;function Ie(e){let{basename:t,children:n,future:r,window:a}=e,s=i.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,o)));let l=s.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=i.useCallback((e=>{d&&Te?Te((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(p)),[l,p]),i.useEffect((()=>pe(r)),[r]),i.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=i.forwardRef((function(e,t){let n,{onClick:r,relative:a,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,m=Se(e,_e),{basename:g}=i.useContext(K),y=!1;if("string"===typeof d&&Ce.test(d)&&(n=d,Ne))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=z(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(ew){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||c(!1);let{basename:r,navigator:a}=i.useContext(K),{hash:s,pathname:o,search:l}=te(e,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:L([r,o])),a.createHref({pathname:u,search:l,hash:s})}(d,{relative:a}),w=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:l}=void 0===t?{}:t,c=ee(),u=J(),d=te(e,{relative:o});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(d);c(e,{replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l})}}),[u,c,d,r,a,n,e,s,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:a,viewTransition:p});return i.createElement("a",xe({},m,{href:n||v,onClick:y||s?r:function(e){r&&r(e),e.defaultPrevented||w(e)},ref:t,target:u}))}));var Ae,ze;function Pe(e){let t=i.useRef(Ee(e)),n=i.useRef(!1),r=J(),a=i.useMemo((()=>function(e,t){let n=Ee(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),s=ee(),o=i.useCallback(((e,t)=>{const r=Ee("function"===typeof e?e(a):e);n.current=!0,s("?"+r,t)}),[s,a]);return[a,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ze||(ze={}));const Oe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Oe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new Re;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function(e){return function(e){const t=Oe(e);return De.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Me=function(e){try{return De.decodeString(e,!0)}catch(ew){console.error("base64Decode failed: ",ew)}return null};function Fe(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Ue=()=>{try{return Fe().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ew){return}const t=e&&Me(e[1]);return t&&JSON.parse(t)})()}catch(ew){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ew}`)}},Ve=e=>{var t,n;return null===(n=null===(t=Ue())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},$e=()=>{var e;return null===(e=Ue())||void 0===e?void 0:e.config},Be=e=>{var t;return null===(t=Ue())||void 0===t?void 0:t[`_${e}`]};class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function He(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function We(e){return(await fetch(e,{credentials:"include"})).ok}const Ke={};let Ge=!1;function Qe(e,t){if("undefined"===typeof window||"undefined"===typeof document||!He(window.location.host)||Ke[e]===t||Ke[e]||Ge)return;function n(e){return`__firebase__banner__${e}`}Ke[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ke))Ke[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Ge=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function Ye(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ze(){var e;const t=null===(e=Ue())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(ew){return!1}}function Je(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Xe(){return!Ze()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function et(){try{return"object"===typeof indexedDB}catch(ew){return!1}}function tt(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class nt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(it,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new nt(n,a,t)}}const it=/\{\$([^}]+)}/g;function at(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(st(n)&&st(a)){if(!at(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function st(e){return null!==e&&"object"===typeof e}function ot(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function lt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ct(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ut{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=dt),void 0===r.error&&(r.error=dt),void 0===r.complete&&(r.complete=dt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(ew){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(ew){"undefined"!==typeof console&&console.error&&console.error(ew)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function dt(){}function ht(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function ft(e){return e&&e._delegate?e._delegate:e}class pt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const mt="[DEFAULT]";class gt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new qe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(ew){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ew){if(r)return null;throw ew}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:mt})}catch(ew){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(ew){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===mt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.component?this.component.multipleInstances?e:mt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class yt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const vt=[];var wt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(wt||(wt={}));const bt={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},kt=wt.INFO,xt={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},St=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=xt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...a)};class Et{constructor(e){this.name=e,this._logLevel=kt,this._logHandler=St,this._userLogHandler=null,vt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?bt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...t),this._logHandler(this,wt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...t),this._logHandler(this,wt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wt.INFO,...t),this._logHandler(this,wt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wt.WARN,...t),this._logHandler(this,wt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...t),this._logHandler(this,wt.ERROR,...t)}}let _t,Tt;const It=new WeakMap,Nt=new WeakMap,Ct=new WeakMap,jt=new WeakMap,At=new WeakMap;let zt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Nt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ct.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Pt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Tt||(Tt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Rt(this),n),Dt(It.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dt(e.apply(Rt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(Rt(this),t,...r);return Ct.set(a,t.sort?t.sort():[t]),Dt(a)}}function Ot(e){return"function"===typeof e?Pt(e):(e instanceof IDBTransaction&&function(e){if(Nt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Nt.set(e,t)}(e),t=e,(_t||(_t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,zt):e);var t}function Dt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Dt(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&It.set(t,e)})).catch((()=>{})),At.set(t,e),t}(e);if(jt.has(e))return jt.get(e);const t=Ot(e);return t!==e&&(jt.set(e,t),At.set(t,e)),t}const Rt=e=>At.get(e);function Lt(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=Dt(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Dt(s.result),e.oldVersion,e.newVersion,Dt(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}const Mt=["get","getKey","getAll","getAllKeys","count"],Ft=["put","add","delete","clear"],Ut=new Map;function Vt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ut.get(t))return Ut.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ft.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Mt.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return Ut.set(t,a),a}zt=(e=>({...e,get:(t,n,r)=>Vt(t,n)||e.get(t,n,r),has:(t,n)=>!!Vt(t,n)||e.has(t,n)}))(zt);class $t{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Bt="@firebase/app",qt="0.13.2",Ht=new Et("@firebase/app"),Wt="@firebase/app-compat",Kt="@firebase/analytics-compat",Gt="@firebase/analytics",Qt="@firebase/app-check-compat",Yt="@firebase/app-check",Zt="@firebase/auth",Jt="@firebase/auth-compat",Xt="@firebase/database",en="@firebase/data-connect",tn="@firebase/database-compat",nn="@firebase/functions",rn="@firebase/functions-compat",an="@firebase/installations",sn="@firebase/installations-compat",on="@firebase/messaging",ln="@firebase/messaging-compat",cn="@firebase/performance",un="@firebase/performance-compat",dn="@firebase/remote-config",hn="@firebase/remote-config-compat",fn="@firebase/storage",pn="@firebase/storage-compat",mn="@firebase/firestore",gn="@firebase/ai",yn="@firebase/firestore-compat",vn="firebase",wn="[DEFAULT]",bn={[Bt]:"fire-core",[Wt]:"fire-core-compat",[Gt]:"fire-analytics",[Kt]:"fire-analytics-compat",[Yt]:"fire-app-check",[Qt]:"fire-app-check-compat",[Zt]:"fire-auth",[Jt]:"fire-auth-compat",[Xt]:"fire-rtdb",[en]:"fire-data-connect",[tn]:"fire-rtdb-compat",[nn]:"fire-fn",[rn]:"fire-fn-compat",[an]:"fire-iid",[sn]:"fire-iid-compat",[on]:"fire-fcm",[ln]:"fire-fcm-compat",[cn]:"fire-perf",[un]:"fire-perf-compat",[dn]:"fire-rc",[hn]:"fire-rc-compat",[fn]:"fire-gcs",[pn]:"fire-gcs-compat",[mn]:"fire-fst",[yn]:"fire-fst-compat",[gn]:"fire-vertex","fire-js":"fire-js",[vn]:"fire-js-all"},kn=new Map,xn=new Map,Sn=new Map;function En(e,t){try{e.container.addComponent(t)}catch(ew){Ht.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,ew)}}function _n(e){const t=e.name;if(Sn.has(t))return Ht.debug(`There were multiple attempts to register component ${t}.`),!1;Sn.set(t,e);for(const n of kn.values())En(n,e);for(const n of xn.values())En(n,e);return!0}function Tn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function In(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Nn=new rt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Cn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new pt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}const jn="11.10.0";function An(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:wn,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Nn.create("bad-app-name",{appName:String(i)});if(n||(n=$e()),!n)throw Nn.create("no-options");const a=kn.get(i);if(a){if(at(n,a.options)&&at(r,a.config))return a;throw Nn.create("duplicate-app",{appName:i})}const s=new yt(i);for(const l of Sn.values())s.addComponent(l);const o=new Cn(n,r,s);return kn.set(i,o),o}function zn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn;const t=kn.get(e);if(!t&&e===wn&&$e())return An();if(!t)throw Nn.create("no-app",{appName:e});return t}function Pn(e,t,n){var r;let i=null!==(r=bn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=[`Unable to register library "${i}" with version "${t}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ht.warn(e.join(" "))}_n(new pt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const On="firebase-heartbeat-store";let Dn=null;function Rn(){return Dn||(Dn=Lt("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(On)}catch(ew){console.warn(ew)}}}).catch((e=>{throw Nn.create("idb-open",{originalErrorMessage:e.message})}))),Dn}async function Ln(e,t){try{const n=(await Rn()).transaction(On,"readwrite"),r=n.objectStore(On);await r.put(t,Mn(e)),await n.done}catch(ew){if(ew instanceof nt)Ht.warn(ew.message);else{const t=Nn.create("idb-set",{originalErrorMessage:null===ew||void 0===ew?void 0:ew.message});Ht.warn(t.message)}}}function Mn(e){return`${e.name}!${e.options.appId}`}class Fn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Vn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Un();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(ew){Ht.warn(ew)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Un(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),$n(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$n(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Le(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(ew){return Ht.warn(ew),""}}}function Un(){return(new Date).toISOString().substring(0,10)}class Vn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!et()&&tt().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Rn()).transaction(On),n=await t.objectStore(On).get(Mn(e));return await t.done,n}catch(ew){if(ew instanceof nt)Ht.warn(ew.message);else{const t=Nn.create("idb-get",{originalErrorMessage:null===ew||void 0===ew?void 0:ew.message});Ht.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ln(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ln(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function $n(e){return Le(JSON.stringify({version:2,heartbeats:e})).length}var Bn;Bn="",_n(new pt("platform-logger",(e=>new $t(e)),"PRIVATE")),_n(new pt("heartbeat",(e=>new Fn(e)),"PRIVATE")),Pn(Bt,qt,Bn),Pn(Bt,qt,"esm2017"),Pn("fire-js","");function qn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Hn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wn=Hn,Kn=new rt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gn=new Et("@firebase/auth");function Qn(e){if(Gn.logLevel<=wt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Gn.error(`Auth (${jn}): ${e}`,...n)}}function Yn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw tr(e,...n)}function Zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return tr(e,...n)}function Jn(e,t,n){const r=Object.assign(Object.assign({},Wn()),{[t]:n});return new rt("auth","Firebase",r).create(t,{appName:e.name})}function Xn(e){return Jn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function er(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Yn(e,"argument-error"),Jn(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Kn.create(e,...n)}function nr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw tr(t,...r)}}function rr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Qn(t),new Error(t)}function ir(e,t){e||rr(t)}function ar(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function sr(){return"http:"===or()||"https:"===or()}function or(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class lr{constructor(e,t){this.shortDelay=e,this.longDelay=t,ir(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(sr()||Je()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function cr(e,t){ir(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ur{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},hr=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fr=new lr(3e4,6e4);function pr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function mr(e,t,n,r){return gr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=ot(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&He(e.emulatorConfig.host)&&(l.credentials="include"),ur.fetch()(await vr(e,e.config.apiHost,n,s),l)}))}async function gr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},dr),t);try{const t=new br(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw kr(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw kr(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw kr(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw kr(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Jn(e,o,s);Yn(e,o)}}catch(ew){if(ew instanceof nt)throw ew;Yn(e,"network-request-failed",{message:String(ew)})}}async function yr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await mr(e,t,n,r,i);return"mfaPendingCredential"in a&&Yn(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function vr(e,t,n,r){const i=`${t}${n}?${r}`,a=e,s=a.config.emulator?cr(e.config,i):`${e.config.apiScheme}://${i}`;if(hr.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(s).toString()}return s}function wr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class br{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Zn(this.auth,"network-request-failed"))),fr.get())}))}}function kr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zn(e,t,r);return i.customData._tokenResponse=n,i}function xr(e){return void 0!==e&&void 0!==e.enterprise}class Sr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return wr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Er(e,t){return mr(e,"GET","/v2/recaptchaConfig",pr(e,t))}async function _r(e,t){return mr(e,"POST","/v1/accounts:lookup",t)}function Tr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(ew){}}function Ir(e){return 1e3*Number(e)}function Nr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Qn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Me(n);return e?JSON.parse(e):(Qn("Failed to decode base64 JWT payload"),null)}catch(ew){return Qn("Caught error parsing JWT payload as JSON",null===ew||void 0===ew?void 0:ew.toString()),null}}function Cr(e){const t=Nr(e);return nr(t,"internal-error"),nr("undefined"!==typeof t.exp,"internal-error"),nr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function jr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(ew){throw ew instanceof nt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(ew)&&e.auth.currentUser===e&&await e.auth.signOut(),ew}}class Ar{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(ew){return void("auth/network-request-failed"===(null===ew||void 0===ew?void 0:ew.code)&&this.schedule(!0))}this.schedule()}}class zr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await jr(e,_r(n,{idToken:r}));nr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?Or(a.providerUserInfo):[],o=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new zr(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Or(e){return e.map((e=>{var{providerId:t}=e,n=qn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Dr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nr(e.idToken,"internal-error"),nr("undefined"!==typeof e.idToken,"internal-error"),nr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Cr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){nr(0!==e.length,"internal-error");const t=Cr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(nr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await gr(e,{},(async()=>{const n=ot({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await vr(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:s,body:n};return e.emulatorConfig&&He(e.emulatorConfig.host)&&(o.credentials="include"),ur.fetch()(a,o)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Dr;return n&&(nr("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(nr("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(nr("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dr,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Rr(e,t){nr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Lr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=qn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await jr(this,this.stsTokenManager.getToken(this.auth,e));return nr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ft(e),r=await n.getIdToken(t),i=Nr(r);nr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Tr(Ir(i.auth_time)),issuedAtTime:Tr(Ir(i.iat)),expirationTime:Tr(Ir(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ft(e);await Pr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(nr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){nr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Pr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(Xn(this.auth));const e=await this.getIdToken();return await jr(this,async function(e,t){return mr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:k,stsTokenManager:x}=t;nr(v&&x,e,"internal-error");const S=Dr.fromJSON(this.name,x);nr("string"===typeof v,e,"internal-error"),Rr(u,e.name),Rr(d,e.name),nr("boolean"===typeof w,e,"internal-error"),nr("boolean"===typeof b,e,"internal-error"),Rr(h,e.name),Rr(f,e.name),Rr(p,e.name),Rr(m,e.name),Rr(g,e.name),Rr(y,e.name);const E=new Lr({uid:v,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return k&&Array.isArray(k)&&(E.providerData=k.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Dr;r.updateFromServerResponse(t);const i=new Lr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Pr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];nr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Or(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new Dr;s.updateFromIdToken(n);const o=new Lr({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new zr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Mr=new Map;function Fr(e){ir(e instanceof Function,"Expected a class definition");let t=Mr.get(e);return t?(ir(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Mr.set(e,t),t)}class Ur{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ur.type="NONE";const Vr=Ur;function $r(e,t,n){return`firebase:${e}:${t}:${n}`}class Br{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=$r(this.userKey,r.apiKey,i),this.fullPersistenceKey=$r("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await _r(this.auth,{idToken:e}).catch((()=>{}));return t?Lr._fromGetAccountInfoResponse(this.auth,t,e):null}return Lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Br(Fr(Vr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Fr(Vr);const a=$r(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await _r(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await Lr._fromGetAccountInfoResponse(e,r,t)}else n=Lr._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(l){}}))),new Br(i,e,n)):new Br(i,e,n)}}function qr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Gr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yr(t))return"Blackberry";if(Zr(t))return"Webos";if(Wr(t))return"Safari";if((t.includes("chrome/")||Kr(t))&&!t.includes("edge/"))return"Chrome";if(Qr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/firefox\//i.test(e)}function Wr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/crios\//i.test(e)}function Gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/iemobile/i.test(e)}function Qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/android/i.test(e)}function Yr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/blackberry/i.test(e)}function Zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/webos/i.test(e)}function Jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Xr(){return function(){const e=Ye();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return Jr(e)||Qr(e)||Zr(e)||Yr(e)||/windows phone/i.test(e)||Gr(e)}function ti(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qr(Ye());break;case"Worker":t=`${qr(Ye())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${jn}/${r}`}class ni{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(ew){r(ew)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(ew){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===ew||void 0===ew?void 0:ew.message})}}}class ri{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ii{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new si(this),this.idTokenSubscription=new si(this),this.beforeStateQueue=new ni(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fr(t)),this._initializationPromise=this.queue((async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Br.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(ew){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await _r(this,{idToken:e}),n=await Lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(In(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==a||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(ew){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(ew)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return nr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(ew){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pr(e)}catch(ew){if("auth/network-request-failed"!==(null===ew||void 0===ew?void 0:ew.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(Xn(this));const t=e?ft(e):null;return t&&nr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&nr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return In(this.app)?Promise.reject(Xn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(Xn(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Fr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return mr(e,"GET","/v2/passwordPolicy",pr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ri(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return mr(e,"POST","/v2/accounts:revokeToken",pr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fr(e)||this._popupRedirectResolver;nr(t,this,"argument-error"),this.redirectPersistenceManager=await Br.create(this,[Fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(nr(s,this,"internal-error"),s.then((()=>{a||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ti(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Gn.logLevel<=wt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Gn.warn(`Auth (${jn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function ai(e){return ft(e)}class si{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ut(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return nr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let oi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function li(e){return oi.loadJS(e)}function ci(e){return`__${e}${Math.floor(1e6*Math.random())}`}class ui{constructor(){this.enterprise=new di}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class di{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hi="NO_RECAPTCHA";class fi{constructor(e){this.type="recaptcha-enterprise",this.auth=ai(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;xr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(hi)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new ui).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Er(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Sr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&xr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=oi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),li(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function pi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new fi(e);let s;if(i)s=hi;else try{s=await a.verify(n)}catch(l){s=await a.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function mi(e,t,n,r,i){var a,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await pi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await pi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await pi(e,t,n);return r(e,i).catch((async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await pi(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await pi(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function gi(e){const t=ai(e),n=await Er(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Sr(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new fi(t).verify()}}function yi(e,t,n){const r=ai(e);nr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=vi(t),{host:s,port:o}=function(e){const t=vi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:wi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:wi(t)}}}(t),l=null===o?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return nr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void nr(at(c,r.config.emulator)&&at(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,He(s)?(We(`${a}//${s}${l}`),Qe("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function vi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class bi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,t){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function ki(e,t){return mr(e,"POST","/v1/accounts:resetPassword",pr(e,t))}async function xi(e,t){return mr(e,"POST","/v1/accounts:signUp",t)}async function Si(e,t){return yr(e,"POST","/v1/accounts:signInWithPassword",pr(e,t))}async function Ei(e,t){return mr(e,"POST","/v1/accounts:sendOobCode",pr(e,t))}async function _i(e,t){return Ei(e,t)}class Ti extends bi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ti(e,t,"password")}static _fromEmailAndCode(e,t){return new Ti(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return mi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Si,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return yr(e,"POST","/v1/accounts:signInWithEmailLink",pr(e,t))}(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return mi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return yr(e,"POST","/v1/accounts:signInWithEmailLink",pr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ii(e,t){return yr(e,"POST","/v1/accounts:signInWithIdp",pr(e,t))}class Ni extends bi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=qn(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Ni(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Ii(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ii(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ii(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ot(t)}return e}}async function Ci(e,t){return mr(e,"POST","/v1/accounts:sendVerificationCode",pr(e,t))}const ji={USER_NOT_FOUND:"user-not-found"};class Ai extends bi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ai({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ai({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return yr(e,"POST","/v1/accounts:signInWithPhoneNumber",pr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await yr(e,"POST","/v1/accounts:signInWithPhoneNumber",pr(e,t));if(n.temporaryProof)throw kr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return yr(e,"POST","/v1/accounts:signInWithPhoneNumber",pr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ji)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ai({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class zi{constructor(e){var t,n,r,i,a,s;const o=lt(ct(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);nr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.lang)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=lt(ct(e)).link,n=t?lt(ct(t)).deep_link_id:null,r=lt(ct(e)).deep_link_id;return(r?lt(ct(r)).link:null)||r||n||t||e}(e);try{return new zi(t)}catch(n){return null}}}class Pi{constructor(){this.providerId=Pi.PROVIDER_ID}static credential(e,t){return Ti._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=zi.parseLink(t);return nr(n,"argument-error"),Ti._fromEmailAndCode(e,n.code,n.tenantId)}}Pi.PROVIDER_ID="password",Pi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Pi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Oi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Di extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ri extends Di{constructor(){super("facebook.com")}static credential(e){return Ni._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ri.credential(t.oauthAccessToken)}catch(n){return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ri.PROVIDER_ID="facebook.com";class Li extends Di{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ni._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Li.credential(n,r)}catch(i){return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com",Li.PROVIDER_ID="google.com";class Mi extends Di{constructor(){super("github.com")}static credential(e){return Ni._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Mi.credential(t.oauthAccessToken)}catch(n){return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com",Mi.PROVIDER_ID="github.com";class Fi extends Di{constructor(){super("twitter.com")}static credential(e,t){return Ni._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Fi.credential(n,r)}catch(i){return null}}}async function Ui(e,t){return yr(e,"POST","/v1/accounts:signUp",pr(e,t))}Fi.TWITTER_SIGN_IN_METHOD="twitter.com",Fi.PROVIDER_ID="twitter.com";class Vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Lr._fromIdTokenResponse(e,n,r),a=$i(n);return new Vi({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=$i(n);return new Vi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function $i(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Bi extends nt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Bi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Bi(e,t,n,r)}}function qi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Bi._fromErrorAndOperation(e,n,t,r);throw n}))}async function Hi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await jr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Vi._forOperation(e,"link",r)}async function Wi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(In(r.app))return Promise.reject(Xn(r));const i="reauthenticate";try{const a=await jr(e,qi(r,i,t,e),n);nr(a.idToken,r,"internal-error");const s=Nr(a.idToken);nr(s,r,"internal-error");const{sub:o}=s;return nr(e.uid===o,r,"user-mismatch"),Vi._forOperation(e,i,a)}catch(ew){throw"auth/user-not-found"===(null===ew||void 0===ew?void 0:ew.code)&&Yn(r,"user-mismatch"),ew}}async function Ki(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(In(e.app))return Promise.reject(Xn(e));const r="signIn",i=await qi(e,r,t),a=await Vi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Gi(e,t){return Ki(ai(e),t)}class Qi{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Yi._fromServerResponse(e,t):"totpInfo"in t?Zi._fromServerResponse(e,t):Yn(e,"internal-error")}}class Yi extends Qi{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Yi(t)}}class Zi extends Qi{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Zi(t)}}function Ji(e,t,n){var r;nr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),nr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),nr("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(nr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(nr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Xi(e){const t=ai(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ea(e,t){const{data:n}=await async function(e,t){const n=ft(e),r=await ki(n,{oobCode:t}),i=r.requestType;switch(nr(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":nr(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":nr(r.mfaInfo,n,"internal-error");default:nr(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=Qi._fromServerResponse(ai(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}(ft(e),t);return n.email}async function ta(e,t){const n=ft(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Ji(n.auth,r,t);const{email:i}=await async function(e,t){return Ei(e,t)}(n.auth,r);i!==e.email&&await e.reload()}function na(e,t,n,r){return ft(e).onAuthStateChanged(t,n,r)}function ra(e,t){return mr(e,"POST","/v2/accounts/mfaEnrollment:start",pr(e,t))}new WeakMap;const ia="__sak";class aa{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ia,"1"),this.storage.removeItem(ia),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class sa extends aa{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ei(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Xr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sa.type="LOCAL";const oa=sa;function la(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function ca(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class ua{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=ca(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return la(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=ca(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=ca(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=la(n);const i=setInterval((()=>{const e=la(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(i)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}ua.type="COOKIE";class da extends aa{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}da.type="SESSION";const ha=da;class fa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new fa(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function pa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}fa.receivers=[];class ma{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((s,o)=>{const l=pa("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function ga(){return window}function ya(){return"undefined"!==typeof ga().WorkerGlobalScope&&"function"===typeof ga().importScripts}const va="firebaseLocalStorageDb",wa="firebaseLocalStorage",ba="fbase_key";class ka{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function xa(e,t){return e.transaction([wa],t?"readwrite":"readonly").objectStore(wa)}function Sa(){const e=indexedDB.open(va,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(wa,{keyPath:ba})}catch(ew){n(ew)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(wa)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(va);return new ka(e).toPromise()}(),t(await Sa()))}))}))}async function Ea(e,t,n){const r=xa(e,!0).put({[ba]:t,value:n});return new ka(r).toPromise()}function _a(e,t){const n=xa(e,!0).delete(t);return new ka(n).toPromise()}class Ta{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Sa()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(ew){if(t++>3)throw ew;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ya()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fa._getInstance(ya()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ma(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sa();return await Ea(e,ia,"1"),await _a(e,ia),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ea(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=xa(e,!1).get(t),r=await new ka(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>_a(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=xa(e,!1).getAll();return new ka(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ta.type="LOCAL";const Ia=Ta;function Na(e,t){return mr(e,"POST","/v2/accounts/mfaSignIn:start",pr(e,t))}ci("rcb"),new lr(3e4,6e4);const Ca="recaptcha";async function ja(e,t,n){var r;if(!e._getRecaptchaConfig())try{await gi(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){nr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=mi(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===hi){nr((null===n||void 0===n?void 0:n.type)===Ca,e,"argument-error");return ra(e,await Aa(e,t,n))}return ra(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{nr("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;nr(a,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=mi(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===hi){nr((null===n||void 0===n?void 0:n.type)===Ca,e,"argument-error");return Na(e,await Aa(e,t,n))}return Na(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=mi(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===hi){nr((null===n||void 0===n?void 0:n.type)===Ca,e,"argument-error");return Ci(e,await Aa(e,t,n))}return Ci(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Aa(e,t,n){nr(n.type===Ca,e,"argument-error");const r=await n.verify();nr("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class za{constructor(e){this.providerId=za.PROVIDER_ID,this.auth=ai(e)}verifyPhoneNumber(e,t){return ja(this.auth,e,ft(t))}static credential(e,t){return Ai._fromVerification(e,t)}static credentialFromResult(e){const t=e;return za.credentialFromTaggedObject(t)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ai._fromTokenResponse(n,r):null}}function Pa(e,t){return t?Fr(t):(nr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}za.PROVIDER_ID="phone",za.PHONE_SIGN_IN_METHOD="phone";class Oa extends bi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ii(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ii(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ii(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Da(e){return Ki(e.auth,new Oa(e),e.bypassAuthState)}function Ra(e){const{auth:t,user:n}=e;return nr(n,t,"internal-error"),Wi(n,new Oa(e),e.bypassAuthState)}async function La(e){const{auth:t,user:n}=e;return nr(n,t,"internal-error"),Hi(n,new Oa(e),e.bypassAuthState)}class Ma{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ew){this.reject(ew)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(ew){this.reject(ew)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Da;case"linkViaPopup":case"linkViaRedirect":return La;case"reauthViaPopup":case"reauthViaRedirect":return Ra;default:Yn(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fa=new lr(2e3,1e4);async function Ua(e,t,n){if(In(e.app))return Promise.reject(Zn(e,"operation-not-supported-in-this-environment"));const r=ai(e);er(e,t,Oi);const i=Pa(r,n);return new Va(r,"signInViaPopup",t,i).executeNotNull()}class Va extends Ma{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nr(e,this.auth,"internal-error"),e}async onExecution(){ir(1===this.filter.length,"Popup operations only handle one event");const e=pa();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Zn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Fa.get())};e()}}Va.currentPopupAction=null;const $a=new Map;class Ba extends Ma{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=$a.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Wa(t),r=Ha(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(ew){e=()=>Promise.reject(ew)}$a.set(this.auth._key(),e)}return this.bypassAuthState||$a.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function qa(e,t){$a.set(e._key(),t)}function Ha(e){return Fr(e._redirectPersistence)}function Wa(e){return $r("pendingRedirect",e.config.apiKey,e.name)}async function Ka(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(In(e.app))return Promise.reject(Xn(e));const r=ai(e),i=Pa(r,t),a=new Ba(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Ga{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ya(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ya(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Zn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qa(e))}saveEventToCache(e){this.cachedEventUids.add(Qa(e)),this.lastProcessedEventTime=Date.now()}}function Qa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ya(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Za=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ja=/^https?/;async function Xa(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return mr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(es(r))return}catch(n){}Yn(e,"unauthorized-domain")}function es(e){const t=ar(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ja.test(n))return!1;if(Za.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ts=new lr(3e4,6e4);function ns(){const e=ga().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function rs(e){return new Promise(((t,n)=>{var r,i,a;function s(){ns(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ns(),n(Zn(e,"network-request-failed"))},timeout:ts.get()})}if(null===(i=null===(r=ga().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ga().gapi)||void 0===a?void 0:a.load)){const t=ci("iframefcb");return ga()[t]=()=>{gapi.load?s():n(Zn(e,"network-request-failed"))},li(`${oi.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw is=null,e}))}let is=null;const as=new lr(5e3,15e3),ss={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},os=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ls(e){const t=e.config;nr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?cr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:jn},i=os.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ot(r).slice(1)}`}async function cs(e){const t=await function(e){return is=is||rs(e),is}(e),n=ga().gapi;return nr(n,e,"internal-error"),t.open({where:document.body,url:ls(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ss,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Zn(e,"network-request-failed"),a=ga().setTimeout((()=>{r(i)}),as.get());function s(){ga().clearTimeout(a),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const us={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ds{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(ew){}}}function hs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},us),{width:r.toString(),height:i.toString(),top:a,left:s}),c=Ye().toLowerCase();n&&(o=Kr(c)?"_blank":n),Hr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Jr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new ds(null);const d=window.open(t||"",o,u);nr(d,e,"popup-blocked");try{d.focus()}catch(ew){}return new ds(d)}const fs="__/auth/handler",ps="emulator/auth/handler",ms=encodeURIComponent("fac");async function gs(e,t,n,r,i,a){nr(e.config.authDomain,e,"auth-domain-config-required"),nr(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:jn,eventId:i};if(t instanceof Oi){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof Di){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${ms}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${fs}`;return cr(t,ps)}(e)}?${ot(o).slice(1)}${c}`}const ys="webStorageSupport";const vs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ha,this._completeRedirectFn=Ka,this._overrideRedirectResult=qa}async _openPopup(e,t,n,r){var i;ir(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return hs(e,await gs(e,t,n,ar(),r),pa())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ga().location.href=e}(await gs(e,t,n,ar(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ir(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await cs(e),n=new Ga(e);return t.register("authEvent",(t=>{nr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ys,{type:ys},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ys];void 0!==i&&t(!!i),Yn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Xa(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ei()||Wr()||Jr()}};var ws="@firebase/auth",bs="1.10.8";class ks{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){nr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xs=Be("authIdTokenMaxAge")||300;let Ss=null;function Es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();const t=Tn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Tn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(at(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Yn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:vs,persistence:[Ia,oa,ha]}),r=Be("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>xs)return;const r=null===t||void 0===t?void 0:t.token;Ss!==r&&(Ss=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){ft(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){ft(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const a=Ve("auth");return a&&yi(n,`http://${a}`),n}var _s;oi={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Zn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},_s="Browser",_n(new pt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;nr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:_s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ti(_s)},c=new ii(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),_n(new pt("auth-internal",(e=>(e=>new ks(e))(ai(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(ws,bs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_s)),Pn(ws,bs,"esm2017");Pn("firebase","11.10.0","app");const Ts="@firebase/installations",Is="0.6.18",Ns=1e4,Cs=`w:${Is}`,js="FIS_v2",As=36e5,zs=new rt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ps(e){return e instanceof nt&&e.code.includes("request-failed")}function Os(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Ds(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Rs(e,t){const n=(await t.json()).error;return zs.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ls(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ms(e,t){let{refreshToken:n}=t;const r=Ls(e);return r.append("Authorization",function(e){return`${js} ${e}`}(n)),r}async function Fs(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Us(e){return new Promise((t=>{setTimeout(t,e)}))}const Vs=/^[cdef][\w-]{21}$/;function $s(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Vs.test(t)?t:""}catch(e){return""}}function Bs(e){return`${e.appName}!${e.appId}`}const qs=new Map;function Hs(e,t){const n=Bs(e);Ws(n,t),function(e,t){const n=Gs();n&&n.postMessage({key:e,fid:t});Qs()}(n,t)}function Ws(e,t){const n=qs.get(e);if(n)for(const r of n)r(t)}let Ks=null;function Gs(){return!Ks&&"BroadcastChannel"in self&&(Ks=new BroadcastChannel("[Firebase] FID Change"),Ks.onmessage=e=>{Ws(e.data.key,e.data.fid)}),Ks}function Qs(){0===qs.size&&Ks&&(Ks.close(),Ks=null)}const Ys="firebase-installations-store";let Zs=null;function Js(){return Zs||(Zs=Lt("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ys)}})),Zs}async function Xs(e,t){const n=Bs(e),r=(await Js()).transaction(Ys,"readwrite"),i=r.objectStore(Ys),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||Hs(e,t.fid),t}async function eo(e){const t=Bs(e),n=(await Js()).transaction(Ys,"readwrite");await n.objectStore(Ys).delete(t),await n.done}async function to(e,t){const n=Bs(e),r=(await Js()).transaction(Ys,"readwrite"),i=r.objectStore(Ys),a=await i.get(n),s=t(a);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||a&&a.fid===s.fid||Hs(e,s.fid),s}async function no(e){let t;const n=await to(e.appConfig,(n=>{const r=function(e){const t=e||{fid:$s(),registrationStatus:0};return ao(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(zs.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=Os(n),s=Ls(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:js,appId:n.appId,sdkVersion:Cs},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await Fs((()=>fetch(a,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Ds(e.authToken)}}throw await Rs("Create Installation",u)}(e,t);return Xs(e.appConfig,n)}catch(ew){throw Ps(ew)&&409===ew.customData.serverCode?await eo(e.appConfig):await Xs(e.appConfig,{fid:t.fid,registrationStatus:0}),ew}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ro(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function ro(e){let t=await io(e.appConfig);for(;1===t.registrationStatus;)await Us(100),t=await io(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await no(e);return n||t}return t}function io(e){return to(e,(e=>{if(!e)throw zs.create("installation-not-found");return ao(e)}))}function ao(e){return 1===(t=e).registrationStatus&&t.registrationTime+Ns<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function so(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${Os(e)}/${n}/authTokens:generate`}(n,t),a=Ms(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const o={installation:{sdkVersion:Cs,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await Fs((()=>fetch(i,l)));if(c.ok){return Ds(await c.json())}throw await Rs("Generate Auth Token",c)}async function oo(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await to(e.appConfig,(r=>{if(!co(r))throw zs.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+As}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await lo(e.appConfig);for(;1===n.authToken.requestStatus;)await Us(100),n=await lo(e.appConfig);const r=n.authToken;return 0===r.requestStatus?oo(e,t):r}(e,n),r;{if(!navigator.onLine)throw zs.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await so(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Xs(e.appConfig,r),n}catch(ew){if(!Ps(ew)||401!==ew.customData.serverCode&&404!==ew.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Xs(e.appConfig,n)}else await eo(e.appConfig);throw ew}}(e,n),n}}));return t?await t:r.authToken}function lo(e){return to(e,(e=>{if(!co(e))throw zs.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Ns<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function co(e){return void 0!==e&&2===e.registrationStatus}async function uo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await no(e);t&&await t}(n);return(await oo(n,t)).token}function ho(e){return zs.create("missing-app-config-values",{valueName:e})}const fo="installations",po=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ho("App Configuration");if(!e.name)throw ho("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ho(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Tn(t,"heartbeat"),_delete:()=>Promise.resolve()}},mo=e=>{const t=Tn(e.getProvider("app").getImmediate(),fo).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await no(t);return r?r.catch(console.error):oo(t).catch(console.error),n.fid}(t),getToken:e=>uo(t,e)}};_n(new pt(fo,po,"PUBLIC")),_n(new pt("installations-internal",mo,"PRIVATE")),Pn(Ts,Is),Pn(Ts,Is,"esm2017");const go="analytics",yo="https://www.googletagmanager.com/gtag/js",vo=new Et("@firebase/analytics"),wo=new rt("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bo(e){if(!e.startsWith(yo)){const t=wo.create("invalid-gtag-resource",{gtagURL:e});return vo.warn(t.message),""}return e}function ko(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function xo(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:bo}),r=document.createElement("script"),i=`${yo}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function So(e,t,n,r){return async function(i){try{for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await ko(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(ew){vo.error(ew)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=s;await async function(e,t,n,r,i,a){const s=r[i];try{if(s)await t[s];else{const e=(await ko(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(ew){vo.error(ew)}e("config",i,a)}(e,t,n,r,i,a)}else if("consent"===i){const[t,n]=s;e("consent",t,n)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(ew){vo.error(ew)}}}const Eo=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function _o(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function To(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eo,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw wo.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw wo.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new No;return setTimeout((async()=>{o.abort()}),void 0!==n?n:6e4),Io({appId:r,apiKey:i,measurementId:a},s,o,t)}async function Io(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Eo;var s;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(a),r(wo.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(ew){if(l)return vo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===ew||void 0===ew?void 0:ew.message}]`),{appId:o,measurementId:l};throw ew}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:_o(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(a,i);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw wo.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return a.deleteThrottleMetadata(o),t}catch(ew){const r=ew;if(!function(e){if(!(e instanceof nt)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(a.deleteThrottleMetadata(o),l)return vo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===r||void 0===r?void 0:r.message}]`),{appId:o,measurementId:l};throw ew}const c=503===Number(null===(s=null===r||void 0===r?void 0:r.customData)||void 0===s?void 0:s.httpStatus)?ht(i,a.intervalMillis,30):ht(i,a.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return a.setThrottleMetadata(o,u),vo.debug(`Calling attemptFetch again in ${c} millis`),Io(e,u,n,a)}}class No{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Co,jo;function Ao(e){jo=e}function zo(e){Co=e}async function Po(e,t,n,r,i,a,s){var o;const l=To(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&vo.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>vo.error(e))),t.push(l);const c=async function(){if(!et())return vo.warn(wo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await tt()}catch(ew){return vo.warn(wo.create("indexeddb-unavailable",{errorInfo:null===ew||void 0===ew?void 0:ew.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(yo)&&n.src.includes(e))return n;return null})(a)||xo(a,u.measurementId),jo&&(i("consent","default",jo),Ao(void 0)),i("js",new Date);const h=null!==(o=null===s||void 0===s?void 0:s.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),Co&&(i("set",Co),zo(void 0)),u.measurementId}class Oo{constructor(e){this.app=e}_delete(){return delete Do[this.app.options.appId],Promise.resolve()}}let Do={},Ro=[];const Lo={};let Mo,Fo,Uo="dataLayer",Vo="gtag",$o=!1;function Bo(){const e=[];if(Je()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=wo.create("invalid-analytics-context",{errorInfo:t});vo.warn(n.message)}}function qo(e,t,n){Bo();const r=e.options.appId;if(!r)throw wo.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw wo.create("no-api-key");vo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Do[r])throw wo.create("already-exists",{id:r});if(!$o){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Uo);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=So(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(Do,Ro,Lo,Uo,Vo);Fo=e,Mo=t,$o=!0}Do[r]=Po(e,Ro,Lo,t,Mo,Uo,n);return new Oo(e)}function Ho(e,t,n,r){e=ft(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Fo,Do[e.app.options.appId],t,n,r).catch((e=>vo.error(e)))}const Wo="@firebase/analytics",Ko="0.10.17";_n(new pt(go,((e,t)=>{let{options:n}=t;return qo(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),_n(new pt("analytics-internal",(function(e){try{const t=e.getProvider(go).getImmediate();return{logEvent:(e,n,r)=>Ho(t,e,n,r)}}catch(ew){throw wo.create("interop-component-reg-failed",{reason:ew})}}),"PRIVATE")),Pn(Wo,Ko),Pn(Wo,Ko,"esm2017");var Go,Qo,Yo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Zo={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,s=0;s<t;){if(0==a)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){n(this,i),a=0;break}}else for(;s<t;)if(i[a++]=e[s++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=s(n)).j(t);d(c)||0<c.l(e);)c=(a=s(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],s=0;s<i;s++)a[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var s=i+(65535&this.i(a))+(65535&e.i(a)),o=(s>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=o>>>16,s&=65535,o&=65535,n[a]=o<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=f*g,p(n,2*i+2*a),n[2*i+2*a+1]+=l*g,p(n,2*i+2*a+1),n[2*i+2*a+1]+=f*m,p(n,2*i+2*a+1),n[2*i+2*a+2]+=l*m,p(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Qo=Zo.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=o,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},Go=Zo.Integer=r}).apply("undefined"!==typeof Yo?Yo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Jo,Xo,el,tl,nl,rl,il,al,sl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ol={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof sl&&sl];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in i))break e;i=i[s]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,N=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);I=()=>{e.then(A)}};var A=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){S(n)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function z(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,P);var R={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),M=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++M,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function $(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=B(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new F(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)W(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,s(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=s(i)?!!i.capture:!!i,l=X(e);if(l||(e[q]=l=new V(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Z(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)G(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,s(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Q(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=B(a=e.g[t],n,r,i))&&(U(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=X(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])$(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Z(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=X(t))?($(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function Z(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function X(e){return(e=e[q])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){z.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;k(t=new P(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(s=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&$(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=ae((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,z),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends z{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){z.call(this),this.h=e,this.g={}}d(le,z);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function we(){P.call(this,"c")}d(ve,P),d(we,P);var be={},ke=null;function xe(){return ke=ke||new ne}function Se(e){P.call(this,be.La,e)}function Ee(e){const t=xe();re(t,new Se(t))}function _e(e,t){P.call(this,be.STAT_EVENT,e),this.stat=t}function Te(e){const t=xe();re(t,new _e(t,e))}function Ie(e,t){P.call(this,be.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ce(){this.g=!0}function je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",d(Se,P),be.STAT_EVENT="statevent",d(_e,P),be.Ma="timingevent",d(Ie,P),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Ae,ze={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Ae=new Oe;var Le={},Me={};function Fe(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),Be(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var s=W(n,i[a],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function $e(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Me:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Me:(t=t.slice(r,r+n),e.C=r+n,t))}function Be(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Xe(n.h,e)))if(!e.K&&Xe(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&(He(o),Be(o)),r.g=s}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Ee(),He(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Wt(this.g);e="";var a=r.length,s=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ke(this),We(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=$e(this,o),e==Me){4==h&&(this.s=4,Te(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Te(15),je(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Ge(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),an(d),d.M=!0,Te(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),We(this)}else je(this.i,this.l,o,null),Ge(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=x(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ke(this),We(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,Ke(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Te(17)),Ke(this),this.s=2,We(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ze(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Xe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new kt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new kt(null,this.h))}function st(e){return new at(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof kt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),_t(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,wt)),e.i=new kt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,wt=/[#\?@]/g,bt=/#/g;function kt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){xt(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return xt(e),t=Tt(e,t),e.g.has(t)}function _t(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function It(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function Nt(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;s(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(ew){throw t.push(r+"type="+encodeURIComponent("_badmap")),ew}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function zt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Rt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Lt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=kt.prototype).add=function(e,t){xt(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,Et(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(jt,pe),jt.prototype.g=function(){return new At(this.l,this.j)},jt.prototype.i=(mt={},function(){return mt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Ot(this),3==this.readyState&&zt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Lt,ne);var Mt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Bt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function $t(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),a=!Mt.test(s?s.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Vt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(ew){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Zt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Be(t)}dn(e)}function Yt(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function Zt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Ze(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||j(),N||(I(),N=!0),C.add(t,e),e.B=0}}function Xt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Rt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Ct(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||j(),N||(I(),N=!0),C.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function an(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Rt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),an(e),e.g=null;var r=2}else{if(!Xe(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=xe(),new Ie(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ce;if(i.Image){const r=new Image;r.onload=u(It,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(It,n,"TestLoadImage: error",!1,t,r),r.onabort=u(It,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(It,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ce;const n=new AbortController,r=setTimeout((()=>{n.abort(),It(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?It(0,0,!0,t):It(0,0,!1,t)})).catch((()=>{clearTimeout(r),It(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),Zt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof at?st(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var s=new at(null);r&&ot(s,r),t&&(s.g=t),a&&lt(s,a),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Lt(new jt({eb:n})):new Lt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){we.call(this),this.status=1}function wn(e){this.g=e}(e=Lt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Ut(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Ut(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let a=this.o;if(this.S&&(a?(a=w(a),k(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Dt(a)))+"&"+t:this.m&&Rt(n,this.m,a)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Xt(this,e):0==this.i.length||Ze(this.h)||Xt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Yt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,we),d(wn,pn),wn.prototype.ua=function(){re(this.g,"a")},wn.prototype.ta=function(e){re(this.g,new yn(e))},wn.prototype.sa=function(e){re(this.g,new vn)},wn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,al=ol.createWebChannelTransport=function(){return new mn},il=ol.getStatEventTarget=function(){return xe()},rl=ol.Event=be,nl=ol.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ze.NO_ERROR=0,ze.TIMEOUT=8,ze.HTTP_ERROR=6,tl=ol.ErrorCode=ze,Pe.COMPLETE="complete",el=ol.EventType=Pe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Xo=ol.WebChannel=ge,ol.FetchXmlHttpFactory=jt,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,Jo=ol.XhrIo=Lt}).apply("undefined"!==typeof sl?sl:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ll="@firebase/firestore",cl="4.8.0";class ul{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ul.UNAUTHENTICATED=new ul(null),ul.GOOGLE_CREDENTIALS=new ul("google-credentials-uid"),ul.FIRST_PARTY=new ul("first-party-uid"),ul.MOCK_USER=new ul("mock-user");let dl="11.10.0";const hl=new Et("@firebase/firestore");function fl(){return hl.logLevel}function pl(e){if(hl.logLevel<=wt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(yl);hl.debug(`Firestore (${dl}): ${e}`,...i)}}function ml(e){if(hl.logLevel<=wt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(yl);hl.error(`Firestore (${dl}): ${e}`,...i)}}function gl(e){if(hl.logLevel<=wt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(yl);hl.warn(`Firestore (${dl}): ${e}`,...i)}}function yl(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function vl(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,wl(e,r,n)}function wl(e,t,n){let r=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ml(r),new Error(r)}function bl(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||wl(t,i,r)}function kl(e,t){return e}const xl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Sl extends nt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class El{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class _l{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ul.UNAUTHENTICATED)))}shutdown(){}}class Il{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Nl{constructor(e){this.t=e,this.currentUser=ul.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){bl(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new El;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new El,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{pl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(pl("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new El)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(pl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(bl("string"==typeof t.accessToken,31837,{l:t}),new _l(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bl(null===e||"string"==typeof e,2055,{h:e}),new ul(e)}}class Cl{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ul.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jl{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Cl(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ul.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Al{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zl{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){bl(void 0===this.o,3512);const n=e=>{null!=e.error&&pl("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,pl("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{pl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):pl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Al(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(bl("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Al(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Pl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Ol(){return new TextEncoder}class Dl{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Pl(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Rl(e,t){return e<t?-1:e>t?1:0}function Ll(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Rl(r,i);{const a=Ol(),s=Fl(a.encode(Ml(e,n)),a.encode(Ml(t,n)));return 0!==s?s:Rl(r,i)}}n+=r>65535?2:1}return Rl(e.length,t.length)}function Ml(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Fl(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Rl(e[n],t[n]);return Rl(e.length,t.length)}function Ul(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Vl="__name__";class $l{constructor(e,t,n){void 0===t?t=0:t>e.length&&vl(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&vl(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===$l.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $l?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=$l.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Rl(e.length,t.length)}static compareSegments(e,t){const n=$l.isNumericId(e),r=$l.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?$l.extractNumericId(e).compare($l.extractNumericId(t)):Ll(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Go.fromString(e.substring(4,e.length-2))}}class Bl extends $l{construct(e,t,n){return new Bl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Sl(xl.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Bl(e)}static emptyPath(){return new Bl([])}}const ql=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hl extends $l{construct(e,t,n){return new Hl(e,t,n)}static isValidIdentifier(e){return ql.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hl.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Vl}static keyField(){return new Hl([Vl])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Sl(xl.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Sl(xl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Sl(xl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Sl(xl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hl(t)}static emptyPath(){return new Hl([])}}class Wl{constructor(e){this.path=e}static fromPath(e){return new Wl(Bl.fromString(e))}static fromName(e){return new Wl(Bl.fromString(e).popFirst(5))}static empty(){return new Wl(Bl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wl(new Bl(e.slice()))}}function Kl(e,t,n){if(!n)throw new Sl(xl.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Gl(e){if(!Wl.isDocumentKey(e))throw new Sl(xl.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ql(e){if(Wl.isDocumentKey(e))throw new Sl(xl.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Yl(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Zl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":vl(12329,{type:typeof e})}function Jl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Sl(xl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zl(e);throw new Sl(xl.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Xl(e,t){const n={typeString:e};return t&&(n.value=t),n}function ec(e,t){if(!Yl(e))throw new Sl(xl.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==a&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Sl(xl.INVALID_ARGUMENT,n);return!0}const tc=-62135596800,nc=1e6;class rc{static now(){return rc.fromMillis(Date.now())}static fromDate(e){return rc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*nc);return new rc(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Sl(xl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Sl(xl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tc)throw new Sl(xl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Sl(xl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nc}_compareTo(e){return this.seconds===e.seconds?Rl(this.nanoseconds,e.nanoseconds):Rl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rc._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ec(e,rc._jsonSchema))return new rc(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tc;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rc._jsonSchemaVersion="firestore/timestamp/1.0",rc._jsonSchema={type:Xl("string",rc._jsonSchemaVersion),seconds:Xl("number"),nanoseconds:Xl("number")};class ic{static fromTimestamp(e){return new ic(e)}static min(){return new ic(new rc(0,0))}static max(){return new ic(new rc(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ac=-1;class sc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}sc.UNKNOWN_ID=-1;function oc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ic.fromTimestamp(1e9===r?new rc(n+1,0):new rc(n,r));return new cc(i,Wl.empty(),t)}function lc(e){return new cc(e.readTime,e.key,ac)}class cc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new cc(ic.min(),Wl.empty(),ac)}static max(){return new cc(ic.max(),Wl.empty(),ac)}}function uc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Wl.comparator(e.documentKey,t.documentKey),0!==n?n:Rl(e.largestBatchId,t.largestBatchId))}const dc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fc(e){if(e.code!==xl.FAILED_PRECONDITION||e.message!==dc)throw e;pl("LocalStore","Unexpectedly lost primary lease")}class pc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vl(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pc(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof pc?t:pc.resolve(t)}catch(e){return pc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):pc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):pc.reject(t)}static resolve(e){return new pc(((t,n)=>{t(e)}))}static reject(e){return new pc(((t,n)=>{n(e)}))}static waitFor(e){return new pc(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=pc.resolve(!1);for(const n of e)t=t.next((e=>e?pc.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new pc(((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{a[l]=e,++s,s===i&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new pc(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function mc(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gc(e){return"IndexedDbTransactionError"===e.name}class yc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}yc.ue=-1;const vc=-1;function wc(e){return null==e}function bc(e){return 0===e&&1/e==-1/0}function kc(e){return"number"==typeof e&&Number.isInteger(e)&&!bc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const xc="\x01";function Sc(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=_c(t)),t=Ec(e.get(n),t);return _c(t)}function Ec(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case xc:n+="\x01\x11";break;default:n+=t}}return n}function _c(e){return e+xc+"\x01"}const Tc="remoteDocuments",Ic="owner",Nc="mutationQueues",Cc="mutations";const jc="documentMutations",Ac="remoteDocumentsV14",zc="remoteDocumentGlobal",Pc="targets",Oc="targetDocuments",Dc="targetGlobal",Rc="collectionParents",Lc="clientMetadata",Mc="bundles",Fc="namedQueries",Uc="indexConfiguration",Vc="indexState",$c="indexEntries",Bc="documentOverlays",qc="globals",Hc=[Nc,Cc,jc,Tc,Pc,Ic,Dc,Oc,Lc,zc,Rc,Mc,Fc],Wc=[Nc,Cc,jc,Ac,Pc,Ic,Dc,Oc,Lc,zc,Rc,Mc,Fc,Bc],Kc=Wc,Gc=[...Kc,Uc,Vc,$c];function Qc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Jc{constructor(e,t){this.comparator=e,this.root=t||eu.EMPTY}insert(e,t){return new Jc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,eu.BLACK,null,null))}remove(e){return new Jc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,eu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class eu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:eu.RED,this.left=null!=r?r:eu.EMPTY,this.right=null!=i?i:eu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new eu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return eu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return eu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,eu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,eu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vl(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vl(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vl(27949);return e+(this.isRed()?0:1)}}eu.EMPTY=null,eu.RED=!0,eu.BLACK=!1,eu.EMPTY=new class{constructor(){this.size=0}get key(){throw vl(57766)}get value(){throw vl(16141)}get color(){throw vl(16727)}get left(){throw vl(29726)}get right(){throw vl(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new eu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tu{constructor(e){this.comparator=e,this.data=new Jc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nu(this.data.getIterator())}getIteratorFrom(e){return new nu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof tu))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new tu(this.comparator);return t.data=e,t}}class nu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ru{constructor(e){this.fields=e,e.sort(Hl.comparator)}static empty(){return new ru([])}unionWith(e){let t=new tu(Hl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ru(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class iu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class au{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new iu("Invalid base64 string: "+e):e}}(e);return new au(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new au(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}au.EMPTY_BYTE_STRING=new au("");const su=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ou(e){if(bl(!!e,39018),"string"==typeof e){let t=0;const n=su.exec(e);if(bl(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:lu(e.seconds),nanos:lu(e.nanos)}}function lu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function cu(e){return"string"==typeof e?au.fromBase64String(e):au.fromUint8Array(e)}const uu="server_timestamp",du="__type__",hu="__previous_value__",fu="__local_write_time__";function pu(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[du])||void 0===n?void 0:n.stringValue)===uu}function mu(e){const t=e.mapValue.fields[hu];return pu(t)?mu(t):t}function gu(e){const t=ou(e.mapValue.fields[fu].timestampValue);return new rc(t.seconds,t.nanos)}class yu{constructor(e,t,n,r,i,a,s,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const vu="(default)";class wu{constructor(e,t){this.projectId=e,this.database=t||vu}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===vu}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}const bu="__type__",ku="__max__",xu={mapValue:{fields:{__type__:{stringValue:ku}}}},Su="__vector__",Eu="value";function _u(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pu(e)?4:$u(e)?9007199254740991:Uu(e)?10:11:vl(28295,{value:e})}function Tu(e,t){if(e===t)return!0;const n=_u(e);if(n!==_u(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gu(e).isEqual(gu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ou(e.timestampValue),r=ou(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return cu(e.bytesValue).isEqual(cu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return lu(e.geoPointValue.latitude)===lu(t.geoPointValue.latitude)&&lu(e.geoPointValue.longitude)===lu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return lu(e.integerValue)===lu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=lu(e.doubleValue),r=lu(t.doubleValue);return n===r?bc(n)===bc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ul(e.arrayValue.values||[],t.arrayValue.values||[],Tu);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Qc(n)!==Qc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Tu(n[i],r[i])))return!1;return!0}(e,t);default:return vl(52216,{left:e})}}function Iu(e,t){return void 0!==(e.values||[]).find((e=>Tu(e,t)))}function Nu(e,t){if(e===t)return 0;const n=_u(e),r=_u(t);if(n!==r)return Rl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=lu(e.integerValue||e.doubleValue),r=lu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cu(e.timestampValue,t.timestampValue);case 4:return Cu(gu(e),gu(t));case 5:return Ll(e.stringValue,t.stringValue);case 6:return function(e,t){const n=cu(e),r=cu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Rl(n[i],r[i]);if(0!==e)return e}return Rl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Rl(lu(e.latitude),lu(t.latitude));return 0!==n?n:Rl(lu(e.longitude),lu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ju(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const s=e.fields||{},o=t.fields||{},l=null===(n=s[Eu])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Eu])||void 0===r?void 0:r.arrayValue,u=Rl((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:ju(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===xu.mapValue&&t===xu.mapValue)return 0;if(e===xu.mapValue)return 1;if(t===xu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=Ll(r[s],a[s]);if(0!==e)return e;const t=Nu(n[r[s]],i[a[s]]);if(0!==t)return t}return Rl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw vl(23264,{le:n})}}function Cu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Rl(e,t);const n=ou(e),r=ou(t),i=Rl(n.seconds,r.seconds);return 0!==i?i:Rl(n.nanos,r.nanos)}function ju(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Nu(n[i],r[i]);if(e)return e}return Rl(n.length,r.length)}function Au(e){return zu(e)}function zu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ou(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return cu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Wl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=zu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${zu(e.fields[i])}`;return n+"}"}(e.mapValue):vl(61005,{value:e})}function Pu(e){switch(_u(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mu(e);return t?16+Pu(t):16;case 5:return 2*e.stringValue.length;case 6:return cu(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Pu(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Yc(e.fields,((e,n)=>{t+=e.length+Pu(n)})),t}(e.mapValue);default:throw vl(13486,{value:e})}}function Ou(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Du(e){return!!e&&"integerValue"in e}function Ru(e){return!!e&&"arrayValue"in e}function Lu(e){return!!e&&"nullValue"in e}function Mu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fu(e){return!!e&&"mapValue"in e}function Uu(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[bu])||void 0===n?void 0:n.stringValue)===Su}function Vu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Yc(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Vu(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function $u(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ku}class Bu{constructor(e){this.value=e}static empty(){return new Bu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Fu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vu(t)}setAll(e){let t=Hl.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Vu(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Fu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Fu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Yc(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Bu(Vu(this.value))}}function qu(e){const t=[];return Yc(e.fields,((e,n)=>{const r=new Hl([e]);if(Fu(n)){const e=qu(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ru(t)}class Hu{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Hu(e,0,ic.min(),ic.min(),ic.min(),Bu.empty(),0)}static newFoundDocument(e,t,n,r){return new Hu(e,1,t,ic.min(),n,r,0)}static newNoDocument(e,t){return new Hu(e,2,t,ic.min(),ic.min(),Bu.empty(),0)}static newUnknownDocument(e,t){return new Hu(e,3,t,ic.min(),ic.min(),Bu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ic.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ic.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wu{constructor(e,t){this.position=e,this.inclusive=t}}function Ku(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?Wl.comparator(Wl.fromName(s.referenceValue),n.key):Nu(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Gu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Tu(e.position[n],t.position[n]))return!1;return!0}class Qu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Yu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Zu{}class Ju extends Zu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new sd(e,t,n):"array-contains"===t?new ud(e,n):"in"===t?new dd(e,n):"not-in"===t?new hd(e,n):"array-contains-any"===t?new fd(e,n):new Ju(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new od(e,n):new ld(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Nu(t,this.value)):null!==t&&_u(this.value)===_u(t)&&this.matchesComparison(Nu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vl(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xu extends Zu{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Xu(e,t)}matches(e){return ed(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ed(e){return"and"===e.op}function td(e){return nd(e)&&ed(e)}function nd(e){for(const t of e.filters)if(t instanceof Xu)return!1;return!0}function rd(e){if(e instanceof Ju)return e.field.canonicalString()+e.op.toString()+Au(e.value);if(td(e))return e.filters.map((e=>rd(e))).join(",");{const t=e.filters.map((e=>rd(e))).join(",");return`${e.op}(${t})`}}function id(e,t){return e instanceof Ju?function(e,t){return t instanceof Ju&&e.op===t.op&&e.field.isEqual(t.field)&&Tu(e.value,t.value)}(e,t):e instanceof Xu?function(e,t){return t instanceof Xu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&id(n,t.filters[r])),!0)}(e,t):void vl(19439)}function ad(e){return e instanceof Ju?function(e){return`${e.field.canonicalString()} ${e.op} ${Au(e.value)}`}(e):e instanceof Xu?function(e){return e.op.toString()+" {"+e.getFilters().map(ad).join(" ,")+"}"}(e):"Filter"}class sd extends Ju{constructor(e,t,n){super(e,t,n),this.key=Wl.fromName(n.referenceValue)}matches(e){const t=Wl.comparator(e.key,this.key);return this.matchesComparison(t)}}class od extends Ju{constructor(e,t){super(e,"in",t),this.keys=cd("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ld extends Ju{constructor(e,t){super(e,"not-in",t),this.keys=cd("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function cd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Wl.fromName(e.referenceValue)))}class ud extends Ju{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ru(t)&&Iu(t.arrayValue,this.value)}}class dd extends Ju{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Iu(this.value.arrayValue,t)}}class hd extends Ju{constructor(e,t){super(e,"not-in",t)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Iu(this.value.arrayValue,t)}}class fd extends Ju{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ru(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Iu(this.value.arrayValue,e)))}}class pd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.Pe=null}}function md(e){return new pd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function gd(e){const t=kl(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>rd(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),wc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Au(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Au(e))).join(",")),t.Pe=e}return t.Pe}function yd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Yu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!id(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gu(e.startAt,t.startAt)&&Gu(e.endAt,t.endAt)}function vd(e){return Wl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class wd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function bd(e,t,n,r,i,a,s,o){return new wd(e,t,n,r,i,a,s,o)}function kd(e){return new wd(e)}function xd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Sd(e){return null!==e.collectionGroup}function Ed(e){const t=kl(e);if(null===t.Te){t.Te=[];const e=new Set;for(const i of t.explicitOrderBy)t.Te.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new tu(Hl.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new Qu(r,n))})),e.has(Hl.keyField().canonicalString())||t.Te.push(new Qu(Hl.keyField(),n))}return t.Te}function _d(e){const t=kl(e);return t.Ie||(t.Ie=Td(t,Ed(e))),t.Ie}function Td(e,t){if("F"===e.limitType)return md(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Qu(e.field,t)}));const n=e.endAt?new Wu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Wu(e.startAt.position,e.startAt.inclusive):null;return md(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Id(e,t){const n=e.filters.concat([t]);return new wd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Nd(e,t,n){return new wd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cd(e,t){return yd(_d(e),_d(t))&&e.limitType===t.limitType}function jd(e){return`${gd(_d(e))}|lt:${e.limitType}`}function Ad(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>ad(e))).join(", ")}]`),wc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Au(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Au(e))).join(",")),`Target(${t})`}(_d(e))}; limitType=${e.limitType})`}function zd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ed(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ku(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ed(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ku(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ed(e),t))}(e,t)}function Pd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Od(e){return(t,n)=>{let r=!1;for(const i of Ed(e)){const e=Dd(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Dd(e,t,n){const r=e.field.isKeyField()?Wl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Nu(r,i):vl(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vl(19790,{direction:e.dir})}}class Rd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Yc(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Zc(this.inner)}size(){return this.innerSize}}const Ld=new Jc(Wl.comparator);function Md(){return Ld}const Fd=new Jc(Wl.comparator);function Ud(){let e=Fd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Vd(e){let t=Fd;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function $d(){return qd()}function Bd(){return qd()}function qd(){return new Rd((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Hd=new Jc(Wl.comparator),Wd=new tu(Wl.comparator);function Kd(){let e=Wd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Gd=new tu(Rl);function Qd(){return Gd}function Yd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(t)?"-0":t}}function Zd(e){return{integerValue:""+e}}function Jd(e,t){return kc(t)?Zd(t):Yd(e,t)}class Xd{constructor(){this._=void 0}}function eh(e,t,n){return e instanceof rh?function(e,t){const n={fields:{[du]:{stringValue:uu},[fu]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&pu(t)&&(t=mu(t)),t&&(n.fields[hu]=t),{mapValue:n}}(n,t):e instanceof ih?ah(e,t):e instanceof sh?oh(e,t):function(e,t){const n=nh(e,t),r=ch(n)+ch(e.Ee);return Du(n)&&Du(e.Ee)?Zd(r):Yd(e.serializer,r)}(e,t)}function th(e,t,n){return e instanceof ih?ah(e,t):e instanceof sh?oh(e,t):n}function nh(e,t){return e instanceof lh?function(e){return Du(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class rh extends Xd{}class ih extends Xd{constructor(e){super(),this.elements=e}}function ah(e,t){const n=uh(t);for(const r of e.elements)n.some((e=>Tu(e,r)))||n.push(r);return{arrayValue:{values:n}}}class sh extends Xd{constructor(e){super(),this.elements=e}}function oh(e,t){let n=uh(t);for(const r of e.elements)n=n.filter((e=>!Tu(e,r)));return{arrayValue:{values:n}}}class lh extends Xd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function ch(e){return lu(e.integerValue||e.doubleValue)}function uh(e){return Ru(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class dh{constructor(e,t){this.field=e,this.transform=t}}class hh{constructor(e,t){this.version=e,this.transformResults=t}}class fh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fh}static exists(e){return new fh(void 0,e)}static updateTime(e){return new fh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class mh{}function gh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Th(e.key,fh.none()):new kh(e.key,e.data,fh.none());{const n=e.data,r=Bu.empty();let i=new tu(Hl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new xh(e.key,r,new ru(i.toArray()),fh.none())}}function yh(e,t,n){e instanceof kh?function(e,t,n){const r=e.value.clone(),i=Eh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xh?function(e,t,n){if(!ph(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Eh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Sh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vh(e,t,n,r){return e instanceof kh?function(e,t,n,r){if(!ph(e.precondition,t))return n;const i=e.value.clone(),a=_h(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof xh?function(e,t,n,r){if(!ph(e.precondition,t))return n;const i=_h(e.fieldTransforms,r,t),a=t.data;return a.setAll(Sh(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ph(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function wh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=nh(r.transform,e||null);null!=i&&(null===n&&(n=Bu.empty()),n.set(r.field,i))}return n||null}function bh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ul(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ih&&t instanceof ih||e instanceof sh&&t instanceof sh?Ul(e.elements,t.elements,Tu):e instanceof lh&&t instanceof lh?Tu(e.Ee,t.Ee):e instanceof rh&&t instanceof rh}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class kh extends mh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xh extends mh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Sh(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Eh(e,t,n){const r=new Map;bl(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,th(s,o,n[i]))}return r}function _h(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,eh(e,a,t))}return r}class Th extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ih extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&yh(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=vh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=vh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Bd();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=gh(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(ic.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Kd())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,((e,t)=>bh(e,t)))&&Ul(this.baseMutations,e.baseMutations,((e,t)=>bh(e,t)))}}class Ch{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){bl(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=Hd;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Ch(e,t,n,r)}}class jh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ah{constructor(e,t){this.count=e,this.unchangedNames=t}}var zh,Ph;function Oh(e){switch(e){case xl.OK:return vl(64938);case xl.CANCELLED:case xl.UNKNOWN:case xl.DEADLINE_EXCEEDED:case xl.RESOURCE_EXHAUSTED:case xl.INTERNAL:case xl.UNAVAILABLE:case xl.UNAUTHENTICATED:return!1;case xl.INVALID_ARGUMENT:case xl.NOT_FOUND:case xl.ALREADY_EXISTS:case xl.PERMISSION_DENIED:case xl.FAILED_PRECONDITION:case xl.ABORTED:case xl.OUT_OF_RANGE:case xl.UNIMPLEMENTED:case xl.DATA_LOSS:return!0;default:return vl(15467,{code:e})}}function Dh(e){if(void 0===e)return ml("GRPC error has no .code"),xl.UNKNOWN;switch(e){case zh.OK:return xl.OK;case zh.CANCELLED:return xl.CANCELLED;case zh.UNKNOWN:return xl.UNKNOWN;case zh.DEADLINE_EXCEEDED:return xl.DEADLINE_EXCEEDED;case zh.RESOURCE_EXHAUSTED:return xl.RESOURCE_EXHAUSTED;case zh.INTERNAL:return xl.INTERNAL;case zh.UNAVAILABLE:return xl.UNAVAILABLE;case zh.UNAUTHENTICATED:return xl.UNAUTHENTICATED;case zh.INVALID_ARGUMENT:return xl.INVALID_ARGUMENT;case zh.NOT_FOUND:return xl.NOT_FOUND;case zh.ALREADY_EXISTS:return xl.ALREADY_EXISTS;case zh.PERMISSION_DENIED:return xl.PERMISSION_DENIED;case zh.FAILED_PRECONDITION:return xl.FAILED_PRECONDITION;case zh.ABORTED:return xl.ABORTED;case zh.OUT_OF_RANGE:return xl.OUT_OF_RANGE;case zh.UNIMPLEMENTED:return xl.UNIMPLEMENTED;case zh.DATA_LOSS:return xl.DATA_LOSS;default:return vl(39323,{code:e})}}(Ph=zh||(zh={}))[Ph.OK=0]="OK",Ph[Ph.CANCELLED=1]="CANCELLED",Ph[Ph.UNKNOWN=2]="UNKNOWN",Ph[Ph.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ph[Ph.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ph[Ph.NOT_FOUND=5]="NOT_FOUND",Ph[Ph.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ph[Ph.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ph[Ph.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ph[Ph.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ph[Ph.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ph[Ph.ABORTED=10]="ABORTED",Ph[Ph.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ph[Ph.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ph[Ph.INTERNAL=13]="INTERNAL",Ph[Ph.UNAVAILABLE=14]="UNAVAILABLE",Ph[Ph.DATA_LOSS=15]="DATA_LOSS";let Rh=null;const Lh=new Go([4294967295,4294967295],0);function Mh(e){const t=Ol().encode(e),n=new Qo;return n.update(t),new Uint8Array(n.digest())}function Fh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Go([n,r],0),new Go([i,a],0)]}class Uh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Vh(`Invalid padding: ${t}`);if(n<0)throw new Vh(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Vh(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Vh(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Go.fromNumber(this.fe)}pe(e,t,n){let r=e.add(t.multiply(Go.fromNumber(n)));return 1===r.compare(Lh)&&(r=new Go([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=Mh(e),[n,r]=Fh(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Uh(i,r,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.fe)return;const t=Mh(e),[n,r]=Fh(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Vh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $h{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Bh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $h(ic.min(),r,new Jc(Rl),Md(),Kd())}}class Bh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Bh(n,t,Kd(),Kd(),Kd())}}class qh{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class Hh{constructor(e,t){this.targetId=e,this.De=t}}class Wh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:au.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Kh{constructor(){this.ve=0,this.Ce=Yh(),this.Fe=au.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Kd(),t=Kd(),n=Kd();return this.Ce.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vl(38017,{changeType:i})}})),new Bh(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=Yh()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,bl(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Gh{constructor(e){this.We=e,this.Ge=new Map,this.ze=Md(),this.je=Qh(),this.Je=Qh(),this.He=new Jc(Rl)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:vl(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((e,n)=>{this.nt(n)&&t(n)}))}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const i=r.target;if(vd(i))if(0===n){const e=new Wl(i.path);this.Xe(t,e,Hu.newNoDocument(e,ic.min()))}else bl(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),i=n?this.ut(n,e,r):1;if(0!==i){this.rt(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==Rh||Rh.ct(function(e,t,n,r,i){var a,s,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(o=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.De,this.We.lt(),n,i))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=cu(n).toUint8Array()}catch(e){if(e instanceof iu)return gl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Uh(a,r,i)}catch(e){return gl(e instanceof Vh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.fe?null:s}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.We.lt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,n,null),r++)})),r}Pt(e){const t=new Map;this.Ge.forEach(((n,r)=>{const i=this.st(r);if(i){if(n.current&&vd(i.target)){const t=new Wl(i.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,Hu.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}}));let n=Kd();this.Je.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ze.forEach(((t,n)=>n.setReadTime(e)));const r=new $h(e,t,this.He,this.ze,n);return this.ze=Md(),this.je=Qh(),this.Je=Qh(),this.He=new Jc(Rl),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Kh,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new tu(Rl),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new tu(Rl),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||pl("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Kh),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Qh(){return new Jc(Wl.comparator)}function Yh(){return new Jc(Wl.comparator)}const Zh={asc:"ASCENDING",desc:"DESCENDING"},Jh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xh={and:"AND",or:"OR"};class ef{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tf(e,t){return e.useProto3Json||wc(t)?t:{value:t}}function nf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function af(e,t){return nf(e,t.toTimestamp())}function sf(e){return bl(!!e,49232),ic.fromTimestamp(function(e){const t=ou(e);return new rc(t.seconds,t.nanos)}(e))}function of(e,t){return lf(e,t).canonicalString()}function lf(e,t){const n=function(e){return new Bl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function cf(e){const t=Bl.fromString(e);return bl(Cf(t),10190,{key:t.toString()}),t}function uf(e,t){return of(e.databaseId,t.path)}function df(e,t){const n=cf(t);if(n.get(1)!==e.databaseId.projectId)throw new Sl(xl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Sl(xl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wl(mf(n))}function hf(e,t){return of(e.databaseId,t)}function ff(e){const t=cf(e);return 4===t.length?Bl.emptyPath():mf(t)}function pf(e){return new Bl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mf(e){return bl(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function gf(e,t,n){return{name:uf(e,t),fields:n.value.mapValue.fields}}function yf(e,t){let n;if(t instanceof kh)n={update:gf(e,t.key,t.value)};else if(t instanceof Th)n={delete:uf(e,t.key)};else if(t instanceof xh)n={update:gf(e,t.key,t.data),updateMask:Nf(t.fieldMask)};else{if(!(t instanceof Ih))return vl(16599,{Rt:t.type});n={verify:uf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof rh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ih)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lh)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw vl(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:af(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vl(27497)}(e,t.precondition)),n}function vf(e,t){return{documents:[hf(e,t.path)]}}function wf(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hf(e,i);const a=function(e){if(0!==e.length)return If(Xu.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:_f(e.field),direction:xf(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=tf(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:i}}function bf(e){let t=ff(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bl(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=kf(e);return t instanceof Xu&&td(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Qu(Tf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,wc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Wu(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Wu(n,t)}(n.endAt)),bd(t,i,s,a,o,"F",l,c)}function kf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Tf(e.unaryFilter.field);return Ju.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Tf(e.unaryFilter.field);return Ju.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Tf(e.unaryFilter.field);return Ju.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Tf(e.unaryFilter.field);return Ju.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vl(61313);default:return vl(60726)}}(e):void 0!==e.fieldFilter?function(e){return Ju.create(Tf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vl(58110);default:return vl(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Xu.create(e.compositeFilter.filters.map((e=>kf(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return vl(1026)}}(e.compositeFilter.op))}(e):vl(30097,{filter:e})}function xf(e){return Zh[e]}function Sf(e){return Jh[e]}function Ef(e){return Xh[e]}function _f(e){return{fieldPath:e.canonicalString()}}function Tf(e){return Hl.fromServerFormat(e.fieldPath)}function If(e){return e instanceof Ju?function(e){if("=="===e.op){if(Mu(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NAN"}};if(Lu(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mu(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NOT_NAN"}};if(Lu(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_f(e.field),op:Sf(e.op),value:e.value}}}(e):e instanceof Xu?function(e){const t=e.getFilters().map((e=>If(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ef(e.op),filters:t}}}(e):vl(54877,{filter:e})}function Nf(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Cf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class jf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ic.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ic.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:au.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new jf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Af{constructor(e){this.gt=e}}function zf(e){const t=bf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Nd(t,t.limit,"L"):t}class Pf{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(lu(e.integerValue));else if("doubleValue"in e){const n=lu(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),bc(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=ou(n)),t.Mt(`${n.seconds||""}`),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(cu(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?$u(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Uu(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):vl(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const i=e.fields||{};this.Ct(t,53);const a=Eu,s=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(lu(s)),this.xt(a,t),this.Dt(i[a],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),Wl.fromName(e).path.forEach((e=>{this.Ct(t,60),this.$t(e,t)}))}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}Pf.Ut=new Pf;class Of{constructor(){this.Dn=new Df}addToCollectionParentIndex(e,t){return this.Dn.add(t),pc.resolve()}getCollectionParents(e,t){return pc.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return pc.resolve()}deleteFieldIndex(e,t){return pc.resolve()}deleteAllFieldIndexes(e){return pc.resolve()}createTargetIndexes(e,t){return pc.resolve()}getDocumentsMatchingTarget(e,t){return pc.resolve(null)}getIndexType(e,t){return pc.resolve(0)}getFieldIndexes(e,t){return pc.resolve([])}getNextCollectionGroupToUpdate(e){return pc.resolve(null)}getMinOffset(e,t){return pc.resolve(cc.min())}getMinOffsetFromCollectionGroup(e,t){return pc.resolve(cc.min())}updateCollectionGroup(e,t,n){return pc.resolve()}updateIndexEntries(e,t){return pc.resolve()}}class Df{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new tu(Bl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new tu(Bl.comparator)).toArray()}}new Uint8Array(0);const Rf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lf=41943040;class Mf{static withCacheSize(e){return new Mf(e,Mf.DEFAULT_COLLECTION_PERCENTILE,Mf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Mf.DEFAULT_COLLECTION_PERCENTILE=10,Mf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mf.DEFAULT=new Mf(Lf,Mf.DEFAULT_COLLECTION_PERCENTILE,Mf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mf.DISABLED=new Mf(-1,0,0);class Ff{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ff(0)}static ur(){return new Ff(-1)}}const Uf="LruGarbageCollector",Vf=1048576;function $f(e,t){let[n,r]=e,[i,a]=t;const s=Rl(n,i);return 0===s?Rl(r,a):s}class Bf{constructor(e){this.Tr=e,this.buffer=new tu($f),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();$f(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qf{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){pl(Uf,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){gc(e)?pl(Uf,"Ignoring IndexedDB error during garbage collection: ",e):await fc(e)}await this.Rr(3e5)}))}}class Hf{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return pc.resolve(yc.ue);const n=new Bf(t);return this.Vr.forEachTarget(e,(e=>n.Er(e.sequenceNumber))).next((()=>this.Vr.gr(e,(e=>n.Er(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(pl("LruGarbageCollector","Garbage collection skipped; disabled"),pc.resolve(Rf)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(pl("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rf):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,i,a,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(pl("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),fl()<=wt.DEBUG&&pl("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-c}ms\n\tDetermined least recently used ${r} in `+(s-a)+"ms\n"+`\tRemoved ${i} targets in `+(o-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),pc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Wf(e,t){return new Hf(e,t)}class Kf{constructor(){this.changes=new Rd((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?pc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Qf{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&vh(n.mutation,e,ru.empty(),rc.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Kd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kd();const r=$d();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ud();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=$d();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Kd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Md();const a=qd(),s=qd();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof xh)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),vh(s.mutation,t,s.mutation.getFieldMask(),rc.now())):a.set(t.key,ru.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Gf(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=qd();let r=new Jc(((e,t)=>e-t)),i=Kd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||ru.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||Kd()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=Bd();l.forEach((e=>{if(!i.has(e)){const r=gh(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return pc.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Wl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):pc.resolve($d());let s=ac,o=i;return a.next((t=>pc.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?pc.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Kd()))).next((e=>({batchId:s,changes:Vd(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Wl(t)).next((e=>{let t=Ud();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Ud();return this.indexManager.getCollectionParents(e,i).next((s=>pc.forEach(s,(s=>{const o=function(e,t){return new wd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Hu.newInvalidDocument(r)))}));let n=Ud();return e.forEach(((e,r)=>{const a=i.get(e);void 0!==a&&vh(a.mutation,r,ru.empty(),rc.now()),zd(t,r)&&(n=n.insert(e,r))})),n}))}}class Yf{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return pc.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:sf(e.createTime)}}(t)),pc.resolve()}getNamedQuery(e,t){return pc.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:zf(e.bundledQuery),readTime:sf(e.readTime)}}(t)),pc.resolve()}}class Zf{constructor(){this.overlays=new Jc(Wl.comparator),this.kr=new Map}getOverlay(e,t){return pc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=$d();return pc.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.wt(e,t,r)})),pc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.kr.delete(n)),pc.resolve()}getOverlaysForCollection(e,t,n){const r=$d(),i=t.length+1,a=new Wl(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return pc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Jc(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=$d(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=$d(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return pc.resolve(s)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new jh(t,n));let i=this.kr.get(t);void 0===i&&(i=Kd(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}}class Jf{constructor(){this.sessionToken=au.EMPTY_BYTE_STRING}getSessionToken(e){return pc.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pc.resolve()}}class Xf{constructor(){this.qr=new tu(ep.Qr),this.$r=new tu(ep.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new ep(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Wr(new ep(e,t))}Gr(e,t){e.forEach((e=>this.removeReference(e,t)))}zr(e){const t=new Wl(new Bl([])),n=new ep(t,e),r=new ep(t,e+1),i=[];return this.$r.forEachInRange([n,r],(e=>{this.Wr(e),i.push(e.key)})),i}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Wl(new Bl([])),n=new ep(t,e),r=new ep(t,e+1);let i=Kd();return this.$r.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ep(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ep{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Wl.comparator(e.key,t.key)||Rl(e.Hr,t.Hr)}static Ur(e,t){return Rl(e.Hr,t.Hr)||Wl.comparator(e.key,t.key)}}class tp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new tu(ep.Qr)}checkEmpty(e){return pc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Nh(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Yr=this.Yr.add(new ep(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return pc.resolve(a)}lookupMutationBatch(e,t){return pc.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return pc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return pc.resolve(0===this.mutationQueue.length?vc:this.er-1)}getAllMutationBatches(e){return pc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ep(t,0),r=new ep(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([n,r],(e=>{const t=this.Zr(e.Hr);i.push(t)})),pc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new tu(Rl);return t.forEach((e=>{const t=new ep(e,0),r=new ep(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],(e=>{n=n.add(e.Hr)}))})),pc.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Wl.isDocumentKey(i)||(i=i.child(""));const a=new ep(new Wl(i),0);let s=new tu(Rl);return this.Yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Hr)),!0)}),a),pc.resolve(this.ei(s))}ei(e){const t=[];return e.forEach((e=>{const n=this.Zr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){bl(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return pc.forEach(t.mutations,(r=>{const i=new ep(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Yr=n}))}rr(e){}containsKey(e,t){const n=new ep(t,0),r=this.Yr.firstAfterOrEqual(n);return pc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,pc.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class np{constructor(e){this.ni=e,this.docs=new Jc(Wl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return pc.resolve(n?n.document.mutableCopy():Hu.newInvalidDocument(t))}getEntries(e,t){let n=Md();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Hu.newInvalidDocument(e))})),pc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Md();const a=t.path,s=new Wl(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||uc(lc(s),n)<=0||(r.has(s.key)||zd(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return pc.resolve(i)}getAllFromCollectionGroup(e,t,n,r){vl(9500)}ri(e,t){return pc.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new rp(this)}getSize(e){return pc.resolve(this.size)}}class rp extends Kf{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)})),pc.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class ip{constructor(e){this.persistence=e,this.ii=new Rd((e=>gd(e)),yd),this.lastRemoteSnapshotVersion=ic.min(),this.highestTargetId=0,this.si=0,this.oi=new Xf,this.targetCount=0,this._i=Ff.ar()}forEachTarget(e,t){return this.ii.forEach(((e,n)=>t(n))),pc.resolve()}getLastRemoteSnapshotVersion(e){return pc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pc.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),pc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),pc.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Ff(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,pc.resolve()}updateTargetData(e,t){return this.hr(t),pc.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,pc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ii.forEach(((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.ii.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),pc.waitFor(i).next((()=>r))}getTargetCount(e){return pc.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return pc.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),pc.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),pc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),pc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return pc.resolve(n)}containsKey(e,t){return pc.resolve(this.oi.containsKey(t))}}class ap{constructor(e,t){this.ai={},this.overlays={},this.ui=new yc(0),this.ci=!1,this.ci=!0,this.li=new Jf,this.referenceDelegate=e(this),this.hi=new ip(this),this.indexManager=new Of,this.remoteDocumentCache=function(e){return new np(e)}((e=>this.referenceDelegate.Pi(e))),this.serializer=new Af(t),this.Ti=new Yf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new tp(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){pl("MemoryPersistence","Starting transaction:",e);const r=new sp(this.ui.next());return this.referenceDelegate.Ii(),n(r).next((e=>this.referenceDelegate.di(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ei(e,t){return pc.or(Object.values(this.ai).map((n=>()=>n.containsKey(e,t))))}}class sp extends hc{constructor(e){super(),this.currentSequenceNumber=e}}class op{constructor(e){this.persistence=e,this.Ai=new Xf,this.Ri=null}static Vi(e){return new op(e)}get mi(){if(this.Ri)return this.Ri;throw vl(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),pc.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),pc.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),pc.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((e=>this.mi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.mi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pc.forEach(this.mi,(n=>{const r=Wl.fromPath(n);return this.fi(e,r).next((e=>{e||t.removeEntry(r,ic.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return pc.or([()=>pc.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class lp{constructor(e,t){this.persistence=e,this.gi=new Rd((e=>Sc(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Wf(this,t)}static Vi(e,t){return new lp(e,t)}Ii(){}di(e){return pc.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}yr(e){let t=0;return this.gr(e,(e=>{t++})).next((()=>t))}gr(e,t){return pc.forEach(this.gi,((n,r)=>this.Sr(e,n,r).next((e=>e?pc.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ri(e,(r=>this.Sr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,ic.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),pc.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),pc.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),pc.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),pc.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pu(e.data.value)),t}Sr(e,t,n){return pc.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return pc.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=Kd(),r=Kd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new cp(e,t.fromCache,n,r)}}class up{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class dp{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=Xe()?8:mc(Ye())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ps(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ys(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new up;return this.ws(e,t,n).next((r=>{if(i.result=r,this.Rs)return this.Ss(e,t,n,r.size)}))})).next((()=>i.result))}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(fl()<=wt.DEBUG&&pl("QueryEngine","SDK will not create cache indexes for query:",Ad(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),pc.resolve()):(fl()<=wt.DEBUG&&pl("QueryEngine","Query:",Ad(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(fl()<=wt.DEBUG&&pl("QueryEngine","The SDK decides to create cache indexes for query:",Ad(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_d(t))):pc.resolve())}ps(e,t){if(xd(t))return pc.resolve(null);let n=_d(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Nd(t,null,"F"),n=_d(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Kd(...r);return this.gs.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.bs(t,r);return this.Ds(t,a,i,n.readTime)?this.ps(e,Nd(t,null,"F")):this.vs(e,a,t,n)}))))})))))}ys(e,t,n,r){return xd(t)||r.isEqual(ic.min())?pc.resolve(null):this.gs.getDocuments(e,n).next((i=>{const a=this.bs(t,i);return this.Ds(t,a,n,r)?pc.resolve(null):(fl()<=wt.DEBUG&&pl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ad(t)),this.vs(e,a,t,oc(r,ac)).next((e=>e)))}))}bs(e,t){let n=new tu(Od(e));return t.forEach(((t,r)=>{zd(e,r)&&(n=n.add(r))})),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ws(e,t,n){return fl()<=wt.DEBUG&&pl("QueryEngine","Using full collection scan to execute query:",Ad(t)),this.gs.getDocumentsMatchingQuery(e,t,cc.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const hp="LocalStore";class fp{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new Jc(Rl),this.Ms=new Rd((e=>gd(e)),yd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qf(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function pp(e,t,n,r){return new fp(e,t,n,r)}async function mp(e,t){const n=kl(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ns(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let s=Kd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Bs:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function gp(e){const t=kl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.hi.getLastRemoteSnapshotVersion(e)))}function yp(e,t,n){let r=Kd(),i=Kd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Md();return n.forEach(((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ic.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):pl(hp,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),{Ls:r,ks:i}}))}function vp(e,t){const n=kl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=vc),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function wp(e,t){const n=kl(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.hi.getTargetData(e,t).next((i=>i?(r=i,pc.resolve(r)):n.hi.allocateTargetId(e).next((i=>(r=new jf(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e}))}async function bp(e,t,n){const r=kl(e),i=r.Fs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!gc(e))throw e;pl(hp,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function kp(e,t,n){const r=kl(e);let i=ic.min(),a=Kd();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=kl(e),i=r.Ms.get(n);return void 0!==i?pc.resolve(r.Fs.get(i)):r.hi.getTargetData(t,n)}(r,e,_d(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:ic.min(),n?a:Kd()))).next((e=>(xp(r,Pd(t),e),{documents:e,qs:a})))))}function xp(e,t,n){let r=e.xs.get(t)||ic.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.xs.set(t,r)}class Sp{constructor(){this.activeTargetIds=Qd()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ep{constructor(){this.Fo=new Sp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Sp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _p{xo(e){}shutdown(){}}const Tp="ConnectivityMonitor";class Ip{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){pl(Tp,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){pl(Tp,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Np=null;function Cp(){return null===Np?Np=268435456+Math.round(2147483648*Math.random()):Np++,"0x"+Np.toString(16)}const jp="RestConnection",Ap={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zp{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===vu?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){const a=Cp(),s=this.Go(e,t.toUriEncodedString());pl(jp,`Sending RPC '${e}' ${a}:`,s,n);const o={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(o,r,i);const{host:l}=new URL(s),c=He(l);return this.jo(e,s,o,n,c).then((t=>(pl(jp,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw gl(jp,`RPC '${e}' ${a} failed with error: `,t,"url: ",s,"request:",n),t}))}Jo(e,t,n,r,i,a){return this.Wo(e,t,n,r,i)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+dl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Go(e,t){const n=Ap[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}class Pp{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const Op="WebChannelConnection";class Dp extends zp{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,i){const a=Cp();return new Promise(((i,s)=>{const o=new Jo;o.setWithCredentials(!0),o.listenOnce(el.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case tl.NO_ERROR:const t=o.getResponseJson();pl(Op,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case tl.TIMEOUT:pl(Op,`RPC '${e}' ${a} timed out`),s(new Sl(xl.DEADLINE_EXCEEDED,"Request time out"));break;case tl.HTTP_ERROR:const n=o.getStatus();if(pl(Op,`RPC '${e}' ${a} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(xl).indexOf(t)>=0?t:xl.UNKNOWN}(t.status);s(new Sl(e,t.message))}else s(new Sl(xl.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Sl(xl.UNAVAILABLE,"Connection failed."));break;default:vl(9055,{c_:e,streamId:a,l_:o.getLastErrorCode(),h_:o.getLastError()})}}finally{pl(Op,`RPC '${e}' ${a} completed.`)}}));const l=JSON.stringify(r);pl(Op,`RPC '${e}' ${a} sending request:`,r),o.send(t,"POST",l,n,15)}))}P_(e,t,n){const r=Cp(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=al(),s=il(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.zo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");pl(Op,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=a.createWebChannel(c,o);this.T_(u);let d=!1,h=!1;const f=new Pp({Ho:t=>{h?pl(Op,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(pl(Op,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),pl(Op,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Yo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Xo.EventType.OPEN,(()=>{h||(pl(Op,`RPC '${e}' stream ${r} transport opened.`),f.s_())})),p(u,Xo.EventType.CLOSE,(()=>{h||(h=!0,pl(Op,`RPC '${e}' stream ${r} transport closed`),f.__(),this.I_(u))})),p(u,Xo.EventType.ERROR,(t=>{h||(h=!0,gl(Op,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.__(new Sl(xl.UNAVAILABLE,"The operation could not be completed")))})),p(u,Xo.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];bl(!!i,16349);const a=i,s=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){pl(Op,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=zh[e];if(void 0!==t)return Dh(t)}(t),i=s.message;void 0===n&&(n=xl.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.__(new Sl(n,i)),u.close()}else pl(Op,`RPC '${e}' stream ${r} received:`,i),f.a_(i)}})),p(s,rl.STAT_EVENT,(t=>{t.stat===nl.PROXY?pl(Op,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===nl.NOPROXY&&pl(Op,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.o_()}),0),f}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function Rp(){return"undefined"!=typeof document?document:null}function Lp(e){return new ef(e,!0)}class Mp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&pl("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const Fp="PersistentStream";class Up{constructor(e,t,n,r,i,a,s,o){this.Fi=e,this.w_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Mp(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===xl.RESOURCE_EXHAUSTED?(ml(t.toString()),ml("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===xl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.b_===t&&this.W_(n,r)}),(t=>{e((()=>{const e=new Sl(xl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)}))}))}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.e_((()=>{n((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((e=>{n((()=>this.G_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.C_?this.j_(e):this.onNext(e)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return pl(Fp,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(pl(Fp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Vp extends Up{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vl(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(bl(void 0===t||"string"==typeof t,58123),au.fromBase64String(t||"")):(bl(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),au.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?xl.UNKNOWN:Dh(e.code);return new Sl(t,e.message||"")}(s);n=new Wh(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=df(e,r.document.name),a=sf(r.document.updateTime),s=r.document.createTime?sf(r.document.createTime):ic.min(),o=new Bu({mapValue:{fields:r.document.fields}}),l=Hu.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new qh(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=df(e,r.document),a=r.readTime?sf(r.readTime):ic.min(),s=Hu.newNoDocument(i,a),o=r.removedTargetIds||[];n=new qh([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=df(e,r.document),a=r.removedTargetIds||[];n=new qh([],a,i,null)}else{if(!("filter"in t))return vl(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Ah(r,i),s=e.targetId;n=new Hh(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ic.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ic.min():t.readTime?sf(t.readTime):ic.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=pf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=vd(r)?{documents:vf(e,r)}:{query:wf(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=rf(e,t.resumeToken);const r=tf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ic.min())>0){n.readTime=nf(e,t.snapshotVersion.toTimestamp());const r=tf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vl(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=pf(this.serializer),t.removeTarget=e,this.k_(t)}}class $p extends Up{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return bl(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bl(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){bl(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(bl(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?sf(e.updateTime):sf(t);return n.isEqual(ic.min())&&(n=sf(t)),new hh(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=sf(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=pf(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>yf(this.serializer,e)))};this.k_(t)}}class Bp{}class qp extends Bp{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new Sl(xl.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,s]=i;return this.connection.Wo(e,lf(t,n),r,a,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===xl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Sl(xl.UNKNOWN,e.toString())}))}Jo(e,t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[s,o]=a;return this.connection.Jo(e,lf(t,n),r,s,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===xl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Sl(xl.UNKNOWN,e.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class Hp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ml(t),this._a=!1):pl("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const Wp="RemoteStore";class Kp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo((e=>{n.enqueueAndForget((async()=>{nm(this)&&(pl(Wp,"Restarting streams for network reachability change."),await async function(e){const t=kl(e);t.Ia.add(4),await Qp(t),t.Aa.set("Unknown"),t.Ia.delete(4),await Gp(t)}(this))}))})),this.Aa=new Hp(n,r)}}async function Gp(e){if(nm(e))for(const t of e.da)await t(!0)}async function Qp(e){for(const t of e.da)await t(!1)}function Yp(e,t){const n=kl(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),tm(n)?em(n):km(n).x_()&&Jp(n,t))}function Zp(e,t){const n=kl(e),r=km(n);n.Ta.delete(t),r.x_()&&Xp(n,t),0===n.Ta.size&&(r.x_()?r.B_():nm(n)&&n.Aa.set("Unknown"))}function Jp(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ic.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}km(e).H_(t)}function Xp(e,t){e.Ra.$e(t),km(e).Y_(t)}function em(e){e.Ra=new Gh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),km(e).start(),e.Aa.aa()}function tm(e){return nm(e)&&!km(e).M_()&&e.Ta.size>0}function nm(e){return 0===kl(e).Ia.size}function rm(e){e.Ra=void 0}async function im(e){e.Aa.set("Online")}async function am(e){e.Ta.forEach(((t,n)=>{Jp(e,t)}))}async function sm(e,t){rm(e),tm(e)?(e.Aa.la(t),em(e)):e.Aa.set("Unknown")}async function om(e,t,n){if(e.Aa.set("Online"),t instanceof Wh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){pl(Wp,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await lm(e,n)}else if(t instanceof qh?e.Ra.Ye(t):t instanceof Hh?e.Ra.it(t):e.Ra.et(t),!n.isEqual(ic.min()))try{const t=await gp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ta.get(r);i&&e.Ta.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(au.EMPTY_BYTE_STRING,r.snapshotVersion)),Xp(e,t);const i=new jf(r.target,t,n,r.sequenceNumber);Jp(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){pl(Wp,"Failed to raise snapshot:",t),await lm(e,t)}}async function lm(e,t,n){if(!gc(t))throw t;e.Ia.add(1),await Qp(e),e.Aa.set("Offline"),n||(n=()=>gp(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{pl(Wp,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await Gp(e)}))}function cm(e,t){return t().catch((n=>lm(e,n,t)))}async function um(e){const t=kl(e),n=xm(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:vc;for(;dm(t);)try{const e=await vp(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,hm(t,e)}catch(e){await lm(t,e)}fm(t)&&pm(t)}function dm(e){return nm(e)&&e.Pa.length<10}function hm(e,t){e.Pa.push(t);const n=xm(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function fm(e){return nm(e)&&!xm(e).M_()&&e.Pa.length>0}function pm(e){xm(e).start()}async function mm(e){xm(e).na()}async function gm(e){const t=xm(e);for(const n of e.Pa)t.X_(n.mutations)}async function ym(e,t,n){const r=e.Pa.shift(),i=Ch.from(r,t,n);await cm(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await um(e)}async function vm(e,t){t&&xm(e).Z_&&await async function(e,t){if(function(e){return Oh(e)&&e!==xl.ABORTED}(t.code)){const n=e.Pa.shift();xm(e).N_(),await cm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await um(e)}}(e,t),fm(e)&&pm(e)}async function wm(e,t){const n=kl(e);n.asyncQueue.verifyOperationInProgress(),pl(Wp,"RemoteStore received new credentials");const r=nm(n);n.Ia.add(3),await Qp(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await Gp(n)}async function bm(e,t){const n=kl(e);t?(n.Ia.delete(2),await Gp(n)):t||(n.Ia.add(2),await Qp(n),n.Aa.set("Unknown"))}function km(e){return e.Va||(e.Va=function(e,t,n){const r=kl(e);return r.ia(),new Vp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:im.bind(null,e),e_:am.bind(null,e),n_:sm.bind(null,e),J_:om.bind(null,e)}),e.da.push((async t=>{t?(e.Va.N_(),tm(e)?em(e):e.Aa.set("Unknown")):(await e.Va.stop(),rm(e))}))),e.Va}function xm(e){return e.ma||(e.ma=function(e,t,n){const r=kl(e);return r.ia(),new $p(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:mm.bind(null,e),n_:vm.bind(null,e),ea:gm.bind(null,e),ta:ym.bind(null,e)}),e.da.push((async t=>{t?(e.ma.N_(),await um(e)):(await e.ma.stop(),e.Pa.length>0&&(pl(Wp,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))}))),e.ma}class Sm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new El,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new Sm(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sl(xl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Em(e,t){if(ml("AsyncQueue",`${t}: ${e}`),gc(e))return new Sl(xl.UNAVAILABLE,`${t}: ${e}`);throw e}class _m{static emptySet(e){return new _m(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Wl.comparator(t.key,n.key):(e,t)=>Wl.comparator(e.key,t.key),this.keyedMap=Ud(),this.sortedSet=new Jc(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _m))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new _m;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Tm{constructor(){this.fa=new Jc(Wl.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):vl(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Im{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new Im(e,t,_m.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Nm{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class Cm{constructor(){this.queries=jm(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=kl(e),r=n.queries;n.queries=jm(),r.forEach(((e,n)=>{for(const r of n.wa)r.onError(t)}))}(this,new Sl(xl.ABORTED,"Firestore shutting down"))}}function jm(){return new Rd((e=>jd(e)),Cd)}async function Am(e,t){const n=kl(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.Sa()&&t.ba()&&(r=2):(a=new Nm,r=t.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Em(e,`Initialization of query '${Ad(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,a),a.wa.push(t),t.va(n.onlineState),a.ya&&t.Ca(a.ya)&&Dm(n)}async function zm(e,t){const n=kl(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.wa.indexOf(t);e>=0&&(a.wa.splice(e,1),0===a.wa.length?i=t.ba()?0:1:!a.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Pm(e,t){const n=kl(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(i)&&(r=!0);t.ya=i}}r&&Dm(n)}function Om(e,t,n){const r=kl(e),i=r.queries.get(t);if(i)for(const a of i.wa)a.onError(n);r.queries.delete(t)}function Dm(e){e.Da.forEach((e=>{e.next()}))}var Rm,Lm;(Lm=Rm||(Rm={})).Fa="default",Lm.Cache="cache";class Mm{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Im(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=Im.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Rm.Cache}}class Fm{constructor(e){this.key=e}}class Um{constructor(e){this.key=e}}class Vm{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Kd(),this.mutatedKeys=Kd(),this.Xa=Od(e),this.eu=new _m(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new Tm,r=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=zd(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.iu(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Xa(u,o)>0||l&&this.Xa(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{eu:a,ru:n,Ds:s,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vl(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc))),this.su(n),r=null!=r&&r;const s=t&&!r?this.ou():[],o=0===this.Za.size&&this.current&&!r?1:0,l=o!==this.Ya;return this.Ya=o,0!==a.length||l?{snapshot:new Im(this.query,e.eu,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:s}:{_u:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Tm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Kd(),this.eu.forEach((e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))}));const t=[];return e.forEach((e=>{this.Za.has(e)||t.push(new Um(e))})),this.Za.forEach((n=>{e.has(n)||t.push(new Fm(n))})),t}uu(e){this.Ha=e.qs,this.Za=Kd();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Im.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const $m="SyncEngine";class Bm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class qm{constructor(e){this.key=e,this.lu=!1}}class Hm{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new Rd((e=>jd(e)),Cd),this.Tu=new Map,this.Iu=new Set,this.du=new Jc(Wl.comparator),this.Eu=new Map,this.Au=new Xf,this.Ru={},this.Vu=new Map,this.mu=Ff.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function Wm(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=fg(e);let i;const a=r.Pu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await Gm(r,t,n,!0),i}async function Km(e,t){const n=fg(e);await Gm(n,t,!0,!1)}async function Gm(e,t,n,r){const i=await wp(e.localStore,_d(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Qm(e,t,a,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Yp(e.remoteStore,i),o}async function Qm(e,t,n,r,i){e.gu=(t,n,r)=>async function(e,t,n,r){let i=t.view.nu(n);i.Ds&&(i=await kp(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.nu(n,i)})));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return og(e,t.targetId,o._u),o.snapshot}(e,t,n,r);const a=await kp(e.localStore,t,!0),s=new Vm(t,a.qs),o=s.nu(a.documents),l=Bh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);og(e,n,c._u);const u=new Bm(t,n,s);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function Ym(e,t,n){const r=kl(e),i=r.Pu.get(t),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter((e=>!Cd(e,t)))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bp(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zp(r.remoteStore,i.targetId),ag(r,i.targetId)})).catch(fc)):(ag(r,i.targetId),await bp(r.localStore,i.targetId,!0))}async function Zm(e,t){const n=kl(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zp(n.remoteStore,r.targetId))}async function Jm(e,t){const n=kl(e);try{const e=await function(e,t){const n=kl(e),r=t.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const s=[];t.targetChanges.forEach(((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.hi.removeMatchingKeys(e,a.removedDocuments,o).next((()=>n.hi.addMatchingKeys(e,a.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(au.EMPTY_BYTE_STRING,ic.min()).withLastLimboFreeSnapshotVersion(ic.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&s.push(n.hi.updateTargetData(e,c))}));let o=Md(),l=Kd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(yp(e,a,t.documentUpdates).next((e=>{o=e.Ls,l=e.ks}))),!r.isEqual(ic.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next((t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return pc.waitFor(s).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Fs=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Eu.get(t);r&&(bl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?bl(r.lu,14607):e.removedDocuments.size>0&&(bl(r.lu,42227),r.lu=!1))})),await ug(n,e,t)}catch(e){await fc(e)}}function Xm(e,t,n){const r=kl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach(((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=kl(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.wa)i.va(t)&&(r=!0)})),r&&Dm(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function eg(e,t,n){const r=kl(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),a=i&&i.key;if(a){let e=new Jc(Wl.comparator);e=e.insert(a,Hu.newNoDocument(a,ic.min()));const n=Kd().add(a),i=new $h(ic.min(),new Map,new Jc(Rl),e,n);await Jm(r,i),r.du=r.du.remove(a),r.Eu.delete(t),cg(r)}else await bp(r.localStore,t,!1).then((()=>ag(r,t,n))).catch(fc)}async function tg(e,t){const n=kl(e),r=t.batch.batchId;try{const e=await function(e,t){const n=kl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=pc.resolve();return a.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);bl(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Kd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);ig(n,r,null),rg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ug(n,e)}catch(e){await fc(e)}}async function ng(e,t,n){const r=kl(e);try{const e=await function(e,t){const n=kl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(bl(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);ig(r,t,n),rg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ug(r,e)}catch(n){await fc(n)}}function rg(e,t){(e.Vu.get(t)||[]).forEach((e=>{e.resolve()})),e.Vu.delete(t)}function ig(e,t,n){const r=kl(e);let i=r.Ru[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function ag(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach((t=>{e.Au.containsKey(t)||sg(e,t)}))}function sg(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Zp(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),cg(e))}function og(e,t,n){for(const r of n)r instanceof Fm?(e.Au.addReference(r.key,t),lg(e,r)):r instanceof Um?(pl($m,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||sg(e,r.key)):vl(19791,{yu:r})}function lg(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(pl($m,"New document in limbo: "+n),e.Iu.add(r),cg(e))}function cg(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new Wl(Bl.fromString(t)),r=e.mu.next();e.Eu.set(r,new qm(n)),e.du=e.du.insert(n,r),Yp(e.remoteStore,new jf(_d(kd(n.path)),r,"TargetPurposeLimboResolution",yc.ue))}}async function ug(e,t,n){const r=kl(e),i=[],a=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach(((e,o)=>{s.push(r.gu(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=cp.Es(o.targetId,e);a.push(t)}})))})),await Promise.all(s),r.hu.J_(i),await async function(e,t){const n=kl(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>pc.forEach(t,(t=>pc.forEach(t.Is,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>pc.forEach(t.ds,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!gc(e))throw e;pl(hp,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,i)}}}(r.localStore,a))}async function dg(e,t){const n=kl(e);if(!n.currentUser.isEqual(t)){pl($m,"User change. New user:",t.toKey());const e=await mp(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach((e=>{e.forEach((e=>{e.reject(new Sl(xl.CANCELLED,t))}))})),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ug(n,e.Bs)}}function hg(e,t){const n=kl(e),r=n.Eu.get(t);if(r&&r.lu)return Kd().add(r.key);{let e=Kd();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function fg(e){const t=kl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eg.bind(null,t),t.hu.J_=Pm.bind(null,t.eventManager),t.hu.pu=Om.bind(null,t.eventManager),t}function pg(e){const t=kl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ng.bind(null,t),t}class mg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return pp(this.persistence,new dp,e.initialUser,this.serializer)}Du(e){return new ap(op.Vi,this.serializer)}bu(e){return new Ep}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mg.provider={build:()=>new mg};class gg extends mg{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){bl(this.persistence.referenceDelegate instanceof lp,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new qf(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?Mf.withCacheSize(this.cacheSizeBytes):Mf.DEFAULT;return new ap((e=>lp.Vi(e,t)),this.serializer)}}class yg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Xm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=dg.bind(null,this.syncEngine),await bm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Cm}createDatastore(e){const t=Lp(e.databaseInfo.databaseId),n=function(e){return new Dp(e)}(e.databaseInfo);return function(e,t,n,r){return new qp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Kp(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Xm(this.syncEngine,e,0)),Ip.C()?new Ip:new _p)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new Hm(e,t,n,r,i,a);return s&&(o.fu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=kl(e);pl(Wp,"RemoteStore shutting down."),t.Ia.add(5),await Qp(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}yg.provider={build:()=>new yg};class vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ml("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const wg="FirestoreClient";class bg{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ul.UNAUTHENTICATED,this.clientId=Dl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{pl(wg,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(pl(wg,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new El;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Em(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function kg(e,t){e.asyncQueue.verifyOperationInProgress(),pl(wg,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await mp(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>{gl("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then((()=>{pl("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((e=>{gl("Terminating Firestore due to IndexedDb database deletion failed",e)}))})),e._offlineComponents=t}async function xg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Sg(e);pl(wg,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>wm(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>wm(t.remoteStore,n))),e._onlineComponents=t}async function Sg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){pl(wg,"Using user provided OfflineComponentProvider");try{await kg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===xl.FAILED_PRECONDITION||e.code===xl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await kg(e,new mg)}}else pl(wg,"Using default OfflineComponentProvider"),await kg(e,new gg(void 0));return e._offlineComponents}async function Eg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(pl(wg,"Using user provided OnlineComponentProvider"),await xg(e,e._uninitializedComponentsProvider._online)):(pl(wg,"Using default OnlineComponentProvider"),await xg(e,new yg))),e._onlineComponents}function _g(e){return Eg(e).then((e=>e.syncEngine))}async function Tg(e){const t=await Eg(e),n=t.eventManager;return n.onListen=Wm.bind(null,t.syncEngine),n.onUnlisten=Ym.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Km.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Zm.bind(null,t.syncEngine),n}function Ig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new El;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new vg({next:n=>{a.Ou(),t.enqueueAndForget((()=>zm(e,s))),n.fromCache&&"server"===r.source?i.reject(new Sl(xl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Mm(n,a,{includeMetadataChanges:!0,ka:!0});return Am(e,s)}(await Tg(e),e.asyncQueue,t,n,r))),r.promise}function Ng(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Cg=new Map,jg="firestore.googleapis.com",Ag=!0;class zg{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Sl(xl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jg,this.ssl=Ag}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Ag;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Lf;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Vf)throw new Sl(xl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Sl(xl.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ng(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Sl(xl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Sl(xl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Sl(xl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Sl(xl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Sl(xl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zg(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Tl;switch(e.type){case"firstParty":return new jl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Sl(xl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Cg.get(e);t&&(pl("ComponentProvider","Removing Datastore"),Cg.delete(e),t.terminate())}(this),Promise.resolve()}}function Og(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=Jl(e,Pg);const a=He(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;a&&(We(`https://${l}`),Qe("Firestore",!0)),s.host!==jg&&s.host!==l&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:a,emulatorOptions:r});if(!at(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ul.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Le(JSON.stringify({alg:"none",type:"JWT"})),Le(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Sl(xl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ul(a)}e._authCredentials=new Il(new _l(t,n))}}class Dg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Dg(this.firestore,e,this._query)}}class Rg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rg(this.firestore,e,this._key)}toJSON(){return{type:Rg._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ec(t,Rg._jsonSchema))return new Rg(e,n||null,new Wl(Bl.fromString(t.referencePath)))}}Rg._jsonSchemaVersion="firestore/documentReference/1.0",Rg._jsonSchema={type:Xl("string",Rg._jsonSchemaVersion),referencePath:Xl("string")};class Lg extends Dg{constructor(e,t,n){super(e,t,kd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rg(this.firestore,null,new Wl(e))}withConverter(e){return new Lg(this.firestore,e,this._path)}}function Mg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ft(e),Kl("collection","path",t),e instanceof Pg){const n=Bl.fromString(t,...r);return Ql(n),new Lg(e,null,n)}{if(!(e instanceof Rg||e instanceof Lg))throw new Sl(xl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bl.fromString(t,...r));return Ql(n),new Lg(e.firestore,null,n)}}function Fg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ft(e),1===arguments.length&&(t=Dl.newId()),Kl("doc","path",t),e instanceof Pg){const n=Bl.fromString(t,...r);return Gl(n),new Rg(e,null,new Wl(n))}{if(!(e instanceof Rg||e instanceof Lg))throw new Sl(xl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bl.fromString(t,...r));return Gl(n),new Rg(e.firestore,e instanceof Lg?e.converter:null,new Wl(n))}}const Ug="AsyncQueue";class Vg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Mp(this,"async_queue_retry"),this.oc=()=>{const e=Rp();e&&pl(Ug,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=Rp();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Rp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new El;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(ew){if(!gc(ew))throw ew;pl(Ug,"Operation failed with retryable error: "+ew)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((e=>{throw this.tc=e,this.nc=!1,ml("INTERNAL UNHANDLED ERROR: ",$g(e)),e})).then((e=>(this.nc=!1,e))))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=Sm.createAndSchedule(this,e,t,n,(e=>this.lc(e)));return this.ec.push(r),r}ac(){this.tc&&vl(47125,{hc:$g(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function $g(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Bg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class qg extends Pg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Vg,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vg(e),this._firestoreClient=void 0,await e}}}function Hg(e,t){const n="object"==typeof e?e:zn(),r="string"==typeof e?e:t||vu,i=Tn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=Ve(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Og(i,...e)}return i}function Wg(e){if(e._terminated)throw new Sl(xl.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Kg(e),e._firestoreClient}function Kg(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new yu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ng(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new bg(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Gg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gg(au.fromBase64String(e))}catch(e){throw new Sl(xl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Gg(au.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gg._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ec(e,Gg._jsonSchema))return Gg.fromBase64String(e.bytes)}}Gg._jsonSchemaVersion="firestore/bytes/1.0",Gg._jsonSchema={type:Xl("string",Gg._jsonSchemaVersion),bytes:Xl("string")};class Qg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Sl(xl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yg{constructor(e){this._methodName=e}}class Zg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Sl(xl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Sl(xl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Rl(this._lat,e._lat)||Rl(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zg._jsonSchemaVersion}}static fromJSON(e){if(ec(e,Zg._jsonSchema))return new Zg(e.latitude,e.longitude)}}Zg._jsonSchemaVersion="firestore/geoPoint/1.0",Zg._jsonSchema={type:Xl("string",Zg._jsonSchemaVersion),latitude:Xl("number"),longitude:Xl("number")};class Jg{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Jg._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ec(e,Jg._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((e=>"number"==typeof e)))return new Jg(e.vectorValues);throw new Sl(xl.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jg._jsonSchemaVersion="firestore/vectorValue/1.0",Jg._jsonSchema={type:Xl("string",Jg._jsonSchemaVersion),vectorValues:Xl("object")};const Xg=/^__.*__$/;class ey{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new xh(e,this.data,this.fieldMask,t,this.fieldTransforms):new kh(e,this.data,t,this.fieldTransforms)}}class ty{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new xh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ny(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vl(40011,{Ec:e})}}class ry{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return wy(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(ny(this.Ec)&&Xg.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class iy{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Lp(e)}Dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ry({Ec:e,methodName:t,bc:n,path:Hl.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ay(e){const t=e._freezeSettings(),n=Lp(e._databaseId);return new iy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sy(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Dc(a.merge||a.mergeFields?2:0,t,n,i);my("Data must be an object, but it was:",s,r);const o=fy(r,s);let l,c;if(a.merge)l=new ru(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=gy(t,r,n);if(!s.contains(i))throw new Sl(xl.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);by(e,i)||e.push(i)}l=new ru(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new ey(new Bu(o),l,c)}class oy extends Yg{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oy}}class ly extends Yg{_toFieldTransform(e){return new dh(e.path,new rh)}isEqual(e){return e instanceof ly}}function cy(e,t,n,r){const i=e.Dc(1,t,n);my("Data must be an object, but it was:",i,r);const a=[],s=Bu.empty();Yc(r,((e,r)=>{const o=vy(t,e,n);r=ft(r);const l=i.gc(o);if(r instanceof oy)a.push(o);else{const e=hy(r,l);null!=e&&(a.push(o),s.set(o,e))}}));const o=new ru(a);return new ty(s,o,i.fieldTransforms)}function uy(e,t,n,r,i,a){const s=e.Dc(1,t,n),o=[gy(t,r,n)],l=[i];if(a.length%2!=0)throw new Sl(xl.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(gy(t,a[h])),l.push(a[h+1]);const c=[],u=Bu.empty();for(let h=o.length-1;h>=0;--h)if(!by(c,o[h])){const e=o[h];let t=l[h];t=ft(t);const n=s.gc(e);if(t instanceof oy)c.push(e);else{const r=hy(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ru(c);return new ty(u,d,s.fieldTransforms)}function dy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return hy(n,e.Dc(r?4:3,t))}function hy(e,t){if(py(e=ft(e)))return my("Unsupported field value:",t,e),fy(e,t);if(e instanceof Yg)return function(e,t){if(!ny(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=hy(i,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ft(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Jd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=rc.fromDate(e);return{timestampValue:nf(t.serializer,n)}}if(e instanceof rc){const n=new rc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nf(t.serializer,n)}}if(e instanceof Zg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gg)return{bytesValue:rf(t.serializer,e._byteString)};if(e instanceof Rg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:of(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Jg)return function(e,t){return{mapValue:{fields:{[bu]:{stringValue:Su},[Eu]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return Yd(t.serializer,e)}))}}}}}}(e,t);throw t.wc(`Unsupported field value: ${Zl(e)}`)}(e,t)}function fy(e,t){const n={};return Zc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yc(e,((e,r)=>{const i=hy(r,t.Vc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function py(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rc||e instanceof Zg||e instanceof Gg||e instanceof Rg||e instanceof Yg||e instanceof Jg)}function my(e,t,n){if(!py(n)||!Yl(n)){const r=Zl(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function gy(e,t,n){if((t=ft(t))instanceof Qg)return t._internalPath;if("string"==typeof t)return vy(e,t);throw wy("Field path arguments must be of type string or ",e,!1,void 0,n)}const yy=new RegExp("[~\\*/\\[\\]]");function vy(e,t,n){if(t.search(yy)>=0)throw wy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Qg(...t.split("."))._internalPath}catch(r){throw wy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function wy(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Sl(xl.INVALID_ARGUMENT,o+e+l)}function by(e,t){return e.some((e=>e.isEqual(t)))}class ky{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xy extends ky{data(){return super.data()}}function Sy(e,t){return"string"==typeof t?vy(e,t):t instanceof Qg?t._internalPath:t._delegate._internalPath}function Ey(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Sl(xl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _y{}class Ty extends _y{}function Iy(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof _y&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Cy)).length,n=e.filter((e=>e instanceof Ny)).length;if(t>1||t>0&&n>0)throw new Sl(xl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Ny extends Ty{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ny(e,t,n)}_apply(e){const t=this._parse(e);return Oy(e._query,t),new Dg(e.firestore,e.converter,Id(e._query,t))}_parse(e){const t=ay(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Sl(xl.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){Py(s,a);const t=[];for(const n of s)t.push(zy(r,e,n));o={arrayValue:{values:t}}}else o=zy(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Py(s,a),o=dy(n,t,s,"in"===a||"not-in"===a);return Ju.create(i,a,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Cy extends _y{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cy(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Xu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Oy(n,i),n=Id(n,i)}(e._query,t),new Dg(e.firestore,e.converter,Id(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class jy extends Ty{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jy(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Sl(xl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Sl(xl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(t,n)}(e._query,this._field,this._direction);return new Dg(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new wd(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Ay(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Sy("orderBy",e);return jy._create(n,t)}function zy(e,t,n){if("string"==typeof(n=ft(n))){if(""===n)throw new Sl(xl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sd(t)&&-1!==n.indexOf("/"))throw new Sl(xl.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Bl.fromString(n));if(!Wl.isDocumentKey(r))throw new Sl(xl.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ou(e,new Wl(r))}if(n instanceof Rg)return Ou(e,n._key);throw new Sl(xl.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zl(n)}.`)}function Py(e,t){if(!Array.isArray(e)||0===e.length)throw new Sl(xl.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Oy(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Sl(xl.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Sl(xl.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Dy{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_u(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw vl(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Yc(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Eu].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>lu(e.doubleValue)));return new Jg(i)}convertGeoPoint(e){return new Zg(lu(e.latitude),lu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=mu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const t=ou(e);return new rc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Bl.fromString(e);bl(Cf(n),9688,{name:e});const r=new wu(n.get(1),n.get(3)),i=new Wl(n.popFirst(5));return r.isEqual(t)||ml(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Ry(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ly{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class My extends ky{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Fy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Sy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Sl(xl.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=My._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}My._jsonSchemaVersion="firestore/documentSnapshot/1.0",My._jsonSchema={type:Xl("string",My._jsonSchemaVersion),bundleSource:Xl("string","DocumentSnapshot"),bundleName:Xl("string"),bundle:Xl("string")};class Fy extends My{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Uy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ly(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Fy(this._firestore,this._userDataWriter,n.key,n,new Ly(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Sl(xl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Fy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ly(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Fy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ly(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Vy(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Sl(xl.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uy._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach((e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Vy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vl(61501,{type:e})}}Uy._jsonSchemaVersion="firestore/querySnapshot/1.0",Uy._jsonSchema={type:Xl("string",Uy._jsonSchemaVersion),bundleSource:Xl("string","QuerySnapshot"),bundleName:Xl("string"),bundle:Xl("string")};class $y extends Dy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rg(this.firestore,null,t)}}function By(e,t){const n=Jl(e.firestore,qg),r=Fg(e),i=Ry(e.converter,t);return Hy(n,[sy(ay(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fh.exists(!1))]).then((()=>r))}function qy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,s;e=ft(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Bg(n[l])||(o=n[l++]);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Bg(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(a=e.error)||void 0===a?void 0:a.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof Rg)d=Jl(e.firestore,qg),h=kd(e._key.path),u={next:t=>{n[l]&&n[l](Wy(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Jl(e,Dg);d=Jl(t.firestore,qg),h=t._query;const r=new $y(d);u={next:e=>{n[l]&&n[l](new Uy(d,r,t,e))},error:n[l+1],complete:n[l+2]},Ey(e._query)}return function(e,t,n,r){const i=new vg(r),a=new Mm(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Am(await Tg(e),a))),()=>{i.Ou(),e.asyncQueue.enqueueAndForget((async()=>zm(await Tg(e),a)))}}(Wg(d),h,c,u)}function Hy(e,t){return function(e,t){const n=new El;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=pg(e);try{const e=await function(e,t){const n=kl(e),r=rc.now(),i=t.reduce(((e,t)=>e.add(t.key)),Kd());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Md(),l=Kd();return n.Os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{a=i;const s=[];for(const e of t){const t=wh(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new xh(e.key,t,qu(t.value.mapValue),fh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Vd(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new Jc(Rl)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await ug(r,e.changes),await um(r.remoteStore)}catch(e){const t=Em(e,"Failed to persist write");n.reject(t)}}(await _g(e),t,n))),n.promise}(Wg(e),t)}function Wy(e,t,n){const r=n.docs.get(t._key),i=new $y(e);return new My(e,i,t._key,r,new Ly(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){dl=e}(jn),_n(new pt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new qg(new Nl(e.getProvider("auth-internal")),new zl(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Sl(xl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Pn(ll,cl,e),Pn(ll,cl,"esm2017")}();const Ky=An({apiKey:"AIzaSyADxCZAQxx5VOFrWmeQnYOu2tH5c82hXIw",authDomain:"flowmart-9b5e2.firebaseapp.com",projectId:"flowmart-9b5e2",storageBucket:"flowmart-9b5e2.firebasestorage.app",messagingSenderId:"483968490183",appId:"1:483968490183:web:beb66701290a9562e8fce2",measurementId:"G-ZY4J97TT9J"}),Gy=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();e=ft(e);const t=Tn(e,go);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Tn(e,go);if(n.isInitialized()){const e=n.getImmediate();if(at(t,n.getOptions()))return e;throw wo.create("already-initialized")}const r=n.initialize({options:t})}(e)}(Ky),Es(Ky)),Qy=new Li,Yy=new Ri,Zy=Hg(Ky);var Jy=n(579);const Xy=(0,i.createContext)(),ev=(0,i.createContext)(),tv=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)([]),[c,u]=(0,i.useState)({email:"",shippingAddress:{costumerName:"",costumerSurname:"",address:"",company:"",postalCode:"",city:"",phoneNumber:"",phonePrefix:"",selectedCount:"",totalCost:"",shipping:"",productImage:"",productName:"",productPrice:"",discountApplied:!1,discountValue:0},billingAddress:{costumerName:"",costumerSurname:"",address:"",company:"",postalCode:"",city:"",phoneNumber:"",nip:"",phonePrefix:"",selectedCount:"",totalCost:"",shipping:"",productImage:"",productName:"",productPrice:""},useDifferentBilling:!1});(0,i.useEffect)((()=>{sessionStorage.setItem("cart",JSON.stringify(o))}),[o]);return(0,Jy.jsx)(Xy.Provider,{value:{orderData:c,updateOrderData:(e,t)=>{u((n=>({...n,[e]:t})))},updateNestedOrderData:(e,t,n)=>{u((r=>({...r,[e]:{...r[e],[t]:n}})))},isOrderFormValid:n,setIsOrderFormValid:r,isOrderInvoiceFormValid:a,setIsOrderInvoiceFormValid:s,setOrderData:u},children:(0,Jy.jsx)(ev.Provider,{value:{changeProductAmount:(e,t)=>{l((n=>n.map((n=>n.id===e?{...n,amount:Number(t)}:n))))},selectedProducts:o,setSelectedProducts:l,removeProduct:e=>{l((t=>t.filter((t=>t.id!==e))))},addProduct:e=>{l((t=>{const n=t.find((t=>t.id===e.id));return n?t.map((t=>t.id===e.id?{...t,amount:t.amount+1}:t)):[...t,{...e,amount:1,selected:!0}]}))},toggleProductSelection:e=>{l((t=>t.map((t=>t.id===e?{...t,selected:!t.selected}:t))))},selectAllProducts:()=>{l((e=>e.map((e=>({...e,selected:!0})))))},deselectAllProducts:()=>{l((e=>e.map((e=>({...e,selected:!1})))))}},children:t})})},nv=e=>{let{show:t}=e;return t?(0,Jy.jsxs)("div",{className:"Navbar-squeres Cart",children:[(0,Jy.jsx)("div",{className:"fa-cart-shop",style:{textAlign:"center",fontSize:"50px",margin:"20px"},children:(0,Jy.jsx)("i",{className:"fa-solid fa-cart-shopping"})}),(0,Jy.jsx)("p",{className:"test",children:"Tw\xf3j koszyk jest pusty"}),(0,Jy.jsx)("p",{className:"test",children:"Witamy z powrotem! Je\u015bli mia\u0142a\u015b przedmioty w swoim koszyku, zapisali\u015bmy je dla Ciebie. Zaloguj si\u0119 teraz, aby je zobaczy\u0107..."}),"    "]}):null},rv=e=>{let{show:t}=e;const{removeProduct:n,selectedProducts:r,setSelectedProducts:a,changeProductAmount:s,toggleProductSelection:o,selectAllProducts:l,deselectAllProducts:c}=(0,i.useContext)(ev);if(!r||!Array.isArray(r))return null;if(!t)return null;const u=e=>{n(e)},d=r.reduce(((e,t)=>{if(!t.selected)return e;return e+parseFloat(t.price.toString().replace(/[^\d.]/g,""))*(t.amount||1)}),0);return(0,Jy.jsxs)("div",{className:"Navbar-squeres Nav-added-product-box","aria-live":"polite",children:[r.map((e=>(0,Jy.jsxs)("div",{className:"added-product-box ui segment","aria-label":`Produkt: ${e.name}, cena: ${e.price}, ilo\u015b\u0107: ${e.amount}`,children:[(0,Jy.jsx)("div",{className:"accept-product-box "+(e.selected?"selected":""),onClick:()=>o(e.id),role:"button","aria-pressed":e.selected,tabIndex:0,onKeyDown:t=>"Enter"===t.key&&o(e.id),"aria-label":`Zaznacz produkt ${e.name}`,children:(0,Jy.jsx)("i",{className:"fa-solid fa-check"})}),(0,Jy.jsx)("div",{className:"product-box-img",children:(0,Jy.jsx)("img",{src:e.image,alt:e.name})}),(0,Jy.jsx)("div",{className:"product-box-name",children:e.name}),(0,Jy.jsxs)("div",{className:"product-box-amount ui segment",children:[(0,Jy.jsxs)("label",{htmlFor:`amount-${e.id}`,className:"sr-only",children:["Wybierz ilo\u015b\u0107 produktu ",e.name]}),(0,Jy.jsx)("select",{id:`amount-${e.id}`,value:e.amount,onChange:t=>((e,t)=>{s(t,e.target.value)})(t,e.id),"aria-label":`Ilo\u015b\u0107 produktu ${e.name}`,children:[...Array(10).keys()].map((e=>(0,Jy.jsx)("option",{value:e+1,children:e+1},e+1)))})]}),(0,Jy.jsx)("div",{className:"product-box-price",children:e.price}),(0,Jy.jsx)("div",{onClick:()=>u(e.id),className:"product-box-bin",role:"button",tabIndex:0,"aria-label":`Usu\u0144 produkt ${e.name} z koszyka`,onKeyDown:t=>"Enter"===t.key&&u(e.id),children:(0,Jy.jsx)("i",{className:"fa-solid fa-trash"})})]},`${e.id}-${Math.random()}`))),(0,Jy.jsx)("button",{className:"accept-all",onClick:()=>{r.every((e=>e.selected))?c():l()},"aria-label":"Zaznacz wszystkie produkty"}),(0,Jy.jsxs)("div",{className:"product-box-total-cost",children:["Razem:"," ",(0,Jy.jsxs)("span",{className:"costt",children:[0===d?"0.00z\u0142":d<400?d+20:d," ","z\u0142"]})," ","z\u0142"]})]})},iv=e=>{let{show:t,setShow:n}=e;return(0,Jy.jsxs)("div",{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),style:{display:"inline-block",marginLeft:"20px",position:"relative",padding:"10px 15px"},children:[(0,Jy.jsxs)("a",{className:"look desktop-only",href:"#",children:["Zakupy ",(0,Jy.jsx)("i",{className:"fa-solid fa-arrow-down"})]}),t&&(0,Jy.jsx)("div",{className:"Navbar-squeres desktop-only",style:{width:"150px",height:"200px",left:"0",top:"40px"},children:(0,Jy.jsxs)("ul",{className:"ui list navbar-ul-list list ",style:{fontSize:"14px",listStyleType:"none !important",padding:0,margin:"10px"},children:[(0,Jy.jsx)("li",{children:(0,Jy.jsx)(je,{className:"navbar-li-list",to:"/category/electronics",children:"Kolczyki"})}),(0,Jy.jsx)("li",{children:(0,Jy.jsx)(je,{className:"navbar-li-list",to:"/category/fashion",children:" Branzoletki "})}),(0,Jy.jsx)("li",{children:(0,Jy.jsx)(je,{className:"navbar-li-list",to:"/category/beauty",children:"Naszyjniki"})}),(0,Jy.jsx)("li",{children:(0,Jy.jsx)(je,{className:"navbar-li-list",to:"/category/home",children:" Dom"})}),(0,Jy.jsx)("li",{children:(0,Jy.jsx)(je,{className:"navbar-li-list",to:"/category/sport",children:"Sport    "})})]})})]})},av=e=>{let{show:t,setShow:n}=e;const[r,a]=(0,i.useState)(null);return(0,Jy.jsxs)("div",{className:"log",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[(0,Jy.jsx)(je,{to:"/login",className:"look",children:(0,Jy.jsx)("i",{className:"fa-solid fa-user pink"})}),t&&(0,Jy.jsx)("div",{className:"Navbar-squeres after-log-in",style:{width:"170px",height:"85px",left:"-100px",top:"40px"},children:(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{className:"custom-link",children:(0,Jy.jsx)(je,{to:"/login",children:"Zaloguj si\u0119 / Zarejestruj"})}),(0,Jy.jsx)("hr",{})]})})]})},sv=()=>(0,Jy.jsx)("input",{className:"Nav-input",type:"text"}),ov=e=>{let{show:t,setShow:n}=e;const r=Gy.currentUser.uid;return console.log(r),(0,Jy.jsxs)("div",{className:"log",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),"aria-haspopup":"true","aria-expanded":t,children:[(0,Jy.jsx)(je,{to:"/login",className:"look","aria-label":"Przejd\u017a do logowania",children:(0,Jy.jsx)("i",{className:"fa-solid fa-user "})}),t&&(0,Jy.jsx)("div",{className:"Navbar-squeres after-log-in",style:{width:"170px",height:"150px",left:"-100px",top:"40px"},role:"menu","aria-label":"Menu u\u017cytkownika",children:(0,Jy.jsxs)("ul",{style:{listStyleType:"none",padding:0,margin:"10px"},children:[(0,Jy.jsx)("li",{className:"custom-link",role:"menuitem",children:(0,Jy.jsx)(je,{to:"/my-orders",children:"Moje zam\xf3wienia"})}),(0,Jy.jsx)("li",{className:"custom-link",role:"menuitem",children:(0,Jy.jsx)(je,{to:"/my-dm",children:"Moje wiadomo\u015bci"})}),(0,Jy.jsx)("li",{className:"custom-link",role:"menuitem",onClick:()=>function(e){return ft(e).signOut()}(Gy),children:"Wyloguj"})]})})]})},lv=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),{selectedProducts:d}=(0,i.useContext)(ev),[h,f]=(0,i.useState)(null),p=ee();(0,i.useEffect)((()=>{const e=na(Gy,(e=>{f(e)}));return()=>e()}),[]),(0,i.useEffect)((()=>{const e=()=>{window.scrollY>50?u(!0):u(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);return(0,Jy.jsx)("div",{children:(0,Jy.jsxs)("nav",{id:"nav",className:"ui raised very padded segment navbar "+(c?"scroll":""),style:{display:"block"},role:"navigation","aria-label":"G\u0142\xf3wne menu",children:[(0,Jy.jsx)("h1",{children:(0,Jy.jsxs)("a",{className:"ui header nav-title",href:"/",tabIndex:"0","aria-label":"Ring for You - Strona g\u0142\xf3wna",children:["Ring",(0,Jy.jsx)("span",{className:"nav-title-span pink",children:"4"}),"U"]})}),(0,Jy.jsxs)("div",{className:"ui right floated header",style:{position:"relative",right:"30px",display:"flex",alignItems:"center",gap:"15px"},role:"menubar",children:[(0,Jy.jsxs)("div",{className:"search",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),role:"menuitem",tabIndex:"0","aria-haspopup":"true","aria-expanded":o,"aria-label":"Szukaj produkt\xf3w",children:[(0,Jy.jsx)("a",{className:"look",role:"button",tabIndex:"0",children:(0,Jy.jsx)("i",{className:"fa-solid fa-magnifying-glass"})}),o&&(0,Jy.jsx)(sv,{})]}),(0,Jy.jsxs)("div",{onMouseEnter:()=>{t(!0)},onMouseLeave:()=>{t(!1)},style:{position:"relative",display:"inline-block"},role:"menuitem",tabIndex:"0","aria-haspopup":"true","aria-expanded":e,"aria-label":"Koszyk",children:[(0,Jy.jsx)(je,{to:"/payment",className:"look","aria-label":"Przejd\u017a do p\u0142atno\u015bci",tabIndex:"0",children:(0,Jy.jsx)("i",{className:"fa-solid fa-cart-shopping"})}),0===d.length?(0,Jy.jsx)(nv,{show:e,setShow:t}):(0,Jy.jsx)(rv,{show:e,setShow:t})]}),h?(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsxs)("div",{className:"user-name-after-log-in",tabIndex:"0","aria-label":`Zalogowany u\u017cytkownik: ${h.displayName||"U\u017cytkownik"}`,children:["Cze\u015b\u0107, ",h.displayName||"U\u017cytkowniku"]}),(0,Jy.jsx)(ov,{show:n,setShow:r})]}):(0,Jy.jsx)(av,{show:n,setShow:r})]}),(0,Jy.jsx)("div",{className:"ui left floated header nav-main",style:{position:"relative"},children:(0,Jy.jsx)("span",{className:"mobile-only main-page-mobile",onClick:()=>p("/"),role:"link",tabIndex:"0","aria-label":"Przejd\u017a na stron\u0119 g\u0142\xf3wn\u0105",children:"G\u0142\xf3wna"})}),(0,Jy.jsx)(je,{to:"/",className:"look desktop-only pink",role:"link",tabIndex:"0","aria-label":"Strona g\u0142\xf3wna",children:"Strona G\u0142\xf3wna"}),(0,Jy.jsx)(iv,{show:a,setShow:s})]})})},cv=()=>(0,Jy.jsx)("footer",{className:"ui inverted vertical segment ",children:(0,Jy.jsxs)("div",{className:"ui container",children:[(0,Jy.jsx)("div",{children:(0,Jy.jsxs)("p",{className:"Copy-right",children:["\xa9 ",(new Date).getFullYear()," FlowMart. All rights reserved."]})}),(0,Jy.jsxs)("div",{style:{position:"relative"},children:[(0,Jy.jsx)("a",{href:"https://www.instagram.com/jj99flex/",children:(0,Jy.jsx)("i",{className:"fa-brands fa-instagram  "})}),(0,Jy.jsx)("a",{href:"https://www.facebook.com/jachimon.esang",children:(0,Jy.jsx)("i",{className:"fa-brands fa-facebook ",style:{marginLeft:"15px"}})}),(0,Jy.jsx)("a",{href:"#",children:(0,Jy.jsx)("i",{className:"fa-solid fa-circle-arrow-up fixed-box"})})]})]})}),uv=()=>(0,Jy.jsx)("div",{className:"ui raised very padded text home-segment main header-animate",children:(0,Jy.jsxs)("div",{className:"img-header",children:[(0,Jy.jsxs)("h2",{className:"header-text",children:[(0,Jy.jsx)("span",{className:"pink",children:"Bi\u017cuteria"}),", kt\xf3ra podkre\u015bla ka\u017cd\u0105 chwil\u0119"]}),(0,Jy.jsx)("a",{href:"#product",className:"header-button",children:"Poznaj ofert\u0119 "})]})});function dv(){const e=Es(),[t]=Pe(),n=t.get("oobCode"),[r,a]=(0,i.useState)(""),[s,o]=(0,i.useState)("");(0,i.useEffect)((()=>{n&&ea(e,n).then((()=>o("Podaj nowe has\u0142o:"))).catch((()=>o("Link jest nieprawid\u0142owy lub wygas\u0142.")))}),[n,e]);return(0,Jy.jsxs)("div",{children:[(0,Jy.jsx)("h2",{children:"Resetowanie has\u0142a"}),(0,Jy.jsx)("p",{children:s}),"Podaj nowe has\u0142o:"===s&&(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsx)("input",{type:"password",placeholder:"Nowe has\u0142o",value:r,onChange:e=>a(e.target.value)}),(0,Jy.jsx)("button",{onClick:async()=>{try{await async function(e,t,n){await ki(ft(e),{oobCode:t,newPassword:n}).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Xi(e),t}))}(e,n,r),o("Has\u0142o zosta\u0142o zresetowane! Mo\u017cesz si\u0119 teraz zalogowa\u0107.")}catch(t){o(t.message)}},children:"Zmie\u0144 has\u0142o"})]})]})}const hv=()=>{(0,i.useEffect)((()=>{const e=document.querySelectorAll(".terms-container h2");return e.forEach((t=>{t.addEventListener("click",(()=>{const n=t.classList.contains("active");e.forEach((e=>e.classList.remove("active"))),n||t.classList.add("active")}))})),()=>{e.forEach((e=>{e.replaceWith(e.cloneNode(!0))}))}}),[])},fv=()=>(hv(),(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsx)(lv,{}),(0,Jy.jsxs)("main",{className:"terms-container",role:"main","aria-label":"Regulamin sklepu Ring4U",children:[(0,Jy.jsx)("h1",{children:"Regulamin Sklepu Internetowego Ring4U"}),(0,Jy.jsxs)("section",{"aria-label":"Dane Sprzedawcy",children:[(0,Jy.jsx)("h2",{children:"Dane Sprzedawcy"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsxs)("li",{children:["Nazwa sklepu: ",(0,Jy.jsx)("strong",{children:"Ring4U"})]}),(0,Jy.jsxs)("li",{children:["Imi\u0119 i nazwisko w\u0142a\u015bciciela: ",(0,Jy.jsx)("strong",{children:"Joachim Esangbedo"})]}),(0,Jy.jsxs)("li",{children:["Adres: ",(0,Jy.jsx)("strong",{children:"Nowodworska 39/6, 54-433 Wroc\u0142aw, Polska"})]}),(0,Jy.jsxs)("li",{children:["E-mail: ",(0,Jy.jsx)("a",{href:"mailto:esangbedojoachim@gmail.com",children:"esangbedojoachim@gmail.com"})]}),(0,Jy.jsxs)("li",{children:["Telefon: ",(0,Jy.jsx)("strong",{children:"791881256"})]}),(0,Jy.jsxs)("li",{children:["Data wej\u015bcia w \u017cycie: ",(0,Jy.jsx)("strong",{children:"21 wrze\u015bnia 2025 r."})]})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Postanowienia og\xf3lne",children:[(0,Jy.jsx)("h2",{children:"1. Postanowienia og\xf3lne"}),(0,Jy.jsxs)("p",{children:["Sklep internetowy ",(0,Jy.jsx)("strong",{children:"Ring4U"})," dzia\u0142aj\u0105cy pod adresem ",(0,Jy.jsx)("strong",{children:"ring4u.pl"})," prowadzi sprzeda\u017c bi\u017cuterii i akcesori\xf3w w modelu dropshipping. Niniejszy regulamin okre\u015bla zasady korzystania ze sklepu, zawierania um\xf3w sprzeda\u017cy, prawa i obowi\u0105zki stron oraz zasady ochrony danych osobowych zgodnie z RODO i ustaw\u0105 o \u015bwiadczeniu us\u0142ug drog\u0105 elektroniczn\u0105. Regulamin jest dost\u0119pny nieodp\u0142atnie na stronie sklepu i obowi\u0105zuje wszystkich klient\xf3w sklepu."]})]}),(0,Jy.jsxs)("section",{"aria-label":"Definicje",children:[(0,Jy.jsx)("h2",{children:"2. Definicje"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsxs)("li",{children:[(0,Jy.jsx)("strong",{children:"Klient"})," \u2013 osoba fizyczna, prawna lub jednostka organizacyjna korzystaj\u0105ca ze sklepu."]}),(0,Jy.jsxs)("li",{children:[(0,Jy.jsx)("strong",{children:"Sklep"})," \u2013 Ring4U prowadz\u0105cy sprzeda\u017c online."]}),(0,Jy.jsxs)("li",{children:[(0,Jy.jsx)("strong",{children:"Produkt"})," \u2013 przedmiot oferowany do sprzeda\u017cy w sklepie."]}),(0,Jy.jsxs)("li",{children:[(0,Jy.jsx)("strong",{children:"Umowa sprzeda\u017cy"})," \u2013 umowa zawarta mi\u0119dzy klientem a sklepem w drodze zam\xf3wienia z\u0142o\u017conego online."]}),(0,Jy.jsxs)("li",{children:[(0,Jy.jsx)("strong",{children:"Dropshipping"})," \u2013 model sprzeda\u017cy, w kt\xf3rym sklep po\u015bredniczy w sprzeda\u017cy produkt\xf3w, a realizacj\u0119 zam\xf3wienia wykonuje zewn\u0119trzny dostawca/firma partnerska."]})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Oferta i produkty",children:[(0,Jy.jsx)("h2",{children:"3. Oferta i produkty"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{children:"Sklep prezentuje produkty z podaniem cen, dost\u0119pno\u015bci i zdj\u0119\u0107."}),(0,Jy.jsx)("li",{children:"Ceny podawane s\u0105 w z\u0142otych polskich (PLN) i zawieraj\u0105 podatek VAT."}),(0,Jy.jsx)("li",{children:"Opis produkt\xf3w i zdj\u0119cia maj\u0105 charakter informacyjny \u2013 w przypadku nieznacznych r\xf3\u017cnic rzeczywiste produkty mog\u0105 si\u0119 r\xf3\u017cni\u0107."}),(0,Jy.jsx)("li",{children:"W przypadku braku produktu w magazynie dostawcy, klient zostanie poinformowany o op\xf3\u017anieniu lub mo\u017cliwo\u015bci anulowania zam\xf3wienia."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Zam\xf3wienia i zawarcie umowy",children:[(0,Jy.jsx)("h2",{children:"4. Zam\xf3wienia i zawarcie umowy"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{children:"Zam\xf3wienia sk\u0142adane s\u0105 poprzez formularz dost\u0119pny na stronie sklepu."}),(0,Jy.jsx)("li",{children:"Klient dokonuje wyboru produkt\xf3w, podaje dane kontaktowe i adres dostawy, wybiera form\u0119 p\u0142atno\u015bci i potwierdza akceptacj\u0119 regulaminu."}),(0,Jy.jsx)("li",{children:"Umowa sprzeda\u017cy zostaje zawarta w momencie potwierdzenia przyj\u0119cia zam\xf3wienia przez sklep e-mailowo."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"P\u0142atno\u015bci",children:[(0,Jy.jsx)("h2",{children:"5. P\u0142atno\u015bci"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{children:"Sklep umo\u017cliwia p\u0142atno\u015bci online poprzez operator\xf3w zewn\u0119trznych (PayU, Przelewy24, Stripe)."}),(0,Jy.jsx)("li",{children:"Sklep nie przechowuje pe\u0142nych danych kart p\u0142atniczych."}),(0,Jy.jsx)("li",{children:"P\u0142atno\u015b\u0107 jest realizowana w chwili z\u0142o\u017cenia zam\xf3wienia, chyba \u017ce umowa stanowi inaczej."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Dostawa",children:[(0,Jy.jsx)("h2",{children:"6. Dostawa"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{children:"Dostawa produkt\xf3w realizowana jest przez firmy kurierskie wskazane przez dostawc\u0119 (InPost, DPD, DHL)."}),(0,Jy.jsx)("li",{children:"Termin dostawy wynosi zwykle 3\u201310 dni roboczych, w zale\u017cno\u015bci od dost\u0119pno\u015bci u dostawcy dropshippingowego."}),(0,Jy.jsx)("li",{children:"Sklep przekazuje minimalne dane niezb\u0119dne do realizacji zam\xf3wienia dostawcom i kurierom zgodnie z umow\u0105 powierzenia danych."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Reklamacje i zwroty",children:[(0,Jy.jsx)("h2",{children:"7. Reklamacje i zwroty"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{children:"Klient ma prawo do reklamacji w przypadku niezgodno\u015bci produktu z umow\u0105 lub uszkodzenia w transporcie."}),(0,Jy.jsxs)("li",{children:["Reklamacje nale\u017cy zg\u0142asza\u0107 e-mailowo na adres ",(0,Jy.jsx)("a",{href:"mailto:esangbedojoachim@gmail.com",children:"esangbedojoachim@gmail.com"})," lub telefonicznie pod numer ",(0,Jy.jsx)("strong",{children:"791881256"}),"."]}),(0,Jy.jsx)("li",{children:"Zwroty towar\xf3w realizowane s\u0105 zgodnie z ustaw\u0105 o prawach konsumenta i polityk\u0105 sklepu."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Odst\u0105pienie od umowy",children:[(0,Jy.jsx)("h2",{children:"8. Odst\u0105pienie od umowy"}),(0,Jy.jsx)("p",{children:"Klient b\u0119d\u0105cy konsumentem mo\u017ce odst\u0105pi\u0107 od umowy w ci\u0105gu 14 dni od otrzymania produktu."}),(0,Jy.jsx)("h3",{children:"Formularz odst\u0105pienia od umowy:"}),(0,Jy.jsxs)("form",{className:"withdrawal-form",children:[(0,Jy.jsx)("label",{htmlFor:"orderDate",children:"Data zam\xf3wienia:"}),(0,Jy.jsx)("input",{type:"date",id:"orderDate",name:"orderDate",required:!0}),(0,Jy.jsx)("label",{htmlFor:"productName",children:"Nazwa produktu:"}),(0,Jy.jsx)("input",{type:"text",id:"productName",name:"productName",required:!0}),(0,Jy.jsx)("label",{htmlFor:"orderNumber",children:"Numer zam\xf3wienia:"}),(0,Jy.jsx)("input",{type:"text",id:"orderNumber",name:"orderNumber",required:!0}),(0,Jy.jsx)("label",{htmlFor:"fullName",children:"Imi\u0119 i nazwisko:"}),(0,Jy.jsx)("input",{type:"text",id:"fullName",name:"fullName",required:!0}),(0,Jy.jsx)("label",{htmlFor:"address",children:"Adres:"}),(0,Jy.jsx)("input",{type:"text",id:"address",name:"address",required:!0}),(0,Jy.jsx)("label",{htmlFor:"signature",children:"Podpis (opcjonalnie):"}),(0,Jy.jsx)("input",{type:"text",id:"signature",name:"signature"}),(0,Jy.jsx)("button",{type:"submit",children:"Wy\u015blij formularz"})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Ochrona danych osobowych",children:[(0,Jy.jsx)("h2",{children:"9. Ochrona danych osobowych i umowa powierzenia danych"}),(0,Jy.jsxs)("p",{children:["Sklep przetwarza dane osobowe klient\xf3w zgodnie z RODO, ustaw\u0105 o ochronie danych osobowych oraz ustaw\u0105 o \u015bwiadczeniu us\u0142ug drog\u0105 elektroniczn\u0105. Dane przekazywane s\u0105 partnerom dropshippingowym wy\u0142\u0105cznie w zakresie niezb\u0119dnym do realizacji zam\xf3wienia, na podstawie podpisanej ",(0,Jy.jsx)("strong",{children:"Umowy powierzenia danych osobowych"}),". Klient ma prawo do wgl\u0105du, poprawienia oraz usuni\u0119cia swoich danych."]}),(0,Jy.jsx)("h3",{children:"Zakres umowy powierzenia danych"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{children:"Dane klient\xf3w hurtowych i indywidualnych przekazywanych dostawcom w modelu dropshipping."}),(0,Jy.jsx)("li",{children:"Obowi\u0105zki Podmiotu przetwarzaj\u0105cego: zabezpieczenie danych, prowadzenie rejestru upowa\u017cnionych os\xf3b, szkolenia pracownik\xf3w, zg\u0142aszanie narusze\u0144 do Administratora w ci\u0105gu 24h."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Odpowiedzialno\u015b\u0107",children:[(0,Jy.jsx)("h2",{children:"10. Odpowiedzialno\u015b\u0107"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{children:"Sklep odpowiada za realizacj\u0119 zam\xf3wienia zgodnie z umow\u0105 i przepisami prawa."}),(0,Jy.jsx)("li",{children:"Dostawcy dropshippingowi odpowiadaj\u0105 za prawid\u0142ow\u0105 realizacj\u0119 dostaw i stan produkt\xf3w."}),(0,Jy.jsx)("li",{children:"Ka\u017cda ze stron odpowiada za szkody wynik\u0142e z niew\u0142a\u015bciwego przetwarzania danych zgodnie z RODO i Kodeksem cywilnym."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Postanowienia ko\u0144cowe",children:[(0,Jy.jsx)("h2",{children:"11. Postanowienia ko\u0144cowe"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{children:"Regulamin obowi\u0105zuje od dnia jego publikacji na stronie sklepu."}),(0,Jy.jsx)("li",{children:"Sklep zastrzega sobie prawo do zmian regulaminu w przypadku zmian przepis\xf3w, procedur lub dla bezpiecze\u0144stwa klient\xf3w."}),(0,Jy.jsx)("li",{children:"W sprawach nieuregulowanych regulaminem zastosowanie maj\u0105 przepisy prawa polskiego, w szczeg\xf3lno\u015bci RODO, ustawy o \u015bwiadczeniu us\u0142ug drog\u0105 elektroniczn\u0105 oraz Kodeks cywilny."}),(0,Jy.jsx)("li",{children:"Spory rozstrzygane s\u0105 przed s\u0105dem w\u0142a\u015bciwym dla siedziby sklepu."})]})]})]})]})),pv=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),d=ee();return(0,Jy.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 120px)",width:"100%",padding:"20px"},children:(0,Jy.jsxs)("div",{className:"ui container",style:{width:"30%",maxWidth:"450px",boxShadow:"0 0 10px rgba(0,0,0,0.1)",padding:"20px",borderRadius:"8px",backgroundColor:"#fff"},children:[(0,Jy.jsx)("h2",{className:"ui teal image header",style:{textAlign:"center"},children:(0,Jy.jsx)("div",{className:"content",children:"Zaloguj si\u0119 do konta"})}),(0,Jy.jsx)("form",{className:"ui large form",onSubmit:t=>{t.preventDefault(),a&&o?function(e,t,n){return In(e.app)?Promise.reject(Xn(e)):Gi(ft(e),Pi.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Xi(e),t}))}(Gy,e,n).then((async e=>{const t=e.user;await t.reload(),t.emailVerified?(console.log("Zalogowano:",t),d("/")):alert("Prosz\u0119 potwierdzi\u0107 adres e-mail, aby kontynuowa\u0107.")})).catch((e=>{console.error("B\u0142\u0105d logowania:",e.message),alert("Nieprawid\u0142owy email lub has\u0142o.")})):alert("Wpisz poprawne dane")},children:(0,Jy.jsxs)("div",{className:"ui stacked segment",children:[(0,Jy.jsxs)("div",{className:"field",children:[(0,Jy.jsxs)("div",{className:"ui left icon input",children:[(0,Jy.jsx)("i",{className:"user icon"}),(0,Jy.jsx)("input",{type:"text",name:"email",placeholder:"Email",onChange:e=>{const n=e.target.value;t(n),s((e=>{if(!e||e.length>254||e.length<6)return!1;const t=e.split("@");if(2!==t.length)return!1;const[n,r]=t;return!(!n||n.length>64)&&(!(!r||r.length>253)&&(!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+$/.test(n)&&(!!/^[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+$/.test(r)&&(!(r.substring(r.lastIndexOf(".")+1).length>24)&&!e.includes("..")))))})(n))},value:e,style:{border:a||0!==e.length?a?"4px solid green":"4px solid red":"2px solid grey"}})]}),a?(0,Jy.jsx)("div",{style:{color:"grey"},children:"np: JanKowalski@interia.pl"}):(0,Jy.jsx)("div",{children:(0,Jy.jsx)("p",{className:"e-mail-error",style:{color:"red",margin:0},children:"Wpisz poprawny adres e-mail"})})]}),(0,Jy.jsxs)("div",{className:"field",style:{position:"relative"},children:[(0,Jy.jsxs)("div",{className:"ui icon input",children:[(0,Jy.jsx)("i",{className:"lock icon"}),(0,Jy.jsx)("input",{type:c?"text":"password",name:"password",placeholder:"Has\u0142o",onChange:e=>{const t=e.target.value;r(t),l((e=>e.length>=8&&/[A-Z]/.test(e)&&/[a-z]/.test(e)&&/\d/.test(e)&&/[!@#$%^&*(),.?":{}|<>]/.test(e))(t))},value:n,style:{border:o||0!==n.length?o?"4px solid green":"4px solid red":"2px solid grey"}}),(0,Jy.jsx)("button",{type:"button",className:"ui icon button",onClick:()=>u((e=>!e)),style:{position:"absolute",right:"0.5em",top:"50%",transform:"translateY(-50%)"},children:(0,Jy.jsx)("i",{className:c?"eye slash icon":"eye icon","aria-hidden":"true"})})]}),!o&&(0,Jy.jsxs)("ul",{style:{marginTop:"0.5rem",fontSize:"0.9rem",color:"red",paddingLeft:"1.2em"},children:[(0,Jy.jsx)("li",{style:{color:n.length>=8?"green":"red"},children:"\u2714 Min. 8 znak\xf3w"}),(0,Jy.jsx)("li",{style:{color:/[A-Z]/.test(n)?"green":"red"},children:"\u2714 Co najmniej jedna wielka litera (A-Z)"}),(0,Jy.jsx)("li",{style:{color:/[a-z]/.test(n)?"green":"red"},children:"\u2714 Co najmniej jedna ma\u0142a litera (a-z)"}),(0,Jy.jsx)("li",{style:{color:/\d/.test(n)?"green":"red"},children:"\u2714 Co najmniej jedna cyfra (0-9)"}),(0,Jy.jsx)("li",{style:{color:/[!@#$%^&*(),.?":{}|<>]/.test(n)?"green":"red"},children:"\u2714 Co najmniej jeden znak specjalny (!@#... itd.)"})]})]}),(0,Jy.jsx)("button",{type:"submit",className:"ui fluid large teal submit button",children:"Zaloguj"}),(0,Jy.jsx)("div",{className:"password-reset-p",onClick:()=>d("/forgot-password"),children:"Zapomnia\u0142em has\u0142a"})]})}),(0,Jy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1rem",marginBottom:"1rem"},children:[(0,Jy.jsx)("hr",{style:{flex:1,marginRight:10,alignSelf:"center"}}),(0,Jy.jsx)("span",{style:{whiteSpace:"nowrap",color:"grey"},children:"lub"}),(0,Jy.jsx)("hr",{style:{flex:1,marginLeft:10,alignSelf:"center"}})]}),(0,Jy.jsx)("button",{onClick:()=>{Ua(Gy,Qy).then((e=>{console.log("Zalogowano Google:",e.user),d("/")})).catch((e=>{console.error("B\u0142\u0105d logowania Google:",e.message),alert("B\u0142\u0105d logowania Google.")}))},style:{width:"100%",backgroundColor:"#4285F4",color:"white",fontWeight:"bold",padding:"0.7em",marginBottom:"10px",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Zaloguj si\u0119 przez Google"}),(0,Jy.jsx)("button",{onClick:()=>{Ua(Gy,Yy).then((e=>{console.log("Zalogowano Facebook:",e.user),d("/")})).catch((e=>{console.error("B\u0142\u0105d logowania Facebook:",e.message),alert("B\u0142\u0105d logowania Facebook.")}))},style:{width:"100%",backgroundColor:"#1877F2",color:"white",fontWeight:"bold",padding:"0.7em",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Zaloguj si\u0119 przez Facebook"}),(0,Jy.jsxs)("div",{className:"ui message",style:{textAlign:"center",marginTop:"1em"},children:["Nie masz konta? ",(0,Jy.jsx)(je,{to:"/registeremail",children:"Zarejestruj si\u0119"})," - w mgnieniu oka"]})]})})},mv=e=>{let{onClose:t}=e;const[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)("");return(0,Jy.jsx)("div",{className:"discount-box",role:"dialog","aria-modal":"true","aria-labelledby":"discount-title",children:(0,Jy.jsxs)("div",{className:"discount-content",children:[(0,Jy.jsx)("button",{className:"close-btn",onClick:t,"aria-label":"Zamknij okno zni\u017cki",children:"\xd7"}),!a&&(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsxs)("h2",{id:"discount-title",className:"discount-h2",children:[(0,Jy.jsx)("i",{className:"fa-solid fa-clover"})," Odbierz 10% zni\u017cki"]}),(0,Jy.jsx)("p",{className:"center-p",children:"My nie spamujemy \u2013 przeczytaj nasz\u0105 polityk\u0119 prywatno\u015bci."})]}),a?(0,Jy.jsxs)("p",{className:"success-message","aria-live":"polite",children:["TW\xd3J KOD -10%: ",(0,Jy.jsx)("span",{className:"bold",children:"FLOW10"})]}):(0,Jy.jsxs)("form",{className:"discount-form",onSubmit:async e=>{e.preventDefault();if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){l("");try{const e=Hg(zn());await By(Mg(e,"newsletterSubscribers"),{email:n,createdAt:new ly("serverTimestamp"),confirmed:!1}),s(!0)}catch(t){console.error("B\u0142\u0105d zapisu do Firestore:",t),l("Wyst\u0105pi\u0142 b\u0142\u0105d podczas zapisywania. Spr\xf3buj ponownie p\xf3\u017aniej.")}}else l("Wprowad\u017a poprawny adres e-mail.")},children:[(0,Jy.jsx)("input",{className:"discount-input",type:"email",placeholder:"Wpisz sw\xf3j email",required:!0,value:n,onChange:e=>r(e.target.value),"aria-label":"Adres email do subskrypcji newslettera"}),(0,Jy.jsx)("button",{type:"submit",className:"discount-btn",children:(0,Jy.jsx)("p",{className:"discount-btn-p",children:"Zapisz si\u0119"})})]}),o&&(0,Jy.jsx)("p",{className:"error-message",role:"alert",children:o})]})})},gv=()=>{const[e,t]=(0,i.useState)(!1);return(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsx)("div",{className:"discount",onClick:()=>t(!0),role:"button",tabIndex:0,"aria-label":"Odbierz 10% zni\u017cki","aria-expanded":e,onKeyDown:e=>"Enter"===e.key&&t(!0),children:(0,Jy.jsxs)("div",{className:"discount-img",children:[(0,Jy.jsx)("p",{className:"zoom-loop",children:"ODBIERZ 10% ZNI\u017bKI"}),(0,Jy.jsx)("i",{className:"fa-solid fa-arrow-right-long arrow-in-right-corner",style:{fontSize:"22px"}})]})}),e&&(0,Jy.jsx)(mv,{onClose:()=>t(!1),"aria-live":"polite"})]})},yv=(0,i.createContext)(),vv=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)({email:"",shippingAddress:{costumerName:"",costumerSurname:"",address:"",company:"",postalCode:"",city:"",phoneNumber:"",phonePrefix:"",selectedCount:"",totalCost:"",shipping:"",productImage:"",productName:"",productPrice:"",discountApplied:!1,discountValue:0},billingAddress:{costumerName:"",costumerSurname:"",address:"",company:"",postalCode:"",city:"",phoneNumber:"",nip:"",phonePrefix:"",selectedCount:"",totalCost:"",shipping:"",productImage:"",productName:"",productPrice:""},useDifferentBilling:!1,acceptedAge:!1,acceptedRodo:!1}),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1);return(0,Jy.jsx)(yv.Provider,{value:{orderData:o,updateOrderData:(e,t)=>{l((n=>({...n,[e]:t})))},updateNestedOrderData:(e,t,n)=>{l((r=>({...r,[e]:{...r[e],[t]:n}})))},isOrderFormValid:n,setIsOrderFormValid:r,isOrderInvoiceFormValid:a,setIsOrderInvoiceFormValid:s,setOrderData:l,showRodoAlert:d,setShowRodoAlert:h,showAgeAlert:c,setShowAgeAlert:u},children:t})},wv=()=>{const{selectedProducts:e}=(0,i.useContext)(ev),{orderData:t,updateNestedOrderData:n}=(0,i.useContext)(yv),[r,a]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),l=e.reduce(((e,t)=>{if(!t.selected)return e;return e+parseFloat(t.price.toString().replace(/[^\d.]/g,""))*(t.amount||1)}),0),c=t.shippingAddress.discountApplied?(l*(1-t.shippingAddress.discountValue)).toFixed(2):l.toFixed(2),u=e.filter((e=>e.selected)).reduce(((e,t)=>e+(t.amount||1)),0),d=0===l?0:l>=400?"Za darmo":"20.00z\u0142";return(0,Jy.jsxs)("div",{className:"right-order-finalization-box hide-above768",children:[(0,Jy.jsxs)("div",{children:["TWOJE ZAM\xd3WIENIE"," ",(0,Jy.jsx)(je,{to:"/payment",tabIndex:0,"aria-label":"Edytuj zam\xf3wienie",children:"EDYTUJ"})]}),(0,Jy.jsxs)("div",{className:"order-summary",children:[(0,Jy.jsxs)("div",{"aria-live":"polite",children:[u," produkt",1!==u?"y":""]}),(0,Jy.jsxs)("div",{className:"order-total-cost","aria-label":`Koszt produkt\xf3w: ${c} z\u0142`,children:[c," z\u0142"]})]}),(0,Jy.jsxs)("div",{className:"shipping-summary",children:[(0,Jy.jsx)("div",{children:"dostawa "}),(0,Jy.jsx)("div",{"aria-label":`Koszt dostawy: ${d}`,children:d})]}),(0,Jy.jsxs)("div",{children:[(0,Jy.jsx)("p",{className:"order-discount-enter",children:"KOD RABATOWY:"}),(0,Jy.jsx)("input",{type:"text",value:r,onChange:e=>a(e.target.value),placeholder:"Wpisz kod",disabled:t.shippingAddress.discountApplied,"aria-label":"Wpisz kod rabatowy",tabIndex:0}),(0,Jy.jsx)("button",{onClick:()=>{"FLOW10"===r.toUpperCase()?t.shippingAddress.discountApplied?o("Kod rabatowy ju\u017c zosta\u0142 zastosowany."):(n("shippingAddress","discountApplied",!0),n("shippingAddress","discountValue",.1),o("")):o("Nieprawid\u0142owy kod rabatowy.")},disabled:t.shippingAddress.discountApplied,"aria-label":"Zastosuj kod rabatowy",tabIndex:0,children:"Zastosuj"}),s&&(0,Jy.jsx)("p",{style:{color:"red"},children:s})]}),(0,Jy.jsxs)("div",{className:"total-summary",children:[(0,Jy.jsx)("div",{children:"Razem "}),(0,Jy.jsxs)("div",{className:"order-total","aria-label":`\u0141\u0105czny koszt: ${c} z\u0142`,children:[0===l?"0.00z\u0142":l>=400?c:(parseFloat(c)+20).toFixed(2)," ","z\u0142"]})]}),(0,Jy.jsxs)("div",{children:["( \u0141\u0105cznie z podatkiem"," ",0!==l?(.23*parseFloat(c)).toFixed(2):null," z\u0142 )"]}),(0,Jy.jsx)("hr",{style:{margin:"30px 0"}}),e.map(((e,t)=>(0,Jy.jsxs)("div",{className:"ui segment order-segment",role:"group","aria-label":`Produkt: ${e.name}`,tabIndex:0,children:[(0,Jy.jsx)("img",{src:e.image,className:"order-img",alt:e.name,tabIndex:0}),(0,Jy.jsx)("div",{className:"order-segment-name",children:e.name}),(0,Jy.jsx)("div",{className:"order-product-count",children:e.selected?`ilo\u015b\u0107 ${e.amount}`:null}),(0,Jy.jsx)("div",{className:"order-product-price",children:e.price})]},t)))]})},bv=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),{orderData:m,updateNestedOrderData:g,setIsOrderInvoiceFormValid:y}=(0,i.useContext)(yv);(0,i.useEffect)((()=>{const e=m.billingAddress,t=v(e.costumerName)&&w(e.costumerSurname)&&b(e.address)&&x(e.company)&&k(e.postalCode)&&S(e.city)&&E(e.phoneNumber);y(t)}),[m.billingAddress]);const v=e=>/^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\u017c\u017a\u0107\u0144\xf3\u0142\u0119\u0105\u015b\u017b\u0179\u0106\u0104\u015a\u0118\u0141\xd3\u0143\s'-]{2,}$/.test(e.trim()),w=e=>/^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\u017c\u017a\u0107\u0144\xf3\u0142\u0119\u0105\u015b\u017b\u0179\u0106\u0104\u015a\u0118\u0141\xd3\u0143\s'-]{2,}$/.test(e.trim()),b=e=>/^[A-Za-z\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c0-9\s\.\-\/]{5,}$/.test(e.trim()),k=e=>/^\d{2}-\d{3}$/.test(e.trim()),x=e=>/^[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b0-9\s\-.&]{2,}$/.test(e.trim()),S=e=>/^[A-Za-z\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\s-]{3,}$/.test(e.trim()),E=e=>/^[0-9]{9}$/.test(e);return(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsx)("p",{tabIndex:"0","aria-label":"Adres do faktury",children:"Adres dostawy"}),(0,Jy.jsxs)("div",{className:"order-adress",children:[(0,Jy.jsxs)("div",{className:"order-row",children:[(0,Jy.jsxs)("div",{className:"order-wrapper",children:[(0,Jy.jsx)("input",{className:"order-input order-name",type:"text",placeholder:"Imi\u0119 *","aria-label":"Imi\u0119",tabIndex:"0",value:m.billingAddress.costumerName,style:{border:e||0!==m.billingAddress.costumerName.length?e?"4px solid green":"4px solid red":"2px solid black"},onChange:e=>{const n=e.target.value;g("billingAddress","costumerName",n),t(v(n))}}),!e&&m.billingAddress.costumerName.length>0?(0,Jy.jsx)("p",{className:"name-error",tabIndex:"0","aria-label":"Wpisz poprawne imi\u0119",children:"Wpisz poprawne imi\u0119"}):(0,Jy.jsx)("p",{className:"order-under-input",tabIndex:"0","aria-label":"Przyk\u0142ad imienia: Jan",children:"Np. Jan"})]}),(0,Jy.jsxs)("div",{className:"order-wrapper",children:[(0,Jy.jsx)("input",{className:"order-input order-name gap",type:"text",placeholder:"Nazwisko *","aria-label":"Nazwisko",tabIndex:"0",value:m.billingAddress.costumerSurname,style:{border:n||0!==m.billingAddress.costumerSurname.length?n?"4px solid green":"4px solid red":"2px solid black"},onChange:e=>{const t=e.target.value;g("billingAddress","costumerSurname",t),r(w(t))}}),!n&&m.billingAddress.costumerSurname.length>0?(0,Jy.jsx)("p",{className:"name-error",tabIndex:"0","aria-label":"Wpisz poprawne nazwisko",children:"Wpisz poprawne Nazwisko"}):(0,Jy.jsx)("p",{className:"order-under-input",tabIndex:"0","aria-label":"Przyk\u0142ad nazwiska: Kowalski",children:"Np. Kowalski"})]})]}),(0,Jy.jsx)("input",{className:"order-input order-adress",type:"text",placeholder:"Adres *","aria-label":"Adres",tabIndex:"0",value:m.billingAddress.adress,onChange:e=>{const t=e.target.value;g("billingAddress","address",t),s(b(t))},style:{border:a||0!==m.billingAddress.address.length?a?"4px solid green":"4px solid red":"2px solid black"}}),!a&&m.billingAddress.address.length>0?(0,Jy.jsx)("p",{className:"name-error",tabIndex:"0","aria-label":"Wpisz poprawn\u0105 ulic\u0119",children:"Wpisz poprawn\u0105 ulice"}):(0,Jy.jsx)("p",{tabIndex:"0","aria-label":"Przyk\u0142ad adresu: ul. Zamkowa 5",children:"Np. ul. Zamkowa 5"}),(0,Jy.jsx)("input",{className:"order-input order-information",type:"text",placeholder:"Dodatkowe informacje","aria-label":"Firma lub lokal",tabIndex:"0",value:m.billingAddress.company,onChange:e=>{const t=e.target.value;g("billingAddress","company",t),u(x(t))},style:{border:c||0!==m.billingAddress.company.length?c?"4px solid green":"4px solid red":"2px solid black"}}),!c&&m.billingAddress.company.length>0?(0,Jy.jsx)("p",{className:"name-error",tabIndex:"0","aria-label":"Podaj prawdziw\u0105 nazw\u0119 firmy",children:"Podaj prawdziw\u0105 nazw\u0119 firmy"}):(0,Jy.jsx)("p",{tabIndex:"0","aria-label":"Przyk\u0142ad: Firma, lokal",children:"Np. Firma, Lokal"}),(0,Jy.jsxs)("div",{className:"order-row",children:[(0,Jy.jsxs)("div",{className:"order-wrapper",children:[(0,Jy.jsx)("input",{className:"order-input order-name",type:"text",placeholder:"Kod pocztowy *","aria-label":"Kod pocztowy",tabIndex:"0",value:m.billingAddress.postalCode,style:{border:o||0!==m.billingAddress.postalCode.length?o?"4px solid green":"4px solid red":"2px solid black"},onChange:e=>{const t=e.target.value;g("billingAddress","postalCode",t),l(k(t))}}),!o&&m.billingAddress.postalCode.length>0?(0,Jy.jsx)("p",{className:"name-error",tabIndex:"0","aria-label":"Wpisz poprawny kod pocztowy",children:"Wpisz poprawny kod pocztowy"}):(0,Jy.jsx)("p",{className:"order-under-input",tabIndex:"0","aria-label":"Przyk\u0142ad kodu pocztowego: 54-444",children:"Np. 54-444"})]}),(0,Jy.jsxs)("div",{className:"order-wrapper",children:[(0,Jy.jsx)("input",{className:"order-input order-name gap",type:"text",placeholder:"Miasto *","aria-label":"Miasto",tabIndex:"0",value:m.billingAddress.city,style:{border:d||0!==m.billingAddress.city.length?d?"4px solid green":"4px solid red":"2px solid black"},onChange:e=>{const t=e.target.value;g("billingAddress","city",t),h(S(t))}}),!d&&m.billingAddress.city.length>0?(0,Jy.jsx)("p",{className:"name-error",tabIndex:"0","aria-label":"Wpisz poprawn\u0105 nazw\u0119 miasta",children:"Wpisz poprawn\u0105 nazw\u0119 miasta"}):(0,Jy.jsx)("p",{tabIndex:"0","aria-label":"Przyk\u0142ad miasta: Warszawa",children:"Np. Warszawa"})]})]}),(0,Jy.jsx)("p",{tabIndex:"0","aria-label":"Pa\u0144stwo: Poland",children:"PA\u0143STWO: Poland"}),(0,Jy.jsxs)("div",{className:"order-phone-container",children:[(0,Jy.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Jy.jsxs)("select",{className:"order-input","aria-label":"Prefiks numeru telefonu",tabIndex:"0",value:m.billingAddress.phonePrefix,onChange:e=>g("billingAddress","phonePrefix",e.target.value),children:[(0,Jy.jsx)("option",{value:"+48",children:"\ud83c\uddf5\ud83c\uddf1 +48"}),(0,Jy.jsx)("option",{value:"+49",children:"\ud83c\udde9\ud83c\uddea +49"}),(0,Jy.jsx)("option",{value:"+44",children:"\ud83c\uddec\ud83c\udde7 +44"}),(0,Jy.jsx)("option",{value:"+1",children:"\ud83c\uddfa\ud83c\uddf8 +1"})]}),(0,Jy.jsx)("input",{className:"order-input",type:"tel",placeholder:"Numer telefonu *","aria-label":"Numer telefonu",tabIndex:"0",value:m.billingAddress.phoneNumber,onChange:e=>{const t=e.target.value.replace(/\D/g,"");g("billingAddress","phoneNumber",t),p(E(t))},style:{border:0===m.billingAddress.phoneNumber.length?"2px solid black":f?"4px solid green":"4px solid red"}})]}),(0,Jy.jsx)("div",{style:{marginTop:"4px"},children:0===m.billingAddress.phoneNumber.length?null:f?(0,Jy.jsx)("p",{tabIndex:"0","aria-label":"Przyk\u0142ad numeru: 667 667 668",style:{margin:0},children:"Np. 667 667 668"}):(0,Jy.jsx)("p",{className:"name-error",tabIndex:"0","aria-label":"Wpisz poprawny numer telefonu",style:{margin:0},children:"Wpisz poprawny numer telefonu"})})]})]})]})},kv=()=>(0,Jy.jsxs)("div",{children:["Wiem, \u017ce w ka\u017cdej chwili mog\u0119 zdecydowa\u0107 o zaprzestaniu udost\u0119pniania moich danych osobowych, w zwi\u0105zku z czym na platformach internetowych mog\u0105 by\u0107 wy\u015bwietlane losowe reklamy adidas. Rozumiem, \u017ce adidas Poland Sp. z o.o., adidas AG, oraz runtastic GmbH (\u201eadidas\u201d) b\u0119d\u0105 wykorzystywa\u0107 podany przez mnie adres e-mail oraz wszystkie dane osobowe powi\u0105zane z tym adresem e-mail (dane kontaktowe oraz informacje dotycz\u0105ce to\u017csamo\u015bci, lokalizacji, rozmiaru, zachowania i profilu, spo\u0142eczno\u015bci, medi\xf3w spo\u0142eczno\u015bciowych, aktywno\u015bci, urz\u0105dzenia, preferencji, klubu adiClub) do analizy moich preferencji. Udost\u0119pniam swoje dane, aby firma adidas mog\u0142a korzysta\u0107 z niezale\u017cnych rozwi\u0105za\u0144 analitycznych, takich jak Google Analytics i Facebook Business Manager, by por\xf3wnywa\u0107 moje zachowanie z profilami odwiedzaj\u0105cych zapisanymi w jej bazie danych, oraz by wybra\u0107 najlepszy czas i miejsce (na podstronie, kt\xf3r\u0105 przegl\u0105dam) do wy\u015bwietlania cyfrowych wiadomo\u015bci marketingowych adidas na platformach takich jak Google, Facebook, YouTube itp., oraz na innych odwiedzanych przeze mnie stronach internetowych. Wiem, \u017ce analiza mojego zachowania w Internecie (a w niekt\xf3rych przypadkach r\xf3wnie\u017c poza Internetem) pomaga firmie adidas zrozumie\u0107, co lubi\u0119, a czego nie, aby wy\u015bwietla\u0107 mi tre\u015bci lepiej dostosowane do moich potrzeb. Rozumiem r\xf3wnie\u017c, \u017ce moja zgoda umo\u017cliwia firmie adidas doskonalenie strategii w zakresie przesy\u0142ania wiadomo\u015bci w oparciu o moje interakcje i zaanga\u017cowanie. Pozwalam firmie adidas na bezpieczne udost\u0119pnianie moich danych osobowych starannie dobranym dostawcom, kt\xf3rzy mog\u0105 prowadzi\u0107 dzia\u0142alno\u015b\u0107 poza moim krajem zamieszkania. Wi\u0119cej informacji na temat tych dzia\u0142a\u0144 znajduje si\u0119 w",(0,Jy.jsx)("span",{style:{marginLeft:"10px"},children:(0,Jy.jsx)(je,{to:"/privacypolicy",target:"_blank",rel:"noopener noreferrer",children:"Informacji o polityce prywatno\u015bci"})})]}),xv=e=>{let{onValidSubmit:t,showAgeAlert:n,showInvoiceForm:r,showRodoAlert:a}=e;const{orderData:s,updateOrderData:o,updateNestedOrderData:l}=(0,i.useContext)(yv),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),[w,b]=(0,i.useState)(!1),[k,x]=(0,i.useState)(!1),{setIsOrderFormValid:S}=(0,i.useContext)(yv);(0,i.useEffect)((()=>{const e=c&&d&&f&&m&&y&&w&&k;S(e),t&&t(e)}),[c,d,f,m,y,w,k,t]);return(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsx)("p",{children:"Adres dostawy"}),(0,Jy.jsxs)("div",{className:"order-adress",children:[(0,Jy.jsxs)("div",{className:"order-row",children:[(0,Jy.jsxs)("div",{className:"order-wrapper",children:[(0,Jy.jsx)("input",{className:"order-input order-name",type:"text",placeholder:"Imi\u0119 *",value:s.shippingAddress.costumerName,"aria-label":"Imi\u0119","aria-invalid":!c,"aria-describedby":"nameHelp",tabIndex:0,style:{border:c||0!==s.shippingAddress.costumerName.length?c?"4px solid green":"4px solid red":"2px solid black"},onChange:e=>{const t=e.target.value;l("shippingAddress","costumerName",t),u((e=>/^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\u017c\u017a\u0107\u0144\xf3\u0142\u0119\u0105\u015b\u017b\u0179\u0106\u0104\u015a\u0118\u0141\xd3\u0143\s'-]{2,}$/.test(e.trim()))(t))}}),!c&&s.shippingAddress.costumerName.length>0?(0,Jy.jsx)("p",{className:"name-error",id:"nameHelp",children:"Wpisz poprawne imi\u0119"}):(0,Jy.jsx)("p",{className:"order-under-input",id:"nameHelp",children:"Np. Jan"})]}),(0,Jy.jsxs)("div",{className:"order-wrapper",children:[(0,Jy.jsx)("input",{className:"order-input order-name gap",type:"text",placeholder:"Nazwisko *",value:s.shippingAddress.costumerSurname,"aria-label":"Nazwisko","aria-invalid":!d,"aria-describedby":"surnameHelp",tabIndex:0,style:{border:d||0!==s.shippingAddress.costumerSurname.length?d?"4px solid green":"4px solid red":"2px solid black"},onChange:e=>{const t=e.target.value;l("shippingAddress","costumerSurname",t),h((e=>/^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\u017c\u017a\u0107\u0144\xf3\u0142\u0119\u0105\u015b\u017b\u0179\u0106\u0104\u015a\u0118\u0141\xd3\u0143\s'-]{2,}$/.test(e.trim()))(t))}}),!d&&s.shippingAddress.costumerSurname.length>0?(0,Jy.jsx)("p",{className:"name-error",id:"surnameHelp",children:"Wpisz poprawne Nazwisko"}):(0,Jy.jsx)("p",{className:"order-under-input",id:"surnameHelp",children:"Np. Kowalski"})]})]}),(0,Jy.jsx)("input",{className:"order-input order-adress",type:"text",placeholder:"Adres *",value:s.shippingAddress.adress,"aria-label":"Adres","aria-invalid":!f,"aria-describedby":"addressHelp",tabIndex:0,onChange:e=>{const t=e.target.value;l("shippingAddress","address",t),p((e=>/^[A-Za-z\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c0-9\s\.\-\/]{5,}$/.test(e.trim()))(t))},style:{border:f||0!==s.shippingAddress.address.length?f?"4px solid green":"4px solid red":"2px solid black"}}),!f&&s.shippingAddress.address.length>0?(0,Jy.jsx)("p",{className:"name-error",id:"addressHelp",children:"Wpisz poprawn\u0105 ulic\u0119"}):(0,Jy.jsx)("p",{id:"addressHelp",children:"Np. ul. Zamkowa 5"}),(0,Jy.jsx)("input",{className:"order-input order-information",type:"text",placeholder:"Dodatkowe informacje",value:s.shippingAddress.company,"aria-label":"Dodatkowe informacje","aria-invalid":!y,"aria-describedby":"companyHelp",tabIndex:0,onChange:e=>{const t=e.target.value;l("shippingAddress","company",t),v((e=>/^[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b0-9\s\-.&]{2,}$/.test(e.trim()))(t))},style:{border:y||0!==s.shippingAddress.company.length?y?"4px solid green":"4px solid red":"2px solid black"}}),!y&&s.shippingAddress.company.length>0?(0,Jy.jsx)("p",{className:"name-error",id:"companyHelp",children:"Podaj prawdziw\u0105 nazw\u0119 firmy"}):(0,Jy.jsx)("p",{id:"companyHelp",children:"Np. Firma, Lokal"}),(0,Jy.jsxs)("div",{className:"order-row",children:[(0,Jy.jsxs)("div",{className:"order-wrapper",children:[(0,Jy.jsx)("input",{className:"order-input order-name",type:"text",placeholder:"Kod pocztowy *",value:s.shippingAddress.postalCode,"aria-label":"Kod pocztowy","aria-invalid":!m,"aria-describedby":"postalHelp",tabIndex:0,style:{border:m||0!==s.shippingAddress.postalCode.length?m?"4px solid green":"4px solid red":"2px solid black"},onChange:e=>{const t=e.target.value;l("shippingAddress","postalCode",t),g(/^\d{2}-\d{3}$/.test(t.trim()))}}),!m&&s.shippingAddress.postalCode.length>0?(0,Jy.jsx)("p",{className:"name-error",id:"postalHelp",children:"Wpisz poprawny kod pocztowy"}):(0,Jy.jsx)("p",{className:"order-under-input",id:"postalHelp",children:"Np. 54-444"})]}),(0,Jy.jsxs)("div",{className:"order-wrapper",children:[(0,Jy.jsx)("input",{className:"order-input order-name gap",type:"text",placeholder:"Miasto *",value:s.shippingAddress.city,"aria-label":"Miasto","aria-invalid":!w,"aria-describedby":"cityHelp",tabIndex:0,style:{border:w||0!==s.shippingAddress.city.length?w?"4px solid green":"4px solid red":"2px solid black"},onChange:e=>{const t=e.target.value;l("shippingAddress","city",t),b((e=>/^[A-Za-z\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\s-]{3,}$/.test(e.trim()))(t))}}),!w&&s.shippingAddress.city.length>0?(0,Jy.jsx)("p",{className:"name-error",id:"cityHelp",children:"Wpisz poprawn\u0105 nazw\u0119 miasta"}):(0,Jy.jsx)("p",{id:"cityHelp",children:"Np. Warszawa"})]})]}),(0,Jy.jsx)("p",{children:"PA\u0143STWO: Poland"}),(0,Jy.jsxs)("div",{className:"order-phone-container",children:[(0,Jy.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Jy.jsxs)("select",{className:"order-input",value:s.shippingAddress.phonePrefix,"aria-label":"Prefix numeru telefonu",tabIndex:0,onChange:e=>l("shippingAddress","phonePrefix",e.target.value),children:[(0,Jy.jsx)("option",{value:"+48",children:"\ud83c\uddf5\ud83c\uddf1 +48"}),(0,Jy.jsx)("option",{value:"+49",children:"\ud83c\udde9\ud83c\uddea +49"}),(0,Jy.jsx)("option",{value:"+44",children:"\ud83c\uddec\ud83c\udde7 +44"}),(0,Jy.jsx)("option",{value:"+1",children:"\ud83c\uddfa\ud83c\uddf8 +1"})]}),(0,Jy.jsx)("input",{className:"order-input",type:"tel",placeholder:"Numer telefonu *",value:s.shippingAddress.phoneNumber,"aria-label":"Numer telefonu","aria-invalid":!k,"aria-describedby":"phoneHelp",tabIndex:0,onChange:e=>{const t=e.target.value.replace(/\D/g,"");l("shippingAddress","phoneNumber",t),x((e=>/^[0-9]{9}$/.test(e))(t))},style:{border:0===s.shippingAddress.phoneNumber.length?"2px solid black":k?"4px solid green":"4px solid red"}})]}),(0,Jy.jsx)("div",{style:{marginTop:"4px"},children:0===s.shippingAddress.phoneNumber.length?null:k?(0,Jy.jsx)("p",{style:{margin:0},id:"phoneHelp",children:"Np. 667 667 668"}):(0,Jy.jsx)("p",{className:"name-error",style:{margin:0},id:"phoneHelp",children:"Wpisz poprawny numer telefonu"})})]})]})]})},Sv=()=>{const{orderData:e}=(0,i.useContext)(yv),{costumerName:t,costumerSurname:n,address:r,company:a,postalCode:s,city:o,phonePrefix:l,phoneNumber:c}=e.shippingAddress;return(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsxs)("p",{children:["Imi\u0119: ",t]}),(0,Jy.jsxs)("p",{children:["Nazwisko: ",n]}),(0,Jy.jsxs)("p",{children:["Adres dostawy: ",r]}),(0,Jy.jsxs)("p",{children:["Firma/lokal: ",a]}),(0,Jy.jsxs)("p",{children:["Kod pocztowy: ",s]}),(0,Jy.jsxs)("p",{children:["Miasto: ",o]}),(0,Jy.jsxs)("p",{children:["Numer telefonu: ",l," ",c]}),(0,Jy.jsx)("p",{style:{fontWeight:"bold"},children:"ADRES DOSTAWY JEST TAKI SAM JAK ADRES DO FAKTURY"})]})},Ev=()=>{const{orderData:e}=(0,i.useContext)(yv),{costumerName:t,costumerSurname:n,address:r,company:a,postalCode:s,city:o,phonePrefix:l,phoneNumber:c}=e.shippingAddress,{costumerName:u,costumerSurname:d,address:h,company:f,postalCode:p,city:m,phonePrefix:g,phoneNumber:y}=e.billingAddress;return(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsx)("p",{style:{fontWeight:"bold"},tabIndex:"0","aria-label":"Adres dostawy",children:"ADRES DOSTAWY"}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Imi\u0119: ${t}`,children:["Imi\u0119: ",t]}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Nazwisko: ${n}`,children:["Nazwisko: ",n]}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Adres dostawy: ${r}`,children:["Adres dostawy: ",r]}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Firma lub lokal: ${a}`,children:["Firma/lokal: ",a]}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Kod pocztowy: ${s}`,children:["Kod pocztowy: ",s]}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Miasto: ${o}`,children:["Miasto: ",o]}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Numer telefonu: ${l} ${c}`,children:["Numer telefonu: ",l," ",c]}),(0,Jy.jsx)("p",{style:{fontWeight:"bold"},tabIndex:"0","aria-label":"Adres do faktury",children:"ADRES DO FAKTURY"}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Imi\u0119: ${u}`,children:["Imi\u0119: ",u]}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Nazwisko: ${d}`,children:["Nazwisko: ",d]}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Adres dostawy: ${h}`,children:["Adres dostawy: ",h]}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Firma lub lokal: ${f}`,children:["Firma/lokal: ",f]}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Kod pocztowy: ${p}`,children:["Kod pocztowy: ",p]}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Miasto: ${m}`,children:["Miasto: ",m]}),(0,Jy.jsxs)("p",{tabIndex:"0","aria-label":`Numer telefonu: ${g} ${y}`,children:["Numer telefonu: ",g," ",y]})]})},_v=e=>{let{setIsNextValid:t}=e;const[n,r]=(0,i.useState)(!0),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),{isOrderFormValid:w,setIsOrderFormValid:b,isOrderInvoiceFormValid:k,setIsOrderInvoiceFormValid:x,updateOrderData:S}=(0,i.useContext)(yv);return(0,Jy.jsx)("div",{role:"form","aria-label":"Formularz zam\xf3wienia",children:m?n?(0,Jy.jsx)(Sv,{}):(0,Jy.jsx)(Ev,{}):(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsx)(xv,{onValidSubmit:b,showAgeAlert:a}),(0,Jy.jsxs)("div",{className:"order-checks",role:"checkbox","aria-checked":n,tabIndex:"0",onKeyDown:e=>"Enter"===e.key&&r(!n),"aria-label":"Adres dostawy i faktury s\u0105 takie same",children:[(0,Jy.jsx)("div",{onClick:()=>r(!n),className:"checkbox-box","aria-hidden":"true",children:n&&(0,Jy.jsx)("i",{className:"fa-solid fa-check"})}),(0,Jy.jsx)("span",{children:"Adres dostawy i adres do wystawienia faktury s\u0105 takie same"})]}),!n&&(0,Jy.jsx)(bv,{onValidSubmit:x}),(0,Jy.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,Jy.jsxs)("div",{className:"order-checks",role:"checkbox","aria-checked":a,tabIndex:"0",onKeyDown:e=>"Enter"===e.key&&s(!a),"aria-label":"Potwierdzenie wieku powy\u017cej 16 lat",children:[(0,Jy.jsx)("div",{onClick:()=>{s(!a),S("acceptedAge",!a)},className:"checkbox-box","aria-hidden":"true",children:a&&(0,Jy.jsx)("i",{className:"fa-solid fa-check"})}),(0,Jy.jsx)("span",{children:"Mam uko\u0144czone 16 lat."})]}),!a&&(0,Jy.jsx)("p",{className:"name-error order-check-p",children:"Jeste\u015b zbyt m\u0142oda/y, by si\u0119 zarejestrowa\u0107/z\u0142o\u017cy\u0107 zam\xf3wienie."})]}),(0,Jy.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,Jy.jsxs)("div",{className:"order-checks",role:"checkbox","aria-checked":o,tabIndex:"0",onKeyDown:e=>"Enter"===e.key&&l(!o),"aria-label":"Potwierdzenie-rodo",children:[(0,Jy.jsx)("div",{onClick:()=>{l(!o),S("acceptedRodo",!o)},className:"checkbox-box","aria-hidden":"true",children:o&&(0,Jy.jsx)("i",{className:"fa-solid fa-check"})}),(0,Jy.jsxs)("span",{style:{paddingBottom:"10px"},children:["Wyra\u017cam zgod\u0119 na przetwarzanie moich danych osobowych przez ring4u.pl w celu realizacji zam\xf3wienia zgodnie z"," ",(0,Jy.jsx)(je,{to:"/privacypolicy",target:"_blank",rel:"noopener noreferrer",children:"Informacj\u0105 o polityce prywatno\u015bci"}),"."]})]}),!o&&(0,Jy.jsx)("p",{className:"name-error order-check-p",children:"Musisz potwierdzi\u0107 polityk\u0119 RODO!!"})]}),(0,Jy.jsx)("p",{style:{fontWeight:"bold"},children:"Nie chcesz otrzymywa\u0107 spersonalizowanych wiadomo\u015bci marketingowych?"}),(0,Jy.jsxs)("div",{className:"order-checks",role:"checkbox","aria-checked":c,tabIndex:"0",onKeyDown:e=>"Enter"===e.key&&u(!c),"aria-label":"Zgoda na wiadomo\u015bci marketingowe",children:[(0,Jy.jsx)("div",{onClick:()=>u(!c),className:"checkbox-box","aria-hidden":"true",children:c&&(0,Jy.jsx)("i",{className:"fa-solid fa-check"})}),(0,Jy.jsx)("span",{children:"Odznacz pole, je\u015bli nie chcesz otrzymywa\u0107 wiadomo\u015bci marketingowych..."})]}),(0,Jy.jsx)("p",{style:{fontWeight:"bold"},children:"B\u0105d\u017a w gronie pierwszych, kt\xf3rzy otrzymuj\u0105 promocje..."}),(0,Jy.jsxs)("div",{className:"order-checks",role:"checkbox","aria-checked":d,tabIndex:"0",onKeyDown:e=>"Enter"===e.key&&h(!d),"aria-label":"Zgoda na oferty i wiadomo\u015bci",children:[(0,Jy.jsx)("div",{onClick:()=>h(!d),className:"checkbox-box","aria-hidden":"true",children:d&&(0,Jy.jsx)("i",{className:"fa-solid fa-check"})}),(0,Jy.jsxs)("span",{children:["Tak, chc\u0119 otrzymywa\u0107 oferty i wiadomo\u015bci..."," ",(0,Jy.jsx)("button",{onClick:()=>{p(!f),v(!y)},"aria-expanded":f,"aria-controls":"order-read-more",children:y?"Czytaj mniej":"Czytaj wi\u0119cej"}),f&&(0,Jy.jsx)(kv,{id:"order-read-more"})]})]}),(0,Jy.jsx)("button",{style:{marginTop:"10px"},onClick:()=>{if(a){if(o)return n?w?(console.log("Ustawiono isNextValid na true (sameAddress)"),g(!0),void t(!0)):void alert("Uzupe\u0142nij dane do dostawy."):void(k||n?(console.log("Ustawiono isNextValid na true (different address)"),g(!0),t(!0)):alert("Uzupe\u0142nij dane do faktury."));alert("Musisz potwierdzi\u0107 polityk\u0119 RODO.")}else alert("Musisz mie\u0107 uko\u0144czone 16 lat.")},"aria-label":"Przejd\u017a do nast\u0119pnego kroku",children:"DALEJ"})]})})},Tv=e=>{let{onSelect:t}=e;const{selectedProducts:n}=(0,i.useContext)(ev),[r,a]=(0,i.useState)(null),s=n.reduce(((e,t)=>{if(!t.selected)return e;return e+parseFloat(t.price.toString().replace(/[^\d.]/g,""))*(t.amount||1)}),0),o=e=>{a(e),t&&t(e)},l=()=>0===s?"0.00z\u0142":s<400?"20.00 z\u0142":"Za darmo";return(0,Jy.jsxs)("div",{className:"delivery-box","aria-live":"polite",children:[(0,Jy.jsxs)("div",{className:"ui segment first-delivery-box delivery-boxes "+("inpost"===r?"selected":""),onClick:()=>o("inpost"),role:"button",tabIndex:0,"aria-pressed":"inpost"===r,"aria-label":`Wybierz dostaw\u0119 do paczkomatu Inpost, cena: ${l()}`,onKeyDown:e=>"Enter"===e.key&&o("inpost"),children:[(0,Jy.jsx)("p",{children:"Data dostawy do paczkomatu Inpost (time)"}),(0,Jy.jsx)("p",{children:l()}),(0,Jy.jsx)("span",{className:"delivery-flag",children:(0,Jy.jsx)("i",{className:"fa-solid fa-truck"})})]}),(0,Jy.jsxs)("div",{className:"ui segment second-delivery-box delivery-boxes "+("orlen"===r?"selected":""),onClick:()=>o("orlen"),role:"button",tabIndex:0,"aria-pressed":"orlen"===r,"aria-label":`Wybierz dostaw\u0119 do paczkomatu Orlen, cena: ${l()}`,onKeyDown:e=>"Enter"===e.key&&o("orlen"),children:[(0,Jy.jsx)("p",{children:"Data dostawy do paczkomatu Orlen (time)"}),(0,Jy.jsx)("p",{children:l()}),(0,Jy.jsx)("span",{className:"delivery-flag",children:(0,Jy.jsx)("i",{className:"fa-solid fa-house-flag"})})]})]})},Iv=e=>{let{onSelect:t,selected:n}=e;return(0,Jy.jsx)("div",{className:"payment-method-options",role:"radiogroup","aria-label":"Metody p\u0142atno\u015bci",children:[{id:"Revolut",label:"Revolut"},{id:"PayPal",label:"PayPal"}].map((e=>(0,Jy.jsx)("div",{role:"radio","aria-checked":n===e.id,tabIndex:0,className:"payment-option "+(n===e.id?"selected":""),onClick:()=>t(e.id),onKeyDown:n=>{"Enter"!==n.key&&" "!==n.key||(n.preventDefault(),t(e.id))},style:{cursor:"pointer",padding:"10px",border:"1px solid #ccc",marginBottom:"5px",borderRadius:"8px"},children:e.label},e.id)))})},Nv={_origin:"https://api.emailjs.com"},Cv=(e,t,n)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class jv{constructor(e){this.status=e.status,this.text=e.responseText}}const Av=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((r,i)=>{const a=new XMLHttpRequest;a.addEventListener("load",(e=>{let{target:t}=e;const n=new jv(t);200===n.status||"OK"===n.text?r(n):i(n)})),a.addEventListener("error",(e=>{let{target:t}=e;i(new jv(t))})),a.open("POST",Nv._origin+e,!0),Object.keys(n).forEach((e=>{a.setRequestHeader(e,n[e])})),a.send(t)}))},zv=(e,t,n,r)=>{const i=r||Nv._userID;Cv(i,e,t);const a={lib_version:"3.2.0",user_id:i,service_id:e,template_id:t,template_params:n};return Av("/api/v1.0/email/send",JSON.stringify(a),{"Content-type":"application/json"})},Pv=()=>{const{orderData:e,updateOrderData:t,setOrderData:n,updateNestedOrderData:r,showRodoAlert:a,showAgeAlert:s}=(0,i.useContext)(yv),{selectedProducts:o,setSelectedProducts:l}=(0,i.useContext)(ev),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[y,v]=(0,i.useState)(null),[w,b]=(0,i.useState)(null),[k,x]=(0,i.useState)(!1),S=ee(),E=o.reduce(((e,t)=>{if(!t.selected)return e;return e+parseFloat(t.price.toString().replace(/[^\d.]/g,""))*(t.amount||1)}),0),_=e.shippingAddress.discountApplied?(E*(1-e.shippingAddress.discountValue)).toFixed(2):E.toFixed(2),T=o.filter((e=>e.selected)).reduce(((e,t)=>e+(t.amount||1)),0),I=0===E?0:E>=400?"Za darmo":"20.00z\u0142",N=e=>{if(!e||e.length>254||e.length<6)return!1;const t=e.split("@");if(2!==t.length)return!1;const[n,r]=t;if(!n||n.length>64)return!1;if(!r||r.length>253)return!1;if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+$/.test(n))return!1;if(!/^[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+$/.test(r))return!1;return!(r.substring(r.lastIndexOf(".")+1).length>24)&&!e.includes("..")};return(0,Jy.jsxs)("div",{className:"order-finalization-box",role:"form","aria-label":"Finalizacja zam\xf3wienia",children:[(0,Jy.jsxs)("div",{className:"container order-box-1",children:[(0,Jy.jsxs)("div",{className:"left-order-brand","aria-label":"Marka sklepu FLOWMART",children:["Ring",(0,Jy.jsx)("span",{className:"order-brand-2 pink",children:"4"}),"U"]}),(0,Jy.jsx)("div",{className:"right-order",children:(0,Jy.jsxs)(je,{to:"/payment",className:"look","aria-label":"Przejd\u017a do koszyka",children:[(0,Jy.jsx)("i",{className:"fa-solid fa-cart-shopping","aria-hidden":"true"}),(0,Jy.jsx)("div",{className:"order-circle","aria-live":"polite",children:T})]})})]}),(0,Jy.jsx)("div",{className:"order-finalization-title",children:"FINALIZACJA ZAM\xd3WIENIA"}),(0,Jy.jsxs)("div",{className:"order-finalization-under-title-line",children:["(",T," PRODUKTY) ",_," Z\u0141"]}),(0,Jy.jsxs)("div",{className:"container order-box2",children:[(0,Jy.jsxs)("div",{className:"left-order-finalization-box beyond768",children:[(0,Jy.jsx)("p",{className:"big-letter-order",children:"KONTAKT"}),(0,Jy.jsx)("input",{type:"email",className:"order-input email",placeholder:"E-mail *","aria-label":"Adres e-mail","aria-required":"true","aria-invalid":!f&&e.email.length>0,required:!0,value:e.email,onChange:e=>{const n=e.target.value;t("email",n),p(N(n))},style:{border:0===e.email.length?"2px solid black":f?"4px solid green":"4px solid red"}}),!f&&e.email.length>0&&(0,Jy.jsx)("p",{className:"e-mail-error",role:"alert",children:"Wpisz poprawny adres e-mail"}),(0,Jy.jsx)("hr",{className:"order-line"}),(0,Jy.jsx)("p",{className:"big-letter-order",children:"ADRES"}),f&&(0,Jy.jsx)(_v,{setIsNextValid:g}),(0,Jy.jsx)("hr",{className:"order-line"}),m?(0,Jy.jsxs)("span",{children:[(0,Jy.jsx)("p",{className:"delivery-title",children:"SPOS\xd3B DOSTAWY"}),(0,Jy.jsx)(Tv,{onSelect:e=>{v(e),t("deliveryMethod",e)}}),y&&(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsx)("hr",{className:"order-line"}),(0,Jy.jsx)("p",{className:"Payment-method big-letter-order",children:"P\u0141ATNO\u015a\u0106"}),(0,Jy.jsx)(Iv,{selected:w,onSelect:b})]})]}):(0,Jy.jsx)("div",{className:"delivery-method big-letter-order",children:"SPOS\xd3B DOSTAWY"}),w&&(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsx)("hr",{className:"order-line"}),(0,Jy.jsxs)("div",{className:"mobile-only","aria-label":"Podsumowanie zam\xf3wienia",children:[(0,Jy.jsxs)("div",{children:["TWOJE ZAM\xd3WIENIE ",(0,Jy.jsx)(je,{to:"/payment",children:"EDYTUJ"})]}),(0,Jy.jsxs)("div",{className:"order-summary",children:[(0,Jy.jsxs)("div",{children:[T," produkt",1!==T?"y":""]}),(0,Jy.jsxs)("div",{className:"order-total-cost",children:[_," z\u0142"]})]}),(0,Jy.jsxs)("div",{className:"shipping-summary",children:[(0,Jy.jsx)("div",{children:"dostawa "}),(0,Jy.jsx)("div",{children:I})]}),(0,Jy.jsxs)("div",{children:[(0,Jy.jsx)("p",{className:"order-discount-enter",children:"KOD RABATOWY:"}),(0,Jy.jsx)("input",{type:"text",value:c,"aria-label":"Kod rabatowy",onChange:e=>u(e.target.value),placeholder:"Wpisz kod",disabled:e.shippingAddress.discountApplied}),(0,Jy.jsx)("button",{onClick:()=>{"FLOW10"===c.toUpperCase()?e.shippingAddress.discountApplied?h("Kod rabatowy ju\u017c zosta\u0142 zastosowany."):(r("shippingAddress","discountApplied",!0),r("shippingAddress","discountValue",.1),h("")):h("Nieprawid\u0142owy kod rabatowy.")},disabled:e.shippingAddress.discountApplied,"aria-label":"Zastosuj kod rabatowy",children:"Zastosuj"}),d&&(0,Jy.jsx)("p",{style:{color:"red"},role:"alert",children:d})]}),(0,Jy.jsxs)("div",{className:"total-summary",children:[(0,Jy.jsx)("div",{children:"Razem "}),(0,Jy.jsxs)("div",{className:"order-total",children:[0===E?"0.00z\u0142":E>=400?_:(parseFloat(_)+20).toFixed(2)," ","z\u0142"]})]})]}),(0,Jy.jsx)("button",{className:"place-order-btn",onClick:async()=>{if(Gy.currentUser)if(f&&m&&y&&w){x(!0);try{const r=Gy.currentUser.uid,i=await By(Mg(Zy,"users",r,"orders"),{orderDate:rc.now(),status:"processing",products:o.filter((e=>e.selected)),customer:e,deliveryMethod:y,paymentMethod:w,totalCost:_});await By(Mg(Zy,"userMessages",r,"messages"),{title:"Zam\xf3wienie z\u0142o\u017cone",content:"Twoje zam\xf3wienie zosta\u0142o przyj\u0119te i jest w realizacji.",status:"unread",orderId:i.id,createdAt:rc.now()});try{await((e,t,n)=>{const r={to_name:`${e.shippingAddress.costumerName} ${e.shippingAddress.costumerSurname}`,email:e.email,address:e.shippingAddress.address,city:e.shippingAddress.city,postal_code:e.shippingAddress.postalCode,products:t.map((e=>`${e.name} (${e.amount})`)).join(", "),total:`${n} z\u0142`};return zv("YOUR_SERVICE_ID","YOUR_TEMPLATE_ID",r,"YOUR_PUBLIC_KEY")})(e,o,_),console.log("Potwierdzenie zam\xf3wienia wys\u0142ane na email!")}catch(t){console.error("B\u0142\u0105d wysy\u0142ania maila:",t)}if(l([]),alert("Zam\xf3wienie zosta\u0142o z\u0142o\u017cone!"),S("/"),n({email:"",shippingAddress:{costumerName:"",costumerSurname:"",address:"",company:"",postalCode:"",city:"",phoneNumber:"",phonePrefix:"",selectedCount:"",totalCost:"",shipping:"",productImage:"",productName:"",productPrice:"",discountApplied:!1,discountValue:0},billingAddress:{costumerName:"",costumerSurname:"",address:"",company:"",postalCode:"",city:"",phoneNumber:"",nip:"",phonePrefix:"",selectedCount:"",totalCost:"",shipping:"",productImage:"",productName:"",productPrice:""},useDifferentBilling:!1}),"Revolut"===w){const e=`https://revolut.me/jj99flex/${parseFloat(_).toFixed(2)}pln`;return void window.open(e,"_blank")}}catch(d){console.error("B\u0142\u0105d przy sk\u0142adaniu zam\xf3wienia:",d),alert("Wyst\u0105pi\u0142 problem, spr\xf3buj ponownie.")}x(!1)}else alert("Uzupe\u0142nij wszystkie dane, aby z\u0142o\u017cy\u0107 zam\xf3wienie.");else alert("Musisz by\u0107 zalogowany, aby z\u0142o\u017cy\u0107 zam\xf3wienie!")},disabled:k,"aria-label":"Z\u0142\xf3\u017c zam\xf3wienie",children:k?"Przetwarzanie...":"Kup teraz"}),(0,Jy.jsx)("hr",{className:"order-line"})]}),(0,Jy.jsx)("hr",{className:"order-line"})]}),(0,Jy.jsx)(wv,{})]})]})},Ov=()=>(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsx)(lv,{}),(0,Jy.jsxs)("main",{className:"privacy-content",role:"document","aria-label":"Polityka Prywatno\u015bci FLOWMART",children:[(0,Jy.jsx)("h1",{children:"Polityka Prywatno\u015bci \u2013 FLOWMART"}),(0,Jy.jsxs)("section",{"aria-label":"Informacje podstawowe",children:[(0,Jy.jsx)("p",{className:"strong",children:"**Wersja:** 1.0"}),(0,Jy.jsx)("p",{className:"strong",children:"**Data:** 10 sierpnia 2025 r."}),(0,Jy.jsx)("p",{className:"strong",children:"**Dokument zgodny z RODO (GDPR), ustaw\u0105 o \u015bwiadczeniu us\u0142ug drog\u0105 elektroniczn\u0105, Prawem telekomunikacyjnym oraz ustaw\u0105 \u2013 Prawo konsumenckie. Niniejsza polityka uwzgl\u0119dnia umow\u0119 powierzenia przetwarzania danych osobowych zawart\u0105 z partnerami dropshippingowymi.**"}),(0,Jy.jsx)("hr",{})]}),(0,Jy.jsxs)("section",{"aria-label":"Administrator danych",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 1) Kim jeste\u015bmy (Administrator danych)"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. **Administrator danych (ADO):** Ring4U / Joachim Esangbedo"}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"2. **Adres:** Nowodworska 39/6, 54-433, Wroc\u0142aw, Polska"}),(0,Jy.jsxs)("li",{className:"li-privacy-polcy",children:["3. **E-mail kontaktowy:** ",(0,Jy.jsx)("a",{href:"mailto:privacy@flowmart.pl",children:"esangbedojoachim@gmail.com"})]}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"4. **Telefon :** 791881256"}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"5. **Inspektor Ochrony Danych (IOD):** Brak powo\u0142anego IOD / dane kontaktowe, je\u015bli powo\u0142any"})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Definicje skr\xf3cone",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 2) Definicje skr\xf3cone"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. **U\u017cytkownik** \u2013 osoba korzystaj\u0105ca z Serwisu, kt\xf3rej dane s\u0105 przetwarzane."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"2. **Dane osobowe** \u2013 informacje o zidentyfikowanej lub mo\u017cliwej do zidentyfikowania osobie, w tym dane kontaktowe, identyfikatory konta, dane zam\xf3wie\u0144, dane techniczne oraz preferencje u\u017cytkownika."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"3. **Przetwarzanie** \u2013 ka\u017cda operacja na danych osobowych, w tym zbieranie, przechowywanie, modyfikacja, udost\u0119pnianie, anonimizacja i usuwanie danych."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"4. **Cookies** \u2013 pliki tekstowe zapisywane w urz\u0105dzeniu u\u017cytkownika w celu prawid\u0142owego dzia\u0142ania Serwisu, analityki oraz marketingu za zgod\u0105 u\u017cytkownika."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Jakie dane przetwarzamy",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 3) Jakie dane przetwarzamy"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. Konto i logowanie: e-mail, UID, has\u0142o, status emailVerified."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"2. Zam\xf3wienia i obs\u0142uga klienta: imi\u0119, nazwisko, adres, e-mail, telefon, tre\u015b\u0107 zam\xf3wienia, historia p\u0142atno\u015bci."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"3. Newsletter: e-mail, data i godzina zapisu, status potwierdzenia, preferencje u\u017cytkownika."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"4. Dane techniczne i analityczne: adres IP, identyfikatory urz\u0105dzenia, logi serwera, cookies."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"5. Reklamacje, zwroty, spory."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"6. Dane dobrowolnie przekazane w formularzach kontaktowych i wiadomo\u015bciach."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Cele i podstawy prawne",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 4) Cele i podstawy prawne przetwarzania"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. Rejestracja i logowanie konta \u2013 art. 6 ust. 1 lit. b i f RODO."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"2. Realizacja zam\xf3wie\u0144 i p\u0142atno\u015bci \u2013 art. 6 ust. 1 lit. b i c RODO."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"3. Wysy\u0142ka, dostawa, obs\u0142uga zwrot\xf3w i reklamacji \u2013 art. 6 ust. 1 lit. b RODO oraz umowa powierzenia przetwarzania danych z partnerami dropshippingowymi."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"4. Kontakt i wsparcie klienta \u2013 art. 6 ust. 1 lit. f RODO."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"5. Newsletter \u2013 art. 6 ust. 1 lit. a RODO (zgoda u\u017cytkownika)."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"6. Analityka, statystyka i bezpiecze\u0144stwo \u2013 art. 6 ust. 1 lit. f RODO."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"7. Profilowanie rekomendacji produktowych \u2013 art. 6 ust. 1 lit. f i a RODO."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"8. Obrona roszcze\u0144 i archiwizacja dokumentacji \u2013 art. 6 ust. 1 lit. f i c RODO."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Obowi\u0105zek podania danych",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 5) Czy podanie danych jest obowi\u0105zkowe?"}),(0,Jy.jsx)("p",{children:"Podanie danych jest dobrowolne, jednak konieczne do korzystania z niekt\xf3rych us\u0142ug Serwisu, takich jak rejestracja konta, realizacja zam\xf3wie\u0144 oraz zapis do newslettera."})]}),(0,Jy.jsxs)("section",{"aria-label":"Odbiorcy danych",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 6) Odbiorcy danych"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. Dostawcy IT/Chmury: Firebase, SendGrid, z kt\xf3rymi mamy podpisan\u0105 umow\u0119 powierzenia przetwarzania danych."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"2. Operatorzy p\u0142atno\u015bci: PayU / Przelewy24 / Stripe, na podstawie um\xf3w powierzenia przetwarzania danych."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"3. Dostawcy / magazyny dropshipping: [nazwa], z kt\xf3rymi obowi\u0105zuje umowa powierzenia przetwarzania danych."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"4. Firmy kurierskie: InPost, DPD, DHL, w zakresie niezb\u0119dnym do realizacji zam\xf3wienia."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"5. Biuro rachunkowe, na podstawie umowy powierzenia danych."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"6. Organy publiczne, je\u017celi wymagaj\u0105 tego przepisy prawa."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Przekazywanie danych poza EOG",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 7) Przekazywanie danych poza EOG"}),(0,Jy.jsx)("ul",{children:(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. Google Firebase, SendGrid mog\u0105 przetwarza\u0107 dane w USA zgodnie ze standardowymi klauzulami umownymi (SCC) zatwierdzonymi przez Komisj\u0119 Europejsk\u0105. Szczeg\xf3\u0142owe informacje mo\u017cna znale\u017a\u0107 na stronach us\u0142ugodawc\xf3w."})})]}),(0,Jy.jsxs)("section",{"aria-label":"Okresy przechowywania danych",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 8) Okresy przechowywania danych"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. Konto: do usuni\u0119cia + 36 miesi\u0119cy."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"2. Zam\xf3wienia i dokumentacja ksi\u0119gowa: 5 lat."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"3. Newsletter: do wycofania zgody / 24 miesi\u0105ce."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"4. Dane w logach/analityce: 14\u201326 miesi\u0119cy."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"5. Reklamacje / korespondencja: 36 miesi\u0119cy."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Prawa u\u017cytkownika",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 9) Prawa u\u017cytkownika"}),(0,Jy.jsx)("ul",{children:(0,Jy.jsxs)("li",{className:"li-privacy-polcy",children:["1. Prawo dost\u0119pu, sprostowania, usuni\u0119cia, ograniczenia przetwarzania, przenoszenia danych, sprzeciwu, wycofania zgody, z\u0142o\u017cenia skargi do organu nadzorczego (UODO). \u017b\u0105dania mo\u017cna zg\u0142asza\u0107 mailowo na adres ",(0,Jy.jsx)("a",{href:"mailto:privacy@flowmart.pl",children:"privacy@flowmart.pl"}),". Odpowied\u017a zostanie udzielona w ci\u0105gu 30 dni."]})})]}),(0,Jy.jsxs)("section",{"aria-label":"Profilowanie",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 10) Zautomatyzowane podejmowanie decyzji / profilowanie"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. Profilowanie rekomendacji produkt\xf3w, segmentacja newslettera. U\u017cytkownik ma prawo sprzeciwu wobec profilowania w ka\u017cdej chwili."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"2. Nie wywo\u0142uje skutk\xf3w prawnych wobec u\u017cytkownika."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Bezpiecze\u0144stwo danych",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 11) Bezpiecze\u0144stwo danych"}),(0,Jy.jsx)("ul",{children:(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. HTTPS/TLS, kontrola dost\u0119pu i uwierzytelnianie, has\u0142a hash, minimalizacja danych, kopie zapasowe, monitoring, umowy powierzenia z procesorami, SCC dla transfer\xf3w poza EOG."})})]}),(0,Jy.jsxs)("section",{"aria-label":"\u0179r\xf3d\u0142o danych",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 12) Sk\u0105d mamy Twoje dane"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. Bezpo\u015brednio od u\u017cytkownika (formularze, zam\xf3wienia, konto)."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"2. Logowanie spo\u0142eczno\u015bciowe: Google, Facebook (zakres autoryzowany)."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Marketing i newsletter",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 13) Marketing i newsletter (double opt-in)"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. Wysy\u0142ka newslettera wy\u0142\u0105cznie za zgod\u0105."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"2. Ka\u017cda wiadomo\u015b\u0107 zawiera link do wypisania."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"3. Czasem wysy\u0142ane informacje o nowo\u015bciach, promocjach i wydarzeniach, nigdy spam."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Pliki cookies",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 14) Pliki cookies i podobne technologie"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. Niezb\u0119dne: sesja, koszyk, bezpiecze\u0144stwo."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"2. Funkcjonalne: preferencje, \u201eUlubione\u201d, ostatnio ogl\u0105dane."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"3. Analityczne: ruch, statystyki."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"4. Marketingowe: reklamy i retargeting \u2013 tylko za zgod\u0105."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"5. Zarz\u0105dzanie zgodami: baner cookie, ustawienia w stopce."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"P\u0142atno\u015bci",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 15) P\u0142atno\u015bci"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. Operatorzy zewn\u0119trzni."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"2. Serwis nie przechowuje pe\u0142nych danych kart."})]})]}),(0,Jy.jsxs)("section",{"aria-label":"Dostawa i dropshipping",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"## 16) Dostawa i dropshipping"}),(0,Jy.jsx)("ul",{children:(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. Dane minimalne do realizacji zam\xf3wie\u0144 przekazywane dostawcom i kurierom, zgodnie z umow\u0105 powierzenia przetwarzania danych."})})]}),(0,Jy.jsxs)("section",{"aria-label":"Newsletter i komunikacja marketingowa",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"### 17. Newsletter i komunikacja marketingowa"}),(0,Jy.jsxs)("ol",{children:[(0,Jy.jsxs)("li",{children:[(0,Jy.jsx)("strong",{children:" Dobrowolno\u015b\u0107"})," \u2013 Zapis na newsletter FLOWMART jest ca\u0142kowicie dobrowolny."]}),(0,Jy.jsxs)("li",{children:[(0,Jy.jsx)("strong",{children:" Brak spamu"})," \u2013 Nie rozsy\u0142amy spamu. Newsletter s\u0142u\u017cy wy\u0142\u0105cznie do przekazywania istotnych informacji zwi\u0105zanych ze sklepem."]}),(0,Jy.jsxs)("li",{children:[(0,Jy.jsx)("strong",{children:" Cz\u0119stotliwo\u015b\u0107"})," \u2013 Newsletter wysy\u0142any sporadycznie."]}),(0,Jy.jsxs)("li",{children:[(0,Jy.jsx)("strong",{children:" Rezygnacja"})," \u2013 W ka\u017cdej chwili mo\u017cna zrezygnowa\u0107 klikaj\u0105c link \u201eWypisz si\u0119\u201d."]}),(0,Jy.jsxs)("li",{children:[(0,Jy.jsx)("strong",{children:" Podstawa prawna"})," \u2013 Art. 6 ust. 1 lit. a RODO (zgoda osoby, kt\xf3rej dane dotycz\u0105)."]})]}),(0,Jy.jsx)("hr",{})]}),(0,Jy.jsxs)("section",{"aria-label":"Postanowienia ko\u0144cowe",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"### 18. Postanowienia ko\u0144cowe"}),(0,Jy.jsxs)("ol",{children:[(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"1. Polityka prywatno\u015bci wchodzi w \u017cycie z dniem 25 sierpnia 2025 r. i obowi\u0105zuje do odwo\u0142ania."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"2. Ring4U zastrzega sobie prawo do wprowadzania zmian w niniejszej polityce w przypadku zmiany przepis\xf3w prawa, technologii, sposobu dzia\u0142ania serwisu lub w celu lepszego zabezpieczenia danych u\u017cytkownik\xf3w."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"3. O wszelkich zmianach u\u017cytkownicy zostan\u0105 poinformowani poprzez odpowiedni komunikat na stronie g\u0142\xf3wnej sklepu lub mailowo (dla subskrybent\xf3w newslettera)."}),(0,Jy.jsx)("li",{className:"li-privacy-polcy",children:"4. W sprawach nieuregulowanych niniejsz\u0105 polityk\u0105 zastosowanie maj\u0105 przepisy prawa powszechnie obowi\u0105zuj\u0105cego, w szczeg\xf3lno\u015bci RODO oraz ustawy krajowe."})]}),(0,Jy.jsx)("hr",{})]}),(0,Jy.jsxs)("section",{"aria-label":"Za\u0142\u0105czniki i dokumenty uzupe\u0142niaj\u0105ce",children:[(0,Jy.jsx)("p",{className:"privacy-policy-pkt",children:"# Za\u0142\u0105czniki i dokumenty uzupe\u0142niaj\u0105ce"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsxs)("li",{className:"li-privacy-polcy",children:[(0,Jy.jsx)("strong",{children:"1. Za\u0142\u0105cznik A:"})," Wykaz podmiot\xf3w przetwarzaj\u0105cych dane."]}),(0,Jy.jsxs)("li",{className:"li-privacy-polcy",children:[(0,Jy.jsx)("strong",{children:"2. Za\u0142\u0105cznik B:"})," Wz\xf3r zgody newsletterowej (double opt\u2011in)."]}),(0,Jy.jsxs)("li",{className:"li-privacy-polcy",children:[(0,Jy.jsx)("strong",{children:"3. Za\u0142\u0105cznik C:"})," Polityka plik\xf3w cookies i narz\u0119dzi \u015bledz\u0105cych."]})]}),(0,Jy.jsx)("hr",{}),(0,Jy.jsxs)("p",{children:["**Kontakt w sprawie danych osobowych:** ",(0,Jy.jsx)("a",{href:"mailto:privacy@flowmart.pl",children:"esangbedojoachim@gmail.com"}),(0,Jy.jsx)("br",{}),"**Data ostatniej aktualizacji:** 25 sierpnia 2025 r."]})]})]}),(0,Jy.jsx)(cv,{})]}),Dv=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),c=ee(),u=e=>{const t=e.length>=8,n=/[A-Z]/.test(e),r=/[a-z]/.test(e),i=/\d/.test(e),a=/[!@#$%^&*(),.?":{}|<>]/.test(e);return t&&n&&r&&i&&a},d=e=>{if(!e||e.length>254||e.length<6)return!1;const t=e.split("@");if(2!==t.length)return!1;const[n,r]=t;if(!n||n.length>64)return!1;if(!r||r.length>254)return!1;if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+$/.test(n))return!1;if(!/^[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+$/.test(r))return!1;return!(r.substring(r.lastIndexOf(".")+1).length>24)&&!e.includes("..")};return(0,Jy.jsx)("main",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 120px)",width:"100%"},"aria-label":"Rejestracja u\u017cytkownika",children:(0,Jy.jsxs)("section",{className:"ui container",style:{width:"30%",maxWidth:"450px"},children:[(0,Jy.jsx)("h2",{className:"ui teal image header",style:{textAlign:"center"},"aria-level":"1",children:(0,Jy.jsx)("div",{className:"content",children:"Zarejestruj si\u0119"})}),(0,Jy.jsx)("form",{className:"ui large form",onSubmit:async e=>{e.preventDefault();try{const e=await async function(e,t,n){if(In(e.app))return Promise.reject(Xn(e));const r=ai(e),i=mi(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ui,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Xi(e),t})),s=await Vi._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}(Gy,a,o),n=e.user;try{await ta(n),alert("Rejestracja zako\u0144czona. Sprawd\u017a skrzynk\u0119 mailow\u0105 i potwierd\u017a adres.")}catch(t){console.error("B\u0142\u0105d wysy\u0142ania maila weryfikacyjnego:",t),alert("Rejestracja zako\u0144czona, ale nie uda\u0142o si\u0119 wys\u0142a\u0107 maila weryfikacyjnego.")}c("/login")}catch(n){console.error("b\u0142\u0105d rejestracji:",n.message),alert("B\u0142\u0105d: "+n.message)}},"aria-label":"Formularz rejestracyjny",children:(0,Jy.jsxs)("div",{className:"ui stacked segment",children:[(0,Jy.jsxs)("div",{className:"field",children:[(0,Jy.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email"}),(0,Jy.jsxs)("div",{className:"ui left icon input",children:[(0,Jy.jsx)("i",{className:"user icon","aria-hidden":"true"}),(0,Jy.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"Email",onChange:e=>{const n=e.target.value;s(n),t(d(n))},value:a,required:!0,"aria-invalid":!e,"aria-describedby":"emailHelp"})]}),!e&&(0,Jy.jsx)("p",{className:"name-error",id:"emailHelp",children:"Wpisz poprawny adres email"})]}),(0,Jy.jsxs)("div",{className:"field",style:{position:"relative"},children:[(0,Jy.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Has\u0142o"}),(0,Jy.jsxs)("div",{className:"ui icon input",children:[(0,Jy.jsx)("i",{className:"lock icon","aria-hidden":"true"}),(0,Jy.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Has\u0142o",onChange:e=>{const t=e.target.value;l(t),r(u(t))},value:o,required:!0,"aria-invalid":!n,"aria-describedby":"passwordHelp"})]}),!n&&(0,Jy.jsxs)("ul",{id:"passwordHelp",style:{marginTop:"0.5rem",fontSize:"0.9rem",color:"red"},children:[(0,Jy.jsx)("li",{style:{color:o.length>=8?"green":"red"},children:"\u2714 Min. 8 znak\xf3w"}),(0,Jy.jsx)("li",{style:{color:/[A-Z]/.test(o)?"green":"red"},children:"\u2714 Co najmniej jedna wielka litera (A-Z)"}),(0,Jy.jsx)("li",{style:{color:/[a-z]/.test(o)?"green":"red"},children:"\u2714 Co najmniej jedna ma\u0142a litera (a-z)"}),(0,Jy.jsx)("li",{style:{color:/\d/.test(o)?"green":"red"},children:"\u2714 Co najmniej jedna cyfra (0-9)"}),(0,Jy.jsx)("li",{style:{color:/[!@#$%^&*(),.?":{}|<>]/.test(o)?"green":"red"},children:"\u2714 Co najmniej jeden znak specjalny (!@#... itd.)"})]})]}),(0,Jy.jsx)("button",{type:"submit",className:"ui fluid large teal submit button",disabled:!e||!n,"aria-disabled":!e||!n,children:"Zarejestruj si\u0119"})]})}),(0,Jy.jsxs)("div",{className:"ui message",style:{textAlign:"center"},children:["Masz ju\u017c konto? ",(0,Jy.jsx)(je,{to:"/login",children:"zaloguj si\u0119"})]})]})})},Rv=()=>{const{selectedProducts:e,changeProductAmount:t,removeProduct:n,toggleProductSelection:r,selectAllProducts:a,deselectAllProducts:s}=(0,i.useContext)(ev),o=ee(),l=e.reduce(((e,t)=>{if(!t.selected)return e;return e+parseFloat(t.price.toString().replace(/[^\d.]/g,""))*(t.amount||1)}),0),c=e=>{n(e)},u=e.filter((e=>e.selected)).reduce(((e,t)=>e+(t.amount||1)),0);return(0,Jy.jsxs)("div",{className:"payment-box",role:"region","aria-label":"Koszyk u\u017cytkownika",children:[(0,Jy.jsxs)("div",{className:"payment-left beyond768a",children:[(0,Jy.jsx)("div",{className:"payment-left-title",children:"TW\xd3J KOSZYK"}),(0,Jy.jsxs)("p",{children:["\u0141\u0105cznie ",u," sztuk"," ",(0,Jy.jsxs)("span",{style:{fontWeight:"bold"},children:[0===l?"0.00z\u0142":l<400?l+20:l," ","z\u0142"]})]}),(0,Jy.jsx)("p",{className:"payment-text2",children:"Produkty w Twoim koszyku nie s\u0105 zarezerwowane - sfinalizuj zam\xf3wienie, aby zam\xf3wi\u0107"}),(0,Jy.jsxs)("div",{className:"payment-text3",children:[(0,Jy.jsx)("button",{className:"payment-accept-all",onClick:()=>{e.every((e=>e.selected))?s():a()},"aria-pressed":e.every((e=>e.selected)),"aria-label":"Zaznacz wszystkie produkty"}),"zaznacz wszystkie produkty"]}),(0,Jy.jsxs)("div",{className:"container",children:[e.map((e=>(0,Jy.jsxs)("div",{className:"product-add-segment ui segment",role:"group","aria-label":`Produkt ${e.name}`,children:[(0,Jy.jsx)("span",{className:"close",onClick:()=>c(e.id),role:"button",tabIndex:0,"aria-label":`Usu\u0144 ${e.name} z koszyka`,onKeyDown:t=>"Enter"===t.key&&c(e.id),children:"\xd7"}),(0,Jy.jsx)("img",{src:e.image,className:"segment-img",alt:e.name}),(0,Jy.jsx)("p",{className:"segment-product-name",children:e.name}),(0,Jy.jsx)("p",{className:"segment-product-price price",children:e.price}),(0,Jy.jsx)("div",{className:"amount-box",children:(0,Jy.jsxs)("div",{className:"segment-product-amount ui segment",children:[(0,Jy.jsxs)("label",{htmlFor:`amount-${e.id}`,className:"sr-only",children:["Ilo\u015b\u0107 produktu ",e.name]}),(0,Jy.jsx)("select",{id:`amount-${e.id}`,value:e.amount,onChange:n=>((e,n)=>{t(n,e.target.value)})(n,e.id),children:[...Array(10).keys()].map((e=>(0,Jy.jsx)("option",{value:e+1,children:e+1},e+1)))})]})}),(0,Jy.jsx)("span",{className:"payment-accept-box "+(e.selected?"selected":""),onClick:()=>r(e.id),role:"checkbox","aria-checked":e.selected,tabIndex:0,onKeyDown:t=>"Enter"===t.key&&r(e.id),"aria-label":`Zaznacz ${e.name}`,children:(0,Jy.jsx)("i",{className:"fa-solid fa-check"})})]},e.id+Math.random()))),(0,Jy.jsx)("button",{onClick:()=>o("/order-finalization"),className:"product-right-button3",style:{marginBottom:"30px",marginTop:"20px"},"aria-label":"Zako\u0144cz transakcj\u0119",children:"ZAKO\u0143CZ TRANZAKCJE"})]})]}),(0,Jy.jsxs)("div",{className:"payment-right hide-above768",children:[(0,Jy.jsx)("p",{className:"payment-right-title",children:"PODSUMOWANIE ZAM\xd3WIENIA"}),(0,Jy.jsxs)("p",{children:[" ",u," Produkty:"," ",(0,Jy.jsxs)("span",{className:"total-cost",children:[l.toFixed(2)," z\u0142"]})," "]}),(0,Jy.jsxs)("p",{children:["Dostawa:"," ",(0,Jy.jsx)("span",{className:"total-cost",children:0===l?"Za darmo":l<400?"20.00 z\u0142":"Za darmo"})]}),(0,Jy.jsx)("hr",{style:{border:"1px solid",backgroundColor:"black"}}),(0,Jy.jsxs)("p",{className:"payment-total-cost",children:["Razem:"," ",(0,Jy.jsxs)("span",{className:"total-cost",children:[0===l?"0.00z\u0142":l<400?l+20:l," ","z\u0142"," "]})]}),(0,Jy.jsxs)("p",{className:"including-taxes",children:["(\u0141\u0105cznie z podatkiem"," ",0!==l?(.23*l).toFixed(2):null," z\u0142 )"]}),(0,Jy.jsxs)("p",{children:[(0,Jy.jsx)("i",{className:"fa-solid fa-tags"})," Wpisz kod promocyjny"]}),(0,Jy.jsx)("button",{onClick:()=>o("/order-finalization"),className:"product-right-button2","aria-label":"Zako\u0144cz transakcj\u0119",children:"ZAKO\u0143CZ TRANZAKCJE"})]})]})},Lv=()=>{const e=ee();return(0,Jy.jsxs)("div",{className:"Payment-empty-cart",role:"region","aria-label":"Pusty koszyk",children:[(0,Jy.jsx)("h2",{className:"Payment-empty-title",role:"heading","aria-level":"2",children:"TW\xd3J KOSZYK JEST PUSTY"}),(0,Jy.jsx)("p",{className:"Payment-empty-p","aria-live":"polite",children:"Je\u015bli dodasz co\u015b do swojego koszyka, pojawi si\u0119 to tutaj."}),(0,Jy.jsx)("strong",{className:"payment-empty-strong","aria-label":"Zach\u0119ta do rozpocz\u0119cia zakup\xf3w",children:(0,Jy.jsx)("p",{className:"Payment-empty-p p2",children:" Chcesz teraz zacz\u0105\u0107?"})}),(0,Jy.jsx)("button",{className:"Payment-empty-button",onClick:()=>e("/"),"aria-label":"Rozpocznij zakupy",children:(0,Jy.jsx)("p",{className:"Payment-empty-text",children:"ZACZYNAMY"})})]})},Mv=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{(async()=>{if(!Gy.currentUser)return void r(!1);const e=Gy.currentUser.uid,n=Mg(Zy,"users",e,"orders");try{const e=Iy(n,Ay("orderDate","desc")),r=(await function(e){e=Jl(e,Dg);const t=Jl(e.firestore,qg),n=Wg(t),r=new $y(t);return Ey(e._query),Ig(n,e._query).then((n=>new Uy(t,r,e,n)))}(e)).docs.map((e=>({id:e.id,...e.data()})));t(r)}catch(i){console.error("B\u0142\u0105d pobierania zam\xf3wie\u0144:",i)}finally{r(!1)}})()}),[]),n?(0,Jy.jsx)("p",{role:"status",children:"\u0141adowanie zam\xf3wie\u0144..."}):e.length?(0,Jy.jsxs)("div",{children:[(0,Jy.jsx)("h2",{className:"my-order-title",children:"Moje zam\xf3wienia"}),(0,Jy.jsx)("ul",{role:"list",children:e.map((e=>{var t,n,r,i;const a=!!e.discountApplied,s=parseFloat(e.discountValue||0),o=(null===(t=e.products)||void 0===t?void 0:t.reduce(((e,t)=>e+parseFloat(t.price.replace(/[^\d,.]/g,"").replace(",","."))*t.amount),0))||0,l=a?(o*(1-s)).toFixed(2):o.toFixed(2);return(0,Jy.jsxs)("li",{className:"my-order-box",role:"listitem","aria-label":`Zam\xf3wienie ${e.id}, status ${e.status}`,children:[(0,Jy.jsxs)("p",{className:"my-order-p",children:[(0,Jy.jsx)("strong",{children:"ID zam\xf3wienia:"})," ",e.id]}),(0,Jy.jsxs)("p",{className:"my-order-p",children:[(0,Jy.jsx)("strong",{children:"Data zam\xf3wienia:"})," ",null===(n=e.orderDate)||void 0===n?void 0:n.toDate().toLocaleString()]}),(0,Jy.jsxs)("p",{className:"my-order-p",children:[(0,Jy.jsx)("strong",{children:"Data dostawy:"})," ",null===(r=e.deliveryDate)||void 0===r?void 0:r.toDate().toLocaleString()]}),(0,Jy.jsxs)("p",{className:"my-order-p",children:[(0,Jy.jsx)("strong",{children:"Status:"})," ",e.status]}),(0,Jy.jsxs)("p",{className:"my-order-p",children:[(0,Jy.jsx)("strong",{children:"Numer przesy\u0142ki:"})," ",e.trackingNumber]}),(0,Jy.jsxs)("p",{className:"my-order-p",children:[(0,Jy.jsx)("strong",{children:"Rabat:"})," ",a?100*s+"%":"Brak"]}),(0,Jy.jsxs)("p",{className:"my-order-p",children:[(0,Jy.jsx)("strong",{children:"\u0141\u0105czna kwota po rabacie:"})," ",l," z\u0142"]}),(0,Jy.jsx)("p",{className:"my-order-p",children:(0,Jy.jsx)("strong",{children:"Produkty:"})}),(0,Jy.jsx)("ul",{role:"list",children:null===(i=e.products)||void 0===i?void 0:i.map((e=>(0,Jy.jsxs)("li",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},role:"listitem","aria-label":`Produkt ${e.name}, ilo\u015b\u0107 ${e.amount}, cena ${e.price} z\u0142`,children:[(0,Jy.jsx)("img",{src:e.image,alt:e.name,style:{width:"60px",height:"60px",objectFit:"cover",marginRight:"10px",borderRadius:"5px"}}),(0,Jy.jsxs)("div",{children:[(0,Jy.jsxs)("p",{style:{margin:0},children:["Nazwa: ",(0,Jy.jsx)("span",{className:"order-total",children:e.name})," (x",(0,Jy.jsx)("span",{className:"order-total",children:e.amount}),")"]}),(0,Jy.jsxs)("p",{style:{margin:0},children:["Cena: ",(0,Jy.jsx)("span",{className:"order-total",children:e.price})," z\u0142"]})]})]},e.id)))})]},e.id)}))})]}):(0,Jy.jsx)("p",{role:"status",children:"Brak zam\xf3wie\u0144."})},Fv=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=Gy.onAuthStateChanged((e=>{r(e?e.uid:null)}));return()=>e()}),[]),(0,i.useEffect)((()=>{if(!n)return;const e=qy(Iy(Mg(Zy,"userMessages",n,"messages"),Ay("createdAt","desc")),(e=>{t(e.docs.map((e=>({id:e.id,...e.data()}))))}));return()=>e()}),[n]);const a=async e=>{if(!n)return;const t=Fg(Zy,"userMessages",n,"messages",e);var r;await(r=t,Hy(Jl(r.firestore,qg),[new Th(r._key,fh.none())]))},s=async e=>{if(!n)return;const t=Fg(Zy,"userMessages",n,"messages",e);await function(e,t,n){e=Jl(e,Rg);const r=Jl(e.firestore,qg),i=ay(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return a="string"==typeof(t=ft(t))||t instanceof Qg?uy(i,"updateDoc",e._key,t,n,o):cy(i,"updateDoc",e._key,t),Hy(r,[a.toMutation(e._key,fh.exists(!0))])}(t,{status:"read"})};return n?0===e.length?(0,Jy.jsx)("p",{role:"status",children:"Brak wiadomo\u015bci."}):(0,Jy.jsxs)("div",{className:"messages-wrapper",children:[(0,Jy.jsx)("h2",{className:"my-order-title",children:"Moje wiadomo\u015bci"}),(0,Jy.jsx)("div",{className:"messages-container",role:"list",children:e.map((e=>(0,Jy.jsxs)("div",{className:"message-item "+("unread"===e.status?"unread":"read"),role:"listitem","aria-label":`Wiadomo\u015b\u0107: ${e.title}, status: ${e.status}`,children:[(0,Jy.jsx)("h4",{className:"message-title",children:e.title}),(0,Jy.jsx)("p",{className:"message-content",children:e.content}),e.orderId&&(0,Jy.jsxs)("small",{className:"message-order",children:["Numer zam\xf3wienia: ",e.orderId]}),(0,Jy.jsxs)("p",{className:"message-status",children:["Status: ",e.status]}),(0,Jy.jsxs)("div",{className:"message-buttons",children:["unread"===e.status&&(0,Jy.jsx)("button",{className:"btn-read",onClick:()=>s(e.id),"aria-label":`Oznacz wiadomo\u015b\u0107 "${e.title}" jako przeczytan\u0105`,children:"Oznacz jako przeczytane"}),(0,Jy.jsx)("button",{className:"btn-delete",onClick:()=>a(e.id),"aria-label":`Usu\u0144 wiadomo\u015b\u0107 "${e.title}"`,children:"Usu\u0144"})]})]},e.id)))})]}):(0,Jy.jsx)("p",{role:"alert",children:"Musisz by\u0107 zalogowany, aby zobaczy\u0107 wiadomo\u015bci."})},Uv=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)("");return(0,Jy.jsxs)("div",{className:"password-wrapper",children:[(0,Jy.jsx)("h2",{className:"resset-password-h2","aria-label":"Zapomnia\u0142e\u015b has\u0142a?",children:"Zapomnia\u0142e\u015b has\u0142a?"}),(0,Jy.jsx)("input",{type:"email",placeholder:"Wpisz sw\xf3j e-mail",value:e,onChange:e=>t(e.target.value),"aria-label":"Email u\u017cytkownika"}),(0,Jy.jsx)("button",{onClick:async()=>{try{const t={url:"https://ring4u.pl/reset-password",handleCodeInApp:!1};await async function(e,t,n){const r=ai(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Ji(r,i,n),await mi(r,i,"getOobCode",_i,"EMAIL_PASSWORD_PROVIDER")}(Gy,e,t),r("Sprawd\u017a swoj\u0105 skrzynk\u0119 e-mail, aby zresetowa\u0107 has\u0142o.")}catch(t){r(`B\u0142\u0105d: ${t.message}`)}},"aria-label":"Wy\u015blij link resetuj\u0105cy has\u0142o",children:"Wy\u015blij link resetuj\u0105cy"}),n&&(0,Jy.jsx)("p",{"aria-live":"polite",children:n})]})},Vv=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(!0),[a,s]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=na(Gy,(e=>{s(e),r(!1)}));return()=>e()}),[]),n?null:a?(0,Jy.jsx)(me,{to:"/"}):t},$v=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(!0),[a,s]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=na(Gy,(e=>{s(e),r(!1)}));return()=>e()}),[]),n?null:a?t:(0,Jy.jsx)(me,{to:"/login",replace:!0})},Bv=()=>{const[e,t]=(0,i.useState)(null),n=n=>{t(e===n?null:n)};return(0,Jy.jsxs)("footer",{className:"footer ",role:"contentinfo","aria-label":"Stopka strony FlowMart",children:[(0,Jy.jsxs)("div",{className:"footer-container",children:[(0,Jy.jsxs)("div",{className:"footer-column","aria-label":"Menu",children:[(0,Jy.jsx)("button",{className:"footer-title","aria-expanded":"menu"===e,"aria-controls":"menu-links",onClick:()=>n("menu"),children:"Menu"}),(0,Jy.jsxs)("ul",{className:"footer-links "+("menu"===e?"active":""),id:"menu-links",role:"menu",children:[(0,Jy.jsx)("li",{role:"none",children:(0,Jy.jsx)(je,{to:"/",role:"menuitem",children:"Strona g\u0142\xf3wna"})}),(0,Jy.jsx)("li",{role:"none",children:(0,Jy.jsx)(je,{to:"/zakupy",role:"menuitem",children:"Zakupy"})}),(0,Jy.jsx)("li",{role:"none",children:(0,Jy.jsx)(je,{to:"/podlikolczyki",role:"menuitem",children:"Podlikolczyki"})}),(0,Jy.jsx)("li",{role:"none",children:(0,Jy.jsx)(je,{to:"/naszyjniki",role:"menuitem",children:"Naszyjniki"})}),(0,Jy.jsx)("li",{role:"none",children:(0,Jy.jsx)(je,{to:"/bransoletki",role:"menuitem",children:"Bransoletki"})})]})]}),(0,Jy.jsxs)("div",{className:"footer-column","aria-label":"Przydatne linki",children:[(0,Jy.jsx)("button",{className:"footer-title","aria-expanded":"links"===e,"aria-controls":"links-links",onClick:()=>n("links"),children:"Przydatne linki"}),(0,Jy.jsxs)("ul",{className:"footer-links "+("links"===e?"active":""),id:"links-links",role:"menu",children:[(0,Jy.jsx)("li",{role:"none",children:(0,Jy.jsx)(je,{to:"/terms-of-services",role:"menuitem",children:"Regulamin sklepu"})}),(0,Jy.jsx)("li",{role:"none",children:(0,Jy.jsx)(je,{to:"/privacypolicy",role:"menuitem",children:"Polityka prywatno\u015bci / RODO / Cookies"})}),(0,Jy.jsx)("li",{role:"none",children:(0,Jy.jsx)(je,{to:"/dostawa",role:"menuitem",children:"Dostawa"})})]})]}),(0,Jy.jsxs)("div",{className:"footer-column","aria-label":"Konto u\u017cytkownika",children:[(0,Jy.jsx)("button",{className:"footer-title","aria-expanded":"account"===e,"aria-controls":"account-links",onClick:()=>n("account"),children:"Konto"}),(0,Jy.jsxs)("ul",{className:"footer-links "+("account"===e?"active":""),id:"account-links",role:"menu",children:[(0,Jy.jsx)("li",{role:"none",children:(0,Jy.jsx)(je,{to:"/my-orders",role:"menuitem",children:"Moje zam\xf3wienia"})}),(0,Jy.jsx)("li",{role:"none",children:(0,Jy.jsx)(je,{to:"/my-dm",role:"menuitem",children:"Moje wiadomo\u015bci"})}),(0,Jy.jsx)("li",{role:"none",children:(0,Jy.jsx)(je,{to:"/payment",role:"menuitem",children:"Koszyk"})})]})]})]}),(0,Jy.jsx)("div",{className:"footer-bottom",children:(0,Jy.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," FlowMart. All rights reserved."]})})]})},qv=()=>{const[e,t]=(0,i.useState)(!1);(0,i.useEffect)((()=>{localStorage.getItem("cookieConsent")||setTimeout((()=>t(!0)),100)}),[]);return(0,Jy.jsx)(Jy.Fragment,{children:e&&(0,Jy.jsxs)("div",{className:"cookie-banner",role:"alert","aria-live":"polite",children:[(0,Jy.jsxs)("p",{children:["Nasza strona u\u017cywa plik\xf3w cookies w celach niezb\u0119dnych do dzia\u0142ania strony, analityki i marketingu. Mo\u017cesz zaakceptowa\u0107 wszystkie pliki cookies lub u\u017cywa\u0107 tylko niezb\u0119dnych. Wi\u0119cej informacji znajdziesz w ",(0,Jy.jsx)("a",{href:"/privacypolicy",children:"Polityce Prywatno\u015bci"}),"."]}),(0,Jy.jsxs)("div",{className:"cookie-buttons",children:[(0,Jy.jsx)("button",{className:"cookie-accept",onClick:()=>{localStorage.setItem("cookieConsent","accepted"),t(!1)},children:"Akceptuj\u0119"}),(0,Jy.jsx)("button",{className:"cookie-decline",onClick:()=>{localStorage.setItem("cookieConsent","declined"),t(!1)},children:"Tylko niezb\u0119dne"})]})]})})},Hv=e=>{let{visible:t,setVisible:n,products:r}=e;const a=ee(),{selectedProducts:s}=(0,i.useContext)(ev),o=s.reduce(((e,t)=>{if(!t.selected)return e;return e+parseFloat(t.price.toString().replace(/[^\d.]/g,""))*(t.amount||1)}),0);if(!t||0===r.length)return null;const l=s.filter((e=>e.selected)).reduce(((e,t)=>e+(t.amount||1)),0);return(0,Jy.jsxs)("section",{className:"container product-add",style:{display:"flex"},role:"dialog","aria-labelledby":"product-added-title","aria-modal":"true",children:[(0,Jy.jsx)("div",{id:"product-added-title",className:"product-title",children:"DODANO DO KOSZYKA!"}),(0,Jy.jsx)("button",{onClick:()=>{n(!1)},style:{cursor:"pointer"},"aria-label":"Zamknij podsumowanie koszyka",children:(0,Jy.jsx)("i",{className:"fa-solid fa-x"})}),(0,Jy.jsx)("div",{className:"container product-2",children:(0,Jy.jsxs)("div",{className:"row",children:[(0,Jy.jsx)("div",{className:"col-6",role:"region","aria-label":"Dodane produkty",children:r.map(((e,t)=>(0,Jy.jsxs)("article",{role:"group","aria-label":`${e.name}, cena ${e.price}`,children:[(0,Jy.jsx)("img",{src:e.image,className:"img-fluid product-img",alt:e.name}),(0,Jy.jsx)("div",{className:"product-name product-added-p",children:e.name}),(0,Jy.jsx)("div",{className:"product-price product-added-p",children:e.price})]},t)))}),(0,Jy.jsx)("div",{className:"col-6 border-start border-black border-1 custom-border",role:"region","aria-label":"Podsumowanie koszyka",children:(0,Jy.jsxs)("div",{className:"right",children:[(0,Jy.jsx)("p",{children:"Tw\xf3j koszyk"}),(0,Jy.jsxs)("p",{className:"product-added-p",children:[" ",l," Produkty "]}),(0,Jy.jsxs)("p",{className:"product-added-p",children:["Cena produkt\xf3w: ",(0,Jy.jsx)("span",{className:"product-added-cost",children:o})," z\u0142"]}),(0,Jy.jsxs)("p",{className:"product-added-p",children:["Dostawa:"," ",(0,Jy.jsx)("span",{className:"product-added-cost",children:0===o?"Za darmo":o<400?"20.00 z\u0142":"Za darmo"})]}),(0,Jy.jsx)("hr",{style:{border:"1px solid",backgroundColor:"black"}}),(0,Jy.jsxs)("p",{className:"product-added-p",children:["Razem:"," ",(0,Jy.jsxs)("span",{className:"product-added-cost",children:[(0,Jy.jsx)("span",{className:"product-added-cost-fwb",children:0===o?"Za darmo":o<400?o+20:o})," ","z\u0142"]})]}),(0,Jy.jsxs)("p",{className:"product-added-p",children:["(wraz z podatkiem ",0!==o?(.23*o).toFixed(2):null," z\u0142)"]}),(0,Jy.jsx)("button",{onClick:()=>{a("/payment")},className:"product-right-button","aria-label":"Przejd\u017a do koszyka",children:"ZOBACZ KOSZYK"})]})})]})})]})},Wv=[{id:1,name:"Produkt 1",price:"5 z\u0142",image:"/img/color_bar_for_header.png"},{id:2,name:"Produkt 2",price:"200 z\u0142",image:"/img/obrazek2.jpg"},{id:3,name:"Produkt 3",price:"300 z\u0142",image:"/img/obrazek3.jpg"},{id:4,name:"Produkt 4",price:"400 z\u0142",image:"/img/obrazek4.jpg"},{id:"KST3388",name:"Kolczyki 'Koniczynka' masa per\u0142owa",price:"99.99 z\u0142",image:"/img/Kolczyki koniczyna KST3388.jpg",url:"/product/KST3388",description:"Kolczyki ze stali szlachetnej platerowane 14-karatowym z\u0142otem, sztyft.\n  Eleganckie i stylowe kolczyki.\n\n  Wymiar kolczyk\xf3w: 1,3cm x 1,3cm \n  Wymiar kartonika: 5,5 cm x 6 cm\n  Waga: 4g netto / 6g brutto\n  Kolor: jasne z\u0142oto\n  Rodzaj zapi\u0119cia: sztyft\n\n  STAL CHIRURGICZNA jest odporna na warunki atmosferyczne, nie ulega korozji, nie rdzewieje, nie \u015bniedzieje.",material:"Stal szlachetna",color:"Jasne z\u0142oto",availability:"W magazynie",images:["/img/Kolczyki koniczyna KST3388.jpg"]},{id:"KST2982",name:"Kolczyki 'Wkr\u0119tki' poz\u0142acane",price:"99.99 z\u0142",image:"/img/Kolczyki wkr\u0119tki KST2982.jpg",url:"/product/KST2982",description:"Kolczyki damskie  platerowane z\u0142otem.\n  Eleganckie i stylowe kolczyki.\n\n  Wymiar kolczyk\xf3w: 0,7 cm cm x 0,7 cm \n  Wymiar kartonika: 6 cm x 5,5 cm \n  G\u0142\u0119boko\u015b\u0107: 0,1cm\n  Waga: 2 g netto / 3 g brutto\n  Kolor: jasne z\u0142oto\n  Rodzaj zapi\u0119cia: sztyft\n\n  STAL CHIRURGICZNA jest odporna na warunki atmosferyczne, nie ulega korozji, nie rdzewieje, nie \u015bniedzieje.",material:"Stal szlachetna",color:"Jasne z\u0142oto",availability:"W magazynie",images:["/img/Kolczyki wkr\u0119tki KST2982.jpg"]},{id:"KST3420",name:"Kolczyki 'Sztyft' per\u0142a",price:"99.99 z\u0142",image:"/img/Kolczyki per\u0142a KST3420.jpg",url:"/product/KST3420",description:"Kolczyki ze stali szlachetnej platerowane 14-karatowym z\u0142otem, sztyft.\n  Eleganckie i stylowe kolczyki.\n\n  Wymiar kolczyk\xf3w: 0,8 cm x 0,8 cm\n  Wymiar kartonika: 5,5 cm x 6 cm\n  Waga: 1 g netto / 3 g brutto\n  Kolor: jasne z\u0142oto\n  Rodzaj zapi\u0119cia: sztyft\n\n  STAL CHIRURGICZNA jest odporna na warunki atmosferyczne, nie ulega korozji, nie rdzewieje, nie \u015bniedzieje.",material:"Stal szlachetna",color:"Jasne z\u0142oto",availability:"W magazynie",images:["/img/Kolczyki per\u0142a KST3420 3zdj.jpg","/img/Koniczynka czarna KST3419-3zdj.jpg","/img/Koniczynka czarna KST3419_2.jpg"]},{id:"KST3419",name:"Kolczyki 'Koniczynka' czarna",price:"99.99 z\u0142",image:"/img/Koniczynka czarna KST3419.jpg",url:"/product/KST3419",description:"Kolczyki ze stali szlachetnej platerowane 14-karatowym z\u0142otem, sztyft.\nEleganckie i stylowe kolczyki.\n\nWymiar kolczyk\xf3w: 1,1cm x 1,1cm\nWymiar kartonika: 5,5 cm x 6 cm\nWaga: 2g netto / 6g brutto\nKolor: jasne z\u0142oto\nRodzaj zapi\u0119cia: sztyft\n\nSTAL CHIRURGICZNA jest odporna na warunki atmosferyczne, nie ulega korozji, nie rdzewieje, nie \u015bniedzieje.",material:"Stal szlachetna",color:"Jasne z\u0142oto",availability:"W magazynie",images:["/img/Koniczynka czarna KST3419.jpg","/img/Koniczynka czarna KST3419-3zdj.jpg","/img/Koniczynka czarna KST3419_2.jpg"]}],Kv=()=>{const{selectedProducts:e,addProduct:t}=(0,i.useContext)(ev),[n,r]=(0,i.useState)(!1),[a,s]=(0,i.useState)(null);return(0,Jy.jsxs)("section",{id:"product",className:"container",role:"region","aria-label":"Lista produkt\xf3w",children:[(0,Jy.jsx)("div",{className:"row",children:Wv.map((e=>(0,Jy.jsxs)("article",{className:"col-6 col-md-3 mb-4 product",role:"group","aria-label":`${e.name}, cena ${e.price}`,children:[(0,Jy.jsx)("img",{src:e.image,className:"img-fluid",alt:e.name}),(0,Jy.jsx)("h5",{children:(0,Jy.jsx)(je,{to:e.url,style:{textDecoration:"none",color:"inherit"},children:e.name})}),(0,Jy.jsx)("p",{children:e.price}),(0,Jy.jsxs)("button",{onClick:()=>(e=>{t(e),s(e),r(!0)})(e),"aria-label":`Dodaj ${e.name} do koszyka`,children:[(0,Jy.jsx)("i",{className:"fa-solid fa-cart-shopping"})," DODAJ DO KOSZYKA"]})]},e.id)))}),n&&a&&(0,Jy.jsx)(Hv,{visible:n,setVisible:r,products:[a]})]})},Gv=e=>{let{products:t}=e;const{productId:n}=function(){let{matches:e}=i.useContext(Q),t=e[e.length-1];return t?t.params:{}}(),{addProduct:r}=(0,i.useContext)(ev),[a,s]=(0,i.useState)(!1),o=t.find((e=>e.id.toString()===n));if(!o)return(0,Jy.jsx)("p",{className:"text-center mt-5",children:"Produkt nie znaleziony"});return(0,Jy.jsxs)("section",{className:"product-detail container my-5",children:[(0,Jy.jsxs)("div",{className:"row g-4",children:[(0,Jy.jsx)("div",{className:"col-md-6 product-image-wrapper",children:(0,Jy.jsx)("img",{src:o.image,alt:o.name,className:"img-fluid product-image rounded shadow-sm"})}),(0,Jy.jsxs)("div",{className:"col-md-6 product-info",children:[(0,Jy.jsx)("h1",{className:"product-title mb-3",children:o.name}),(0,Jy.jsx)("p",{className:"product-price h3 mb-4",children:o.price}),(0,Jy.jsxs)("div",{className:"product-description mb-4",children:[(0,Jy.jsx)("h5",{children:"Opis produktu:"}),(0,Jy.jsx)("p",{children:o.description})]}),(0,Jy.jsxs)("div",{className:"product-details",children:[(0,Jy.jsx)("h5",{children:"Szczeg\xf3\u0142y:"}),(0,Jy.jsxs)("ul",{children:[(0,Jy.jsxs)("li",{children:["Materia\u0142: ",o.material]}),(0,Jy.jsxs)("li",{children:["Kolor: ",o.color]}),(0,Jy.jsxs)("li",{children:["Dost\u0119pno\u015b\u0107: ",o.availability]})]})]}),(0,Jy.jsxs)("button",{className:"btn btn-primary btn-lg mb-4 product-add-btn",onClick:()=>{r(o),s(!0)},children:[(0,Jy.jsx)("i",{className:"fa-solid fa-cart-shopping me-2"})," Dodaj do koszyka"]})]})]}),a&&(0,Jy.jsx)(Hv,{visible:a,setVisible:s,products:[o]})]})};function Qv(e){let{children:t}=e;return(0,Jy.jsxs)(Jy.Fragment,{children:[(0,Jy.jsx)(rv,{}),(0,Jy.jsx)(lv,{}),(0,Jy.jsx)(gv,{}),t]})}function Yv(){return(0,Jy.jsxs)(ve,{children:[(0,Jy.jsx)(ge,{path:"/",element:(0,Jy.jsxs)(Qv,{children:[(0,Jy.jsx)(uv,{}),(0,Jy.jsx)(Kv,{}),(0,Jy.jsx)(Bv,{})]})}),(0,Jy.jsx)(ge,{path:"/login",element:(0,Jy.jsx)(Vv,{children:(0,Jy.jsx)(Qv,{children:(0,Jy.jsx)(pv,{})})})}),(0,Jy.jsx)(ge,{path:"/reset-password",element:(0,Jy.jsx)(Vv,{children:(0,Jy.jsx)(Qv,{children:(0,Jy.jsx)(dv,{})})})}),(0,Jy.jsx)(ge,{path:"/forgot-password",element:(0,Jy.jsx)(Vv,{children:(0,Jy.jsx)(Qv,{children:(0,Jy.jsx)(Uv,{})})})}),(0,Jy.jsx)(ge,{path:"/my-orders",element:(0,Jy.jsxs)($v,{children:[(0,Jy.jsx)(Qv,{children:(0,Jy.jsx)(Mv,{})}),(0,Jy.jsx)(Bv,{})]})}),(0,Jy.jsx)(ge,{path:"/terms-of-services",element:(0,Jy.jsxs)($v,{children:[(0,Jy.jsx)(Qv,{children:(0,Jy.jsx)(fv,{})}),(0,Jy.jsx)(Bv,{})]})}),(0,Jy.jsx)(ge,{path:"/product/:productId",element:(0,Jy.jsxs)(Qv,{children:[(0,Jy.jsx)(Gv,{products:Wv}),(0,Jy.jsx)(Bv,{})]})}),(0,Jy.jsx)(ge,{path:"/my-dm",element:(0,Jy.jsxs)($v,{children:[(0,Jy.jsx)(Qv,{children:(0,Jy.jsx)(Fv,{})}),(0,Jy.jsx)(Bv,{})]})}),(0,Jy.jsx)(ge,{path:"/forgot-password",element:(0,Jy.jsx)(Qv,{children:(0,Jy.jsx)(Uv,{})})}),(0,Jy.jsx)(ge,{path:"/payment",element:(0,Jy.jsx)(Qv,{children:(0,Jy.jsx)(Zv,{})})}),(0,Jy.jsx)(ge,{path:"/privacypolicy",element:(0,Jy.jsxs)(Qv,{children:[(0,Jy.jsx)(Ov,{}),(0,Jy.jsx)(Bv,{})]})}),(0,Jy.jsx)(ge,{path:"/order-finalization",element:(0,Jy.jsx)(Pv,{})}),(0,Jy.jsx)(ge,{path:"/registeremail",element:(0,Jy.jsx)(Dv,{})})]})}function Zv(){const{selectedProducts:e}=i.useContext(ev);return 0===e.length?(0,Jy.jsx)(Lv,{}):(0,Jy.jsx)(Rv,{})}const Jv=function(){return(0,Jy.jsx)(vv,{children:(0,Jy.jsx)(tv,{children:(0,Jy.jsxs)(Ie,{children:[(0,Jy.jsxs)("div",{className:"page-wrapper",children:[(0,Jy.jsx)("main",{className:"main-content",children:(0,Jy.jsx)(Yv,{})}),(0,Jy.jsx)(cv,{})]}),(0,Jy.jsx)(qv,{})]})})})},Xv=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)}))};s.createRoot(document.getElementById("root")).render((0,Jy.jsx)(i.StrictMode,{children:(0,Jy.jsx)(Jv,{})})),Xv()})();
//# sourceMappingURL=main.1204dc97.js.map